"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[454],{31454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$t});var r=n(67294),a=n(41120),i=n(48623),l=n(29525),o=n(66856),u=n(282),c=n(22318),s=n(41749),f=n(36253),p=n(44845),m=n(89762),h=n.n(m);function d(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){d(i,r,a,l,o,"next",e)}function o(e){d(i,r,a,l,o,"throw",e)}l(void 0)}))}}function v(e,t){return new Promise((function(n,r){null!=t&&t.active?requestAnimationFrame(g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,e();case 3:n();case 4:case"end":return t.stop()}}),t)})))):setTimeout(g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,e();case 3:n();case 4:case"end":return t.stop()}}),t)}))),0)}))}function y(e,t,n,r){function a(e){var t=(0|e).toString(16);return 1==t.length?"0"+t:t}return"#".concat(a(255*e)).concat(a(255*t)).concat(a(255*n))}function b(e,t,n,r){return"rgba(".concat(255*e|0,", ").concat(255*t|0,", ").concat(255*n|0,", ").concat(null!=r?r:1,")")}function E(e,t,n){return[e/255,t/255,n/255,1]}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){w(i,r,a,l,o,"next",e)}function o(e){w(i,r,a,l,o,"throw",e)}l(void 0)}))}}function Z(e,t,n,r){return C.apply(this,arguments)}function C(){return(C=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,l,o,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return");case 2:return(i=document.createElement("canvas")).width=r*Math.min(t.width,t.height),i.height=i.width,e.next=7,a(i);case 7:l=(n[0]+1)*(t.width/2),o=(n[1]+1)*(t.height/2),u=i.width/2,(c=t.getContext("2d")).save(),c.beginPath(),c.arc(l,o,u,0,2*Math.PI,!0),c.closePath(),c.clip(),c.drawImage(i,l-u,o-u,i.width,i.height),c.restore();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,r){return A.apply(this,arguments)}function A(){return(A=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,l,o,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r[0]&&0!==r[1]){e.next=2;break}return e.abrupt("return");case 2:return(i=document.createElement("canvas")).width=r[0]*t.width,i.height=r[1]*t.height,e.next=7,a(i);case 7:l=[n[0]-r[0],n[1]-r[1]],o=(l[0]+1)/2*t.width,u=(l[1]+1)/2*t.height,(c=t.getContext("2d")).save(),c.beginPath(),c.rect(o,u,i.width,i.height),c.closePath(),c.clip(),c.drawImage(i,o,u,i.width,i.height),c.restore();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){var n,r=e.getContext("2d");r.save(),r.globalAlpha=t[3],r.fillStyle=y.apply(void 0,function(e){if(Array.isArray(e))return S(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.fillRect(0,0,e.width,e.height),r.restore()}function O(e,t,n){return R.apply(this,arguments)}function R(){return(R=x(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getContext("2d"),(i=document.createElement("canvas")).width=t.width,i.height=t.height,e.next=6,r(i);case 6:a.save(),a.translate(i.width/2,i.height/2),a.rotate(.0174533*n),a.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),a.restore();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}function j(e,t,n){return F.apply(this,arguments)}function F(){return(F=x(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.getContext("2d")).save(),a.globalAlpha=a.globalAlpha*n,e.next=5,r(t);case 5:a.restore();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r){return W.apply(this,arguments)}function W(){return(W=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,l,o,u,c,s,f,p,m,h,d,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(i=r.stageLengths)&&void 0!==i?i:[15,15,15,15],o=l.reduce((function(e,t){return e+t}),0),u=n%o,(c=document.createElement("canvas")).width=t.width,c.height=t.height,e.next=8,a(c);case 8:s=t.getContext("2d"),u<l[0]||(l[0]>0&&u<l[0]+l[1]?(s.save(),s.globalAlpha=(null!==(f=null===(p=r.style)||void 0===p?void 0:p.alpha)&&void 0!==f?f:1)*(u-l[1])/l[1],s.drawImage(c,0,0,c.width,c.height),s.restore()):l[1]>0&&u<l[0]+l[1]+l[2]?(s.save(),s.globalAlpha=null!==(m=null===(h=r.style)||void 0===h?void 0:h.alpha)&&void 0!==m?m:1,s.drawImage(c,0,0,c.width,c.height),s.restore()):l[2]>0&&u<l[0]+l[1]+l[2]+l[3]&&(v=u-(l[0]+l[1]+ +l[2]),s.save(),s.globalAlpha=(null!==(d=null===(g=r.style)||void 0===g?void 0:g.alpha)&&void 0!==d?d:1)*(l[3]-v)/l[3],s.drawImage(c,0,0,c.width,c.height),s.restore()));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){T(e,t,{stageLengths:n.stageLengths},function(){var e=x(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(t,null!==(r=null===(a=n.style)||void 0===a?void 0:a.backgroundColor)&&void 0!==r?r:[1,1,1,1]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n,r,a,i,l,o,u,c,s=e.getContext("2d"),f=e,p=t.image,m=f.width/(p.width+(null!==(n=null==t||null===(r=t.styles)||void 0===r?void 0:r.padding)&&void 0!==n?n:0)),h=f.height/(p.height+(null!==(a=null==t||null===(i=t.styles)||void 0===i?void 0:i.padding)&&void 0!==a?a:0)),d=(u=m>h?[f.width,p.height*m|0]:[p.width*h,f.height],c=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(u,c)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(u,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=d[0],v=d[1];s.save(),s.globalAlpha=null!==(l=null===(o=t.styles)||void 0===o?void 0:o.alpha)&&void 0!==l?l:1,s.drawImage(p,(f.width-g)/2,(f.height-v)/2,g,v),s.restore()}function M(e){return new Promise((function(t){var n=new Image;n.addEventListener("load",(function e(){n.removeEventListener("load",e),t(n)})),n.crossOrigin="Anonymous",n.src=e}))}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}E(178,76,229),E(80,200,120),E(175,237,152),E(246,240,224),E(255,223,0),E(255,209,219),E(204,141,205),E(255,192,203),E(255,20,147),E(255,0,255),E(255,255,0),E(127,0,0),E(0,255,255),E(255,0,0),E(0,255,0),E(1,1,1),E(127,127,127),E(255,255,255),E(213,172,119),E(0,0,255),E(152,251,237),E(173,216,230),E(204,204,255),E(137,207,240),E(100,149,237),E(7,42,108),E(245,118,26),E(253,103,58),E(255,140,0),E(227,74,39),E(255,241,215),E(64,0,255);var X=function(){function e(t){var n,r;z(this,e),this.canvas=t,this.gl=null!==(n=null!==(r=t.getContext("webgl"))&&void 0!==r?r:t.getContext("experimental-webgl"))&&void 0!==n?n:function(){throw new Error("")}()}return Y(e,[{key:"ref",value:function(){return this.gl}},{key:"createBuffer",value:function(){var e=this.gl.createBuffer();if(null==e)throw new Error("");return new _(this.gl,e)}},{key:"createProgram",value:function(e,t){var n=this.gl.createProgram();if(null==n)throw new Error("");var r=this.createShader(e,this.gl.VERTEX_SHADER);this.gl.attachShader(n,r),this.gl.deleteShader(r);var a=this.createShader("precision highp float;\n\n"+t,this.gl.FRAGMENT_SHADER);if(this.gl.attachShader(n,a),this.gl.deleteShader(a),this.gl.linkProgram(n),!this.gl.getProgramParameter(n,this.gl.LINK_STATUS))throw new Error("VALIDATE_STATUS: ".concat(this.gl.getProgramParameter(n,this.gl.VALIDATE_STATUS)," ERROR: ").concat(this.gl.getError()));return new H(this.gl,n)}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT),this.gl.clearColor(0,0,0,1)}},{key:"render",value:function(e,t){var n=this,r=e.ref();this.gl.useProgram(r),Object.keys(t).forEach((function(e){var a=t[e],i=n.gl.getUniformLocation(r,e);if(i)if(Array.isArray(a))switch(a.length){case 2:n.gl.uniform2f(i,a[0],a[1]);break;case 3:n.gl.uniform3f(i,a[0],a[1],a[2]);break;case 4:n.gl.uniform4f(i,a[0],a[1],a[2],a[3])}else n.gl.uniform1f(i,a)})),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}},{key:"createShader",value:function(e,t){var n=this.gl.createShader(t);if(null==n)throw new Error("");if(this.gl.shaderSource(n,e),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))throw new Error((t==this.gl.VERTEX_SHADER?"VERTEX":"FRAGMENT")+" SHADER:\n"+this.gl.getShaderInfoLog(n));return n}},{key:"width",value:function(){return this.canvas.clientWidth}},{key:"height",value:function(){return this.canvas.clientHeight}}]),e}(),H=function(){function e(t,n){z(this,e),U(this,"destroyed",!1),this.gl=t,this.program=n}return Y(e,[{key:"ref",value:function(){return this.program}},{key:"ok",value:function(){return!this.destroyed}},{key:"destroy",value:function(){this.gl.deleteProgram(this.program),this.destroyed=!0}}]),e}(),_=function(){function e(t,n){z(this,e),U(this,"destroyed",!1),this.gl=t,this.buffer=n}return Y(e,[{key:"ref",value:function(){return this.buffer}},{key:"ok",value:function(){return!this.destroyed}},{key:"bind",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(0,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(0)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.buffer),this.destroyed=!0}}]),e}();function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){V(i,r,a,l,o,"next",e)}function o(e){V(i,r,a,l,o,"throw",e)}l(void 0)}))}}function J(e,t,n){var r,a,i,l,o,u,c,s,f,p,m=n.shader[2];m.width=e.width,m.height=e.height;var h=new X(m),d={time:t/(null!==(r=n.fps)&&void 0!==r?r:60),rotation:1,direction:1,branchCount:4,resolution:[m.width,m.height],aspect:m.width>m.height?[m.width/m.height,1]:[1,m.height/m.width],bgColor:null!==(a=null===(i=n.colors)||void 0===i?void 0:i.bgColor)&&void 0!==a?a:[0,0,0,0],fgColor:null!==(l=null===(o=n.colors)||void 0===o?void 0:o.fgColor)&&void 0!==l?l:[1,1,1,1],pulseColor:null!==(u=null===(c=n.colors)||void 0===c?void 0:c.pulseColor)&&void 0!==u?u:[178/255,76/255,229/255,1],dimColor:null!==(s=null===(f=n.colors)||void 0===f?void 0:f.dimColor)&&void 0!==s?s:[0,0,0,1]};h.clear(),n.shader[0].bind(),h.render(n.shader[1],d),null===(p=e.getContext("2d"))||void 0===p||p.drawImage(m,0,0,e.width,e.height)}function K(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=G(regeneratorRuntime.mark((function e(t,n,r){var a,i,l,o,u,c,s,f,p,m,h,d,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=q(t,2),i=a[0],l=a[1],(o=document.createElement("canvas")).width=i,o.height=l,u=new X(o),c=fetch(n).then((function(e){return e.text()})),s=fetch(r).then((function(e){return e.text()})),e.next=9,Promise.all([c,s]);case 9:return f=e.sent,p=q(f,2),m=p[0],h=p[1],(d=u.createBuffer()).ok()||console.error("failed to create buffer"),(g=u.createProgram(m,h)).ok()||console.error("failed to create program"),e.abrupt("return",[d,g,o]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return((1048320&function(e,t){t|=0;var n=function(e,t){return t^t>>e};return t*=3039394381,t=n(8,t+=e=e),t=function(e,t){return t^t<<8}(0,t+=1759714724),n(8,t*=458671337)}(e,t))>>8)/4095}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){ae(i,r,a,l,o,"next",e)}function o(e){ae(i,r,a,l,o,"throw",e)}l(void 0)}))}}function le(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n,r,a,i,l,o,u,c,s,f,p,m,h,d,g,v,b,E,S,w,x,Z,C,k,A=t.value,P=t.style,O=[e.width,e.height],R=Math.min(Math.max(12,Math.min.apply(Math,O)/12.5),256)*(null!==(n=null==P?void 0:P.size)&&void 0!==n?n:1),I=0+(null!==(r=null==P?void 0:P.offsetX)&&void 0!==r?r:0),j=0+(null!==(a=null==P?void 0:P.offsetY)&&void 0!==a?a:0);switch(null!==(i=null==P?void 0:P.align)&&void 0!==i?i:"center"){case"left":I=-.95+(null!==(l=null==P?void 0:P.offsetX)&&void 0!==l?l:0);break;case"right":I=.95+(null!==(o=null==P?void 0:P.offsetX)&&void 0!==o?o:0);break;case"center":j=0+(null!==(u=null==P?void 0:P.offsetY)&&void 0!==u?u:0);break;case"top":j=-.95+(null!==(c=null==P?void 0:P.offsetY)&&void 0!==c?c:0);break;case"bottom":j=.95+(null!==(s=null==P?void 0:P.offsetY)&&void 0!==s?s:0);break;case"top-left":I=-.95+(null!==(f=null==P?void 0:P.offsetX)&&void 0!==f?f:0),j=-.95+(null!==(p=null==P?void 0:P.offsetY)&&void 0!==p?p:0);break;case"top-right":I=.95+(null!==(m=null==P?void 0:P.offsetX)&&void 0!==m?m:0),j=-.95+(null!==(h=null==P?void 0:P.offsetY)&&void 0!==h?h:0);break;case"bottom-left":I=-.95+(null!==(d=null==P?void 0:P.offsetX)&&void 0!==d?d:0),j=.95+(null!==(g=null==P?void 0:P.offsetY)&&void 0!==g?g:0);break;case"bottom-right":I=.95+(null!==(v=null==P?void 0:P.offsetX)&&void 0!==v?v:0),j=.95+(null!==(b=null==P?void 0:P.offsetY)&&void 0!==b?b:0)}var F=e.getContext("2d");F.save(),F.textBaseline="top",F.font="".concat(R,"px ").concat((null!==(E=null==P?void 0:P.fonts)&&void 0!==E?E:["Uni Sans Heavy","Roboto","Helvetica","Arial","sans-serif"]).join(", "));var T=F.measureText(A),W=(1+I)/2*e.width-T.width/2,D=(1+j)/2*e.height-R/2;W<10?(W=10,F.textAlign="left"):W+T.width>=e.width-10?(W=e.width-T.width-10,F.textAlign="left"):(F.textAlign="center",W=(1+I)/2*e.width),D<10?D=10:D+R/2>=e.height-R-10&&(D=e.height-R-10);var L=y.apply(void 0,le(null!==(S=null==P||null===(w=P.fillColor)||void 0===w?void 0:w.slice(0,3))&&void 0!==S?S:[1,1,1])),B=y.apply(void 0,le(null!==(x=null==P||null===(Z=P.strokeColor)||void 0===Z?void 0:Z.slice(0,3))&&void 0!==x?x:[1/256,1/256,1/256]));F.lineWidth=null!==(C=null==P?void 0:P.lineWidth)&&void 0!==C?C:Math.max(null!==(k=null==P?void 0:P.size)&&void 0!==k?k:1,1),F.fillStyle=L,B!=L&&(F.strokeStyle=B),F.fillText(A,W,D),B!=L&&F.strokeText(A,W,D),F.restore()}function ce(e,t,n){var r;if(0!==n.text.length){var a=(null!==(r=n.stageLengths)&&void 0!==r?r:[15,15,15,15]).reduce((function(e,t){return e+t}),0),i=t/a|0,l=function(e){var t=0,n=0;if(0===e.length)return t;for(n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(n.text.reduce((function(e,t){return"".concat(e,":").concat(t)}),"")),o=n.text[(t/a|0)%n.text.length],u=2*ee(l,2*i)-1,c=2*ee(l,2*i+1)-1;T(e,t,{stageLengths:n.stageLengths},function(){var e=ie(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(t,{value:o,style:ne(ne({},null!==(r=n.style)&&void 0!==r?r:{}),{},{align:"center",offsetX:u,offsetY:c})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}function se(e,t,n){var r,a,i;if(0!==n.text.length){var l=(null!==(r=n.stageLengths)&&void 0!==r?r:[15,15,15,15]).reduce((function(e,t){return e+t}),0),o=null!=(null===(a=n.style)||void 0===a?void 0:a.align)?n.style.align[null!==(i=(t/l|0)%n.style.align.length)&&void 0!==i?i:1]:"center",u=n.text[(t/l|0)%n.text.length];T(e,t,{stageLengths:n.stageLengths},function(){var e=ie(regeneratorRuntime.mark((function e(t){var r,a,i,l,c,s,f,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(t,{value:u,style:ne(ne(ne({lineWidth:null===(r=n.style)||void 0===r?void 0:r.lineWidth},null!=(null===(a=n.style)||void 0===a?void 0:a.fillColor)?{fillColor:n.style.fillColor}:{}),null!=(null===(i=n.style)||void 0===i?void 0:i.strokeColor)?{strokeColor:n.style.strokeColor}:{}),{},{bold:null===(l=n.style)||void 0===l?void 0:l.bold,size:null!==(c=null===(s=n.style)||void 0===s?void 0:s.size)&&void 0!==c?c:1,align:o,fonts:null===(f=n.style)||void 0===f?void 0:f.fonts,offsetX:null===(p=n.style)||void 0===p?void 0:p.offsetX,offsetY:null===(m=n.style)||void 0===m?void 0:m.offsetY})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){me(i,r,a,l,o,"next",e)}function o(e){me(i,r,a,l,o,"throw",e)}l(void 0)}))}}function de(e,t,n){return ge.apply(this,arguments)}function ge(){return(ge=he(regeneratorRuntime.mark((function e(t,n,r){var a,i,l,o,u,c,s,f,p,m,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(a=r.fps)&&void 0!==a?a:60,l=r.video,o=t.getContext("2d"),u=t.width/l.videoWidth,c=t.height/l.videoHeight,s=t.width>t.height?[t.width,l.videoHeight*u|0]:[l.videoWidth*c,t.height],f=fe(s,2),p=f[0],m=f[1],h=Math.ceil(l.duration*i),d=n%h/h*l.duration,l.currentTime=d,e.next=12,new Promise((function(e){l.addEventListener("canplay",(function t(){l.removeEventListener("canplay",t),e()}))}));case 12:o.drawImage(l,(t.width-p)/2,(t.height-m)/2,p,m);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return new Promise((function(t){var n=document.createElement("video");n.addEventListener("loadeddata",(function e(){n.removeEventListener("loadeddata",e),t(n)})),n.loop=!0,n.crossOrigin="Anonymous",n.src=e}))}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ze(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw i}}}}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||Ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){ke(i,r,a,l,o,"next",e)}function o(e){ke(i,r,a,l,o,"throw",e)}l(void 0)}))}}function Pe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Ae(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Se(t),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=9;break}return i=a.value,e.next=7,n(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Re(e,t,n,r,a){return Ie.apply(this,arguments)}function Ie(){return(Ie=Ae(regeneratorRuntime.mark((function e(t,n,r,a,i){var l,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.type,e.next="fill"===e.t0?3:"opacity"===e.t0?4:"frame-offset"===e.t0?7:"change-speed"===e.t0?10:"rotate-by"===e.t0?13:"rotating"===e.t0?16:"hide-after"===e.t0?19:"show-after"===e.t0?26:"clip-circle"===e.t0?33:"clip-rect"===e.t0?36:"pattern"===e.t0?39:"text"===e.t0?45:"subliminal"===e.t0?46:"flash"===e.t0?47:"flash-text"===e.t0?50:"flash-fill"===e.t0?51:"image"===e.t0?52:"video"===e.t0?58:66;break;case 3:return e.abrupt("return",P(t,n.color));case 4:return e.next=6,j(t,n.value,function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe(n.children,(function(e){return Re(t,e,r,a,i)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,Pe(n.children,function(){var e=Ae(regeneratorRuntime.mark((function e(l){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t,l,r+n.by,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.abrupt("return");case 10:return e.next=12,Pe(n.children,(function(e){return Re(t,e,r*n.factor,a,i)}));case 12:return e.abrupt("return");case 13:return e.next=15,O(t,n.angle,function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(n.children,(function(e){return Re(t,e,r,a,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:return e.abrupt("return");case 16:return e.next=18,O(t,n.speed*r,function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(n.children,(function(e){return Re(t,e,r,a,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:return e.abrupt("return");case 19:if(!(r<n.frames)){e.next=25;break}return e.next=22,Pe(n.children,(function(e){return Re(t,e,r,a,i)}));case 22:case 25:return e.abrupt("return");case 26:if(!(r>=n.frames)){e.next=32;break}return e.next=29,Pe(n.children,(function(e){return Re(t,e,r-n.frames,a,i)}));case 29:case 32:return e.abrupt("return");case 33:return e.next=35,Z(t,n.origin,n.radius,(function(e){return Pe(n.children,(function(t){return Re(e,t,r,a,i)}))}));case 35:return e.abrupt("return");case 36:return e.next=38,k(t,n.origin,n.size,(function(e){return Pe(n.children,(function(t){return Re(e,t,r,a,i)}))}));case 38:return e.abrupt("return");case 39:if(null!=(l=a.shaders[n.pattern])){e.next=44;break}return e.abrupt("return");case 44:return e.abrupt("return",J(t,r,{shader:l,colors:{bgColor:n.colors.bg,fgColor:n.colors.fg,dimColor:n.colors.dim,pulseColor:n.colors.pulse},fps:null==i?void 0:i.fps}));case 45:return e.abrupt("return",ue(t,{value:n.value,style:n.style}));case 46:return e.abrupt("return",ce(t,r,{text:n.text,stageLengths:n.stages,style:n.style}));case 47:return e.next=49,T(t,r,{stageLengths:n.stages},(function(e){return Pe(n.children,function(){var t=Ae(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Re(e,n,r,a,i));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 49:return e.abrupt("return");case 50:return e.abrupt("return",se(t,r,{text:n.text,stageLengths:n.stages,style:n.style}));case 51:return e.abrupt("return",D(t,r,{stageLengths:n.stages,style:{backgroundColor:n.color}}));case 52:if(null!=(o=a.images[n.image])){e.next=57;break}return e.abrupt("return");case 57:return e.abrupt("return",B(t,{image:o}));case 58:if(null!=(u=a.videos[n.video])){e.next=63;break}return e.abrupt("return");case 63:return e.next=65,de(t,r,{video:u,fps:null==i?void 0:i.fps});case 65:return e.abrupt("return",e.sent);case 66:console.log("Unrecognized command type",n);case 67:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t,n,r,a){return Fe.apply(this,arguments)}function Fe(){return(Fe=Ae(regeneratorRuntime.mark((function e(t,n,r,a,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(t),e.next=3,Pe(n,(function(e){return Re(t,e,r,a,i)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return e.reduce((function(e,t){switch(t.type){case"clip-circle":case"clip-rect":case"frame-offset":case"opacity":case"change-speed":case"flash":case"rotate-by":case"rotating":return[].concat(xe(e),xe(Te(t.children)));case"pattern":return[].concat(xe(e),[t.pattern]);default:return e}}),[])}function We(e){return e.reduce((function(e,t){switch(t.type){case"clip-circle":case"clip-rect":case"frame-offset":case"opacity":case"change-speed":case"flash":case"rotate-by":case"rotating":return[].concat(xe(e),xe(We(t.children)));case"image":return[].concat(xe(e),[t.image]);default:return e}}),[])}function De(e){return e.reduce((function(e,t){switch(t.type){case"clip-circle":case"clip-rect":case"frame-offset":case"opacity":case"change-speed":case"flash":case"rotate-by":case"rotating":return[].concat(xe(e),xe(De(t.children)));case"video":return[].concat(xe(e),[t.video]);default:return e}}),[])}function Le(){return(Le=Ae(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=Ae(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,K(t,"shaders/spiral.vs","shaders/".concat(n,".fs"));case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=we(t,2),r=n[0],a=n[1];return be(be({},e),{},Ee({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,M(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=we(t,2),r=n[0],a=n[1];return be(be({},e),{},Ee({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=Ae(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,ve(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=we(t,2),r=n[0],a=n[1];return be(be({},e),{},Ee({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=n(17812),ze=n(38380),Ne=n(46479),Ye=n(99956),Xe=n(73205),He=n(26209),_e=n(78135),qe=n(50743),$e=n(61201),Ve=n(33681),Ge=n(44326),Je=n(99945),Ke=n(47787),Qe=n(76945),et=n(73099),tt=n(93565),nt=[{key:"pendulum-bicolor-pulse",name:"Pendulum (Bi-color, Pulse)"},{key:"pendulum-bicolor",name:"Pendulum (Bi-color)"},{key:"pendulum-circles",name:"Pendulum (Circles)"},{key:"pendulum-total-disc",name:"Pendulum (Disc, Total)"},{key:"pendulum-disc",name:"Pendulum (Disc)"},{key:"pendulum-dot",name:"Pendulum (Dot)"},{key:"pendulum-doublesine",name:"Pendulum (Doublesine)"},{key:"pendulum-oval-intermittent-spiral",name:"Pendulum (Oval, Intermittent Spiral)"},{key:"pendulum-oval",name:"Pendulum (Oval)"},{key:"pendulum-spiral-alt",name:"Pendulum (Spiral, Alt)"},{key:"pendulum-pulsing-spiral",name:"Pendulum (Spiral, Pulsing)"},{key:"pendulum-twisted-spiral-going-inwards",name:"Pendulum (Spiral, Twisted)"},{key:"pendulum-spiral",name:"Pendulum (Spiral)"},{key:"full-bicolor-pulse",name:"Spiral (Bi-color, Pulse)"},{key:"full-bicolor",name:"Spiral (Bi-color)"},{key:"static-breathe",name:"Spiral (Breathe, Rainbow)"},{key:"test-breathe",name:"Spiral (Breathe, Speedy)"},{key:"full-breathe",name:"Spiral (Breathe)"},{key:"test-bumpy-spiral",name:"Spiral (Bumpy)"},{key:"static-chain-circle",name:"Spiral (Chain Circle)"},{key:"static-color-spiral",name:"Spiral (Color)"},{key:"test-double-color",name:"Spiral (Colors, Double)"},{key:"static-range-colors",name:"Spiral (Colors, Range)"},{key:"full-complex-1",name:"Spiral (Complex)"},{key:"test-dot",name:"Spiral (Dots, Circle)"},{key:"test-full-dots",name:"Spiral (Dots, Full)"},{key:"full-dot-pulse",name:"Spiral (Dots, Pulse)"},{key:"test-small-dots",name:"Spiral (Dots, Small)"},{key:"full-dot",name:"Spiral (Dots)"},{key:"full-doublesine-pulse",name:"Spiral (Doublesine, Pulse)"},{key:"full-doublesine-twisted",name:"Spiral (Doublesine, Twisted)"},{key:"full-doublesine",name:"Spiral (Doublesine)"},{key:"full-doublestream",name:"Spiral (Doublestream)"},{key:"full-equal-branches-pulse",name:"Spiral (Equal Branches, Pulse)"},{key:"full-equal-branches",name:"Spiral (Equal Branches)"},{key:"static-events",name:"Spiral (Events)"},{key:"test-flash",name:"Spiral (Flashing)"},{key:"test-flower-colors-sin",name:"Spiral (Flower, Colors, Sin)"},{key:"full-flower",name:"Spiral (Flower)"},{key:"full-half-circle",name:"Spiral (Half-Circle)"},{key:"full-interferring-ripples-2",name:"Spiral (Interferring Ripples, Alt)"},{key:"test-double-async-interference",name:"Spiral (Interferring Ripples, Double Async)"},{key:"full-interferring-ripples-1",name:"Spiral (Interferring Ripples)"},{key:"full-inwards",name:"Spiral (Inwards)"},{key:"full-jff",name:"Spiral (JFF, Rainbow 9s loop)"},{key:"full-jff-bw",name:"Spiral (JFF)"},{key:"test-offset-2",name:"Spiral (Offset, Alt)"},{key:"test-offset",name:"Spiral (Offset)"},{key:"full-pulse",name:"Spiral (Pulse)"},{key:"full-pulsing-chain",name:"Spiral (Pulsing Chain)"},{key:"full-line-with-radial-pulses",name:"Spiral (Radial Pulses)"},{key:"full-semi-twisted-slow",name:"Spiral (Semi-Twisted, Slow)"},{key:"full-semi-twisted",name:"Spiral (Semi-Twisted)"},{key:"full-sharded-alt",name:"Spiral (Sharded, Alt)"},{key:"full-sharded-pulse",name:"Spiral (Sharded, Pulse)"},{key:"full-sharded",name:"Spiral (Sharded)"},{key:"test-singularity-1",name:"Spiral (Singularity, 1)"},{key:"test-singularity-2",name:"Spiral (Singularity, 2)"},{key:"test-singularity-3",name:"Spiral (Singularity, 3)"},{key:"test-singularity-4",name:"Spiral (Singularity, 4)"},{key:"full-speedup",name:"Spiral (Speed-up)"},{key:"test-rainbow-spiral",name:"Spiral (Spiral, Rainbow)"},{key:"full-squares-border",name:"Spiral (Squares, Double)"},{key:"test-squares-lol",name:"Spiral (Squares, Double)"},{key:"full-squares",name:"Spiral (Squares)"},{key:"full-twisted-alt",name:"Spiral (Twisted, Alt)"},{key:"full-twisted-dots",name:"Spiral (Twisted, Dots)"},{key:"full-twisted-lines",name:"Spiral (Twisted, Lines)"},{key:"full-twisted-pulse",name:"Spiral (Twisted, Pulse)"},{key:"full-twisted-triplepulse",name:"Spiral (Twisted, Triple pulse)"},{key:"full-twisted",name:"Spiral (Twisted)"},{key:"test-expanding-twists",name:"Spiral (Twists, Expanding)"},{key:"test-weird-spiral-1",name:"Spiral (Weird, 1)"},{key:"test-weird-spiral-2",name:"Spiral (Weird, 2)"},{key:"test-weird-spiral-3",name:"Spiral (Weird, 3)"},{key:"test-weird-spiral-4",name:"Spiral (Weird, 4)"},{key:"test-weird-spiral-5",name:"Spiral (Weird, 5)"}].sort((function(e,t){return e.name<t.name?-1:1}));function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=function(e){return function(t){var n=t.props,a=t.label,i=t.value,l=t.onChange,o=ut(r.useState(null),2),u=o[0],f=o[1];return r.createElement(r.Fragment,null,r.createElement(c.Z,{variant:"h4",paragraph:!0},a),i.map((function(t,a){return r.createElement(s.Z,{key:a,container:!0,spacing:3},r.createElement(s.Z,{item:!0,style:{width:"120px"}},r.createElement(Ue.Z,{color:"secondary",onClick:function(){return l([].concat(ot(i.slice(0,Math.max(0,a-1))),[t],ot(i.slice(a-1,a)),ot(i.slice(a+1))))}},r.createElement(Ge.Z,null)),r.createElement(Ue.Z,{color:"secondary",onClick:function(){return l([].concat(ot(i.slice(0,Math.max(0,a))),ot(i.slice(a+1,a+2)),[t],ot(i.slice(a+2))))}},r.createElement(Je.Z,null))),r.createElement(s.Z,{item:!0,style:{width:"calc(100% - 240px)"}},e.edit(t,(function(e){return l([].concat(ot(i.slice(0,a)),[e],ot(i.slice(a+1))))}),n)),r.createElement(s.Z,{item:!0,style:{width:"120px"}},r.createElement(Ue.Z,{color:"secondary",onClick:function(){return l([].concat(ot(i.slice(0,a)),[t,t],ot(i.slice(a+1))))}},r.createElement(Ke.Z,null)),r.createElement(Ue.Z,{color:"secondary",onClick:function(){return l([].concat(ot(i.slice(0,a)),ot(i.slice(a+1))))}},r.createElement(Qe.Z,null))))})),r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,style:{flexGrow:1}}),r.createElement(s.Z,{item:!0},r.createElement(Ue.Z,{onClick:function(t){e.createOptions?f(t.currentTarget):l([].concat(ot(i),[e.create()]))}},"+"),e.createOptions&&r.createElement(ze.Z,{open:null!=u,anchorEl:u,onClose:function(){return f(null)}},e.createOptions.map((function(t,n){return r.createElement(Ne.Z,{key:n,onClick:function(){l([].concat(ot(i),[e.create(t)])),f(null)}},e.optionName(t))}))))))}},pt=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement(r.Fragment,null,r.createElement(s.Z,{container:!0,spacing:1},r.createElement(s.Z,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},t)),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Hidden",fullWidth:!0,inputProps:{min:0,step:1},value:n[0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([parseInt(e.target.value||"0",0),n[1],n[2],n[3]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Fade in",fullWidth:!0,inputProps:{min:0,step:1},value:n[1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],parseInt(e.target.value||"0",0),n[2],n[3]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Visible",fullWidth:!0,inputProps:{min:0,step:1},value:n[2],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],n[1],parseInt(e.target.value||"0",0),n[3]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Fade out",fullWidth:!0,inputProps:{min:0,step:1},value:n[3],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],n[1],n[2],parseInt(e.target.value||"0",0)])}))}))))},mt=function(e){var t=e.label,n=e.value,a=e.onChange,i=ut(r.useState(null),2),l=i[0],o=i[1];return r.createElement(r.Fragment,null,r.createElement(Ye.Z,{component:"div",style:{width:"100%",background:y.apply(void 0,ot(n)),padding:"1.5em 0",textAlign:"center"}},r.createElement(u.Z,{style:{background:"white"},variant:"outlined",onClick:function(e){return o(e.currentTarget)}},t)),r.createElement(Xe.ZP,{open:null!=l,onClose:function(){return o(null)},anchorEl:l,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.createElement(tt.xS,{color:b.apply(void 0,ot(n)),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t;return a([e.rgb.r/255,e.rgb.g/255,e.rgb.b/255,null!==(t=e.rgb.a)&&void 0!==t?t:1])}))})))},ht=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement(s.Z,{container:!0,spacing:1},r.createElement(s.Z,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},t)),r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{type:"number",label:"X",fullWidth:!0,inputProps:{step:.01},value:n[0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([parseFloat(e.target.value||"0"),n[1]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{type:"number",label:"Y",fullWidth:!0,inputProps:{step:.01},value:n[1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],parseFloat(e.target.value||"0")])}))})))},dt=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement(He.Z,{label:t,fullWidth:!0,value:n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.target.value)}))},r.createElement(Ne.Z,{value:"center"},"Center"),r.createElement(Ne.Z,{value:"top"},"Top"),r.createElement(Ne.Z,{value:"bottom"},"Bottom"),r.createElement(Ne.Z,{value:"left"},"Left"),r.createElement(Ne.Z,{value:"right"},"Right"),r.createElement(Ne.Z,{value:"top-left"},"Top Left"),r.createElement(Ne.Z,{value:"top-right"},"Top Right"),r.createElement(Ne.Z,{value:"bottom-left"},"Bottom Left"),r.createElement(Ne.Z,{value:"bottom-right"},"Bottom Right"))},gt=function(e){var t,n,a,i,l,o,u,p=e.label,m=e.value,h=e.onChange,d=ut(r.useState(!1),2),g=d[0],v=d[1];return r.createElement(_e.Z,{expanded:g,onChange:function(e,t){return v(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},p)),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(t=m.size)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{size:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=m.lineWidth)&&void 0!==n?n:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{lineWidth:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(mt,{label:"Fill Color",value:null!==(a=m.fillColor)&&void 0!==a?a:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{fillColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(mt,{label:"Stroke Color",value:null!==(i=m.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{strokeColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(dt,{label:"Align",value:null!==(l=m.align)&&void 0!==l?l:"center",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{align:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(ht,{label:"Offset",value:[null!==(o=m.offsetX)&&void 0!==o?o:0,null!==(u=m.offsetY)&&void 0!==u?u:0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=ut(e,2),n=t[0],r=t[1];return h(it(it({},m),{},{offsetX:n,offsetY:r}))}))})))))},vt=function(e){var t,n,a,i,l=e.label,o=e.value,u=e.onChange,p=ut(r.useState(!1),2),m=p[0],h=p[1];return r.createElement(_e.Z,{expanded:m,onChange:function(e,t){return h(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},l)),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(t=o.size)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return u(it(it({},o),{},{size:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=o.lineWidth)&&void 0!==n?n:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return u(it(it({},o),{},{lineWidth:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(mt,{label:"Fill Color",value:null!==(a=o.fillColor)&&void 0!==a?a:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return u(it(it({},o),{},{fillColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(mt,{label:"Stroke Color",value:null!==(i=o.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return u(it(it({},o),{},{strokeColor:e}))}))})))))},yt=ft({create:function(){return"center"},edit:function(e,t){return r.createElement(dt,{label:"align",value:e,onChange:t})}}),bt=function(e){var t,n,a,i,l,o,u,p=e.label,m=e.value,h=e.onChange,d=ut(r.useState(!1),2),g=d[0],v=d[1];return r.createElement(_e.Z,{expanded:g,onChange:function(e,t){return v(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},p)),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(t=m.size)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{size:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=m.lineWidth)&&void 0!==n?n:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{lineWidth:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(mt,{label:"Fill Color",value:null!==(a=m.fillColor)&&void 0!==a?a:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{fillColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(mt,{label:"Stroke Color",value:null!==(i=m.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{strokeColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(ht,{label:"Offset",value:[null!==(l=m.offsetX)&&void 0!==l?l:0,null!==(o=m.offsetY)&&void 0!==o?o:0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=ut(e,2),n=t[0],r=t[1];return h(it(it({},m),{},{offsetX:n,offsetY:r}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(yt,{label:"Align",value:null!==(u=m.align)&&void 0!==u?u:[],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(it(it({},m),{},{align:e}))}))})))))},Et=function(e){var t,n,a,i,l,o,u,m,h,d,g,v,y,b,E=e.fps,S=e.assets,w=e.value,x=e.onChange,Z=ut(r.useState(!1),2),C=Z[0],k=Z[1];switch(w.type){case"fill":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fill")),r.createElement($e.Z,null,r.createElement(mt,{label:"Color",value:w.color,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{color:e}))}))})));case"opacity":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Opacity")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(p.Z,{valueLabelDisplay:"auto",min:0,max:1,step:.01,value:w.value,onChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return x(it(it({},w),{},{value:t}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"frame-offset":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Frame Offset")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"By",value:w.by,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{by:parseInt(e.target.value||"0",0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"hide-after":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Hide After")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"Frames",value:w.frames,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{frames:parseInt(e.target.value||"0",0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"show-after":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Show After")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"Frames",value:w.frames,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{frames:parseInt(e.target.value||"0",0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"change-speed":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Change Speed")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Factor",value:w.factor,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{factor:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"rotate-by":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Rotate By")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Angle",value:w.angle,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{angle:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"rotating":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Rotating")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Speed",value:w.speed,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{speed:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"clip-circle":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Clip (Circle)")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3,alignItems:"flex-end"},r.createElement(s.Z,{item:!0,xs:8},r.createElement(ht,{label:"Origin",value:w.origin,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{origin:e}))}))})),r.createElement(s.Z,{item:!0,xs:4},r.createElement(f.Z,{type:"number",label:"Radius",fullWidth:!0,value:null!==(t=w.radius)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{radius:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"clip-rect":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Clip (Rect)")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3,alignItems:"flex-end"},r.createElement(s.Z,{item:!0,xs:6},r.createElement(ht,{label:"Origin",value:w.origin,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{origin:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(ht,{label:"Size",value:w.size,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{size:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"text":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Text")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{fullWidth:!0,label:"Value",value:w.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{value:e.target.value}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(gt,{label:"Styles",value:null!==(n=w.style)&&void 0!==n?n:{},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{style:e}))}))})))));case"flash":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(pt,{label:"Stages",value:null!==(a=w.stages)&&void 0!==a?a:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{fps:E,assets:S,value:w.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{children:e}))}))})))));case"flash-fill":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash Fill")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(pt,{label:"Stages",value:null!==(i=w.stages)&&void 0!==i?i:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(mt,{label:"Color",value:w.color,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{color:e}))}))})))));case"flash-text":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash Text")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{multiline:!0,fullWidth:!0,label:"Messages",value:w.text.join("\n"),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{text:e.target.value.split("\n")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(pt,{label:"Stages",value:null!==(l=w.stages)&&void 0!==l?l:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(bt,{label:"Styles",value:null!==(o=w.style)&&void 0!==o?o:{},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{style:e}))}))})))));case"subliminal":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Subliminals")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(pt,{label:"Stages",value:null!==(u=w.stages)&&void 0!==u?u:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{multiline:!0,fullWidth:!0,label:"Messages",value:w.text.join("\n"),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{text:e.target.value.split("\n")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(vt,{label:"Styles",value:null!==(m=w.style)&&void 0!==m?m:{},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{style:e}))}))})))));case"pattern":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Pattern")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(He.Z,{fullWidth:!0,label:"Shader",value:w.pattern,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{pattern:e.target.value}))}))},nt.map((function(e){return r.createElement(Ne.Z,{key:e.key,value:e.key},e.name)})))),r.createElement(s.Z,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},"Properties"),r.createElement(s.Z,{container:!0},r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(mt,{label:"Background",value:null!==(h=w.colors.bg)&&void 0!==h?h:[0,0,0,0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{colors:it(it({},w.colors),{},{bg:e})}))}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(mt,{label:"Foreground",value:null!==(d=w.colors.fg)&&void 0!==d?d:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{colors:it(it({},w.colors),{},{fg:e})}))}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(mt,{label:"Pulse",value:null!==(g=w.colors.pulse)&&void 0!==g?g:[178/255,76/255,229/255,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{colors:it(it({},w.colors),{},{pulse:e})}))}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(mt,{label:"Dim",value:null!==(v=w.colors.dim)&&void 0!==v?v:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{colors:it(it({},w.colors),{},{dim:e})}))}))})))))));case"image":return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Image")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(St,{fullWidth:!0,label:"Href",value:null!==(y=w.image)&&void 0!==y?y:"",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{image:e.target.value}))}))})))));case"video":var A=!!w.video&&S.videos[w.video];return r.createElement(_e.Z,{expanded:C,onChange:function(e,t){return k(t)}},r.createElement(qe.Z,{expandIcon:r.createElement(et.Z,null)},r.createElement(c.Z,{variant:"h3"},"Video")),r.createElement($e.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(St,{fullWidth:!0,label:"Href",value:null!==(b=w.video)&&void 0!==b?b:"",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return x(it(it({},w),{},{video:e.target.value}))}))})),r.createElement(s.Z,{item:!0,xs:12},A?r.createElement(c.Z,{variant:"body1"},"Frames: ",Math.ceil(A.duration*E)):r.createElement(Ve.Z,{variant:"indeterminate",color:"primary"})))));default:return r.createElement(c.Z,{variant:"body1"}," Unrecognized command type '",w.type,"'")}},St=function(e){var t,n=ut(r.useState(null!==(t=e.value)&&void 0!==t?t:e.defaultValue),2),a=n[0],i=n[1];return r.useEffect((function(){null!=e.value&&i(a)}),[e.value]),r.useEffect((function(){null!=e.defaultValue&&i(a)}),[e.defaultValue]),r.createElement(f.Z,rt({},e,{value:a,onChange:function(e){return i(e.currentTarget.value)},onBlur:e.onChange&&function(t){return e.onChange(t)}}))},wt=ft({create:function(e){return function(e){switch(e){case"fill":return{type:"fill",color:[0,0,0,1]};case"opacity":return{type:"opacity",value:1,children:[]};case"frame-offset":return{type:"frame-offset",by:0,children:[]};case"hide-after":return{type:"hide-after",frames:0,children:[]};case"show-after":return{type:"show-after",frames:0,children:[]};case"rotate-by":return{type:"rotate-by",angle:0,children:[]};case"rotating":return{type:"rotating",speed:6,children:[]};case"clip-circle":return{type:"clip-circle",origin:[0,0],radius:1,children:[]};case"clip-rect":return{type:"clip-rect",origin:[0,0],size:[1,1],children:[]};case"pattern":return{type:"pattern",pattern:"full-inwards",colors:{}};case"text":return{type:"text",value:""};case"flash":return{type:"flash",stages:[15,15,15,15],children:[]};case"flash-text":return{type:"flash-text",text:[]};case"subliminal":return{type:"subliminal",text:[]};case"flash-fill":return{type:"flash-fill",color:[1,1,1,1]};case"change-speed":return{type:"change-speed",factor:1,children:[]};case"image":return{type:"image",image:"./assets/eyes.png"};case"video":return{type:"video",video:"./assets/base.mp4"};default:return{type:"text",value:e}}}(e.type)},edit:function(e,t,n){var a,i;return r.createElement(Et,{fps:null!==(a=null==n?void 0:n.fps)&&void 0!==a?a:0,assets:null!==(i=null==n?void 0:n.assets)&&void 0!==i?i:{images:{},shaders:{},videos:{}},value:e,onChange:t})},createOptions:[{type:"fill",name:"Fill"},{type:"opacity",name:"Opacity"},{type:"frame-offset",name:"Frame Offset"},{type:"change-speed",name:"Change Speed"},{type:"hide-after",name:"Hide After"},{type:"show-after",name:"Show After"},{type:"rotate-by",name:"Rotate By"},{type:"rotating",name:"Rotating"},{type:"clip-circle",name:"Clip (Circle)"},{type:"clip-rect",name:"Clip (Rectangle)"},{type:"pattern",name:"Pattern"},{type:"text",name:"Text"},{type:"flash",name:"Flash"},{type:"flash-fill",name:"Flash (Fill)"},{type:"flash-text",name:"Flash (Text)"},{type:"subliminal",name:"Subliminal"},{type:"image",name:"Image"},{type:"video",name:"Video"}],optionName:function(e){return e.name}}),xt=function(e){var t=e.assets,n=e.fps,a=e.value,i=e.onChange;return r.createElement(wt,{props:{assets:t,fps:n},label:"Patterns",value:a,onChange:i})},Zt=n(56912);function Ct(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t,n,r,a,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,a)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){At(i,r,a,l,o,"next",e)}function o(e){At(i,r,a,l,o,"throw",e)}l(void 0)}))}}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e){var t=r.useMemo((function(){return Te(e.pattern)}),[e.pattern]),n=r.useMemo((function(){return We(e.pattern)}),[e.pattern]),a=r.useMemo((function(){return De(e.pattern)}),[e.pattern]),i=Ot(r.useState({}),2),l=i[0],o=i[1],u=Ot(r.useState({}),2),c=u[0],s=u[1],f=Ot(r.useState({}),2),p=f[0],m=f[1];return r.useEffect((function(){var n=!1;return function(e,t){return Le.apply(this,arguments)}(e.resolution,t).then((function(e){n||o(e)})),function(){n=!0}}),[e.resolution,t.join("|")]),r.useEffect((function(){var e=!1;return function(e){return Be.apply(this,arguments)}(n).then((function(t){e||s(t)})),function(){e=!0}}),[n.join("|")]),r.useEffect((function(){var e=!1;return function(e){return Me.apply(this,arguments)}(a).then((function(t){e||m(t)})),function(){e=!0}}),[a.join("|")]),{shaders:l,images:c,videos:p}}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=function(e){var t=e.disabled,n=e.className,a=e.def,i=e.assets,l=e.onClick,o=jt(r.useState(null),2),u=o[0],c=o[1];return function(e,t){var n=t.enable,a=t.def,i=t.assets,l=r.useRef(performance.now()),o=r.useRef(0),u=r.useRef();!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r.useRef(e),a=r.useRef(0);r.useEffect((function(){n.current=e}),[e].concat(Ct(t))),r.useEffect((function(){var e=!1,t=0;return t=requestAnimationFrame((function r(){e||(n.current?n.current(a.current).then((function(){a.current=a.current+1,t=requestAnimationFrame(r)})):t=requestAnimationFrame(r))})),function(){cancelAnimationFrame(t),e=!0}}),[])}(Pt(regeneratorRuntime.mark((function t(){var r,c,s,f,p,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return");case 2:if(null!=u.current&&u.current.width===e.width&&u.current.height===e.height||(u.current=document.createElement("canvas"),u.current.width=e.width,u.current.height=e.height),r=l.current,c=performance.now(),s=1/(a.fps*a.speed),!((f=(c-r)/1e3)<s)){t.next=9;break}return t.abrupt("return");case 9:for(;f>=s;)o.current=o.current+1,f-=s;if(l.current=performance.now()-f,p=a.totalFrames>0?o.current%a.totalFrames:o.current,null==e||null==i){t.next=17;break}return t.next=15,je(u.current,a.pattern,p,i,{fps:a.fps});case 15:I(e),null===(m=e.getContext("2d"))||void 0===m||m.drawImage(u.current,0,0);case 17:case"end":return t.stop()}}),t)}))),[n,a,i,e])}(u,{enable:!t,assets:i,def:a}),r.createElement("canvas",{className:n,width:a.resolution[0]>0?a.resolution[0]:32,height:a.resolution[1]>0?a.resolution[1]:32,ref:function(e){return c(e)},onClick:l})},Wt=function(e){var t=e.className,n=e.frame,a=e.def,i=e.assets,l=e.onClick,o=jt(r.useState(null),2),u=o[0],c=o[1];return function(e,t){var n=t.frame,a=t.def,i=t.assets;r.useRef(),(0,r.useEffect)((function(){if(e){var t=!1,r=document.createElement("canvas");r.width=e.width,r.height=e.height;var l=a.totalFrames>0?n%a.totalFrames:n;return null!=e&&null!=i&&je(r,a.pattern,l,i,{fps:a.fps}).then((function(){var n;t||(I(e),null===(n=e.getContext("2d"))||void 0===n||n.drawImage(r,0,0))})),function(){t=!0}}}),[a,i,n,e])}(u,{frame:n,assets:i,def:a}),r.createElement("canvas",{className:t,width:a.resolution[0]>0?a.resolution[0]:32,height:a.resolution[1]>0?a.resolution[1]:32,ref:function(e){return c(e)},onClick:l})};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zt=(0,a.Z)({root:{marginRight:"1em"},canvas:{width:"320px",verticalAlign:"top",cursor:"pointer"},background:{backgroundImage:"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),Nt=function(e){var t=e.assets,n=e.value,a=e.onChange,i=zt(),l=i.root,o=i.canvas,u=i.background,m=Mt(r.useState(!1),2),h=m[0],d=m[1],g=Mt(r.useState(0),2),v=g[0],y=g[1];return r.createElement(r.Fragment,null,r.createElement(c.Z,{variant:"h1",paragraph:!0},"Spiral Editor"),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Pattern"),r.createElement(xt,{assets:t,value:n.pattern,fps:n.fps,onChange:function(e){return a(Lt(Lt({},n),{},{pattern:e}))}}),r.createElement(s.Z,{container:!0},r.createElement(s.Z,{item:!0},r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Preview"),r.createElement("div",{className:l},h?r.createElement("div",null,r.createElement("div",{className:u},r.createElement(Wt,{className:o,def:n,assets:t,frame:v,onClick:function(){return d(!1)}})),r.createElement("div",null,0==n.totalFrames?r.createElement(f.Z,{value:v,type:"number",inputProps:{min:0},onChange:function(e){return y(parseInt(e.target.value,0))}}):r.createElement(p.Z,{step:1,valueLabelDisplay:"auto",value:v,min:0,max:n.totalFrames-1,onChange:function(e,t){return y(t)}}))):r.createElement("div",{className:u},r.createElement(Tt,{className:o,def:n,assets:t,onClick:function(){return d(!0)}})))),r.createElement(s.Z,{item:!0,style:{flexGrow:1}},r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Resolution"),r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Width",value:n.resolution[0],onChange:function(e){return a(Lt(Lt({},n),{},{resolution:[parseInt(e.target.value||"0",0),n.resolution[1]]}))}})),r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Height",value:n.resolution[1],onChange:function(e){return a(Lt(Lt({},n),{},{resolution:[n.resolution[0],parseInt(e.target.value||"0",0)]}))}}))),r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Framerate"),r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12,sm:6,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"FPS",value:n.fps,onChange:function(e){return a(Lt(Lt({},n),{},{fps:parseInt(e.target.value||"0",0)}))}})),r.createElement(s.Z,{item:!0,xs:12,sm:6,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Total Frames",value:n.totalFrames,onChange:function(e){return a(Lt(Lt({},n),{},{totalFrames:parseInt(e.target.value||"0",0)}))}})),r.createElement(s.Z,{item:!0,xs:12,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Speed",value:n.speed,onChange:function(e){return a(Lt(Lt({},n),{},{speed:parseFloat(e.target.value||"0")}))}}))))))},Yt=n(95477),Xt=function(e){var t=e.className,n=e.status;return r.createElement(i.Z,{open:"no"!==n.current},r.createElement(l.Z,null,r.createElement(Yt.Z,{className:t,size:360,color:"rendering"===n.current?"primary":"secondary",variant:"determinate",value:("rendering"===n.current?0:50)+("no"!==n.current?50*n.progress:0)})))};function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qt=(0,a.Z)({page:{objectFit:"cover",width:"100%",height:"100vh"}},{name:"SpiralViewer"});function $t(){var e,t,n,a,c,s,f,p,m,d,g,y,b,E,S,w=qt().page,x=Ht(r.useState(!1),2),Z=x[0],C=x[1],k=Ht((e=Ot((0,Zt.xT)("pattern",[]),2),t=e[0],n=e[1],a=Ot((0,Zt.$w)("speed",1),2),c=a[0],s=a[1],f=Ot((0,Zt.$w)("fps",60),2),p=f[0],m=f[1],d=Ot((0,Zt.$w)("total-frames",p),2),g=d[0],y=d[1],b=Ot((0,Zt.xT)("screen",[1280,720]),2),E=b[0],S=b[1],[r.useMemo((function(){return{pattern:t,speed:c,fps:p,totalFrames:g,resolution:E}}),[t,c,p,g,E]),function(e){n(e.pattern),s(e.speed),m(e.fps),y(e.totalFrames),S(e.resolution)}]),2),A=k[0],P=k[1],O=It(A),R=Ht(function(e,t){var n=we(r.useState({current:"no"}),2),a=n[0],i=n[1];return[a,Ae(regeneratorRuntime.mark((function n(){var r,a,l,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i({current:"rendering",progress:0}),r=new(h())({quality:5,repeat:0}),a=e.totalFrames||e.fps,l=regeneratorRuntime.mark((function n(l){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(Ae(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=document.createElement("canvas")).width=e.resolution[0]>0?e.resolution[0]:32,o.height=e.resolution[1]>0?e.resolution[1]:32,n.next=5,je(o,e.pattern,l,t,{fps:e.fps});case 5:i({current:"rendering",progress:l/a}),r.addFrame(o,{delay:1e3/(e.speed*e.fps),copy:!0});case 7:case"end":return n.stop()}}),n)}))));case 2:case"end":return n.stop()}}),n)})),o=0;case 5:if(!(o<a)){n.next=10;break}return n.delegateYield(l(o),"t0",7);case 7:++o,n.next=5;break;case 10:r.on("progress",(function(e){i({current:"exporting",progress:e})})),r.on("finished",(function(e){window.open(URL.createObjectURL(e)),i({current:"no"})})),r.render();case 13:case"end":return n.stop()}}),n)})))]}(A,O),2),I=R[0],j=R[1];return r.createElement(r.Fragment,null,r.createElement(Tt,{disabled:Z||"no"!==I.current,className:w,def:A,assets:O,onClick:function(){return C(!0)}}),r.createElement(i.Z,{open:Z,maxWidth:"xl",fullWidth:!0},r.createElement(l.Z,null,r.createElement(Nt,{assets:O,value:A,onChange:P})),r.createElement(o.Z,null,r.createElement(u.Z,{color:"secondary",onClick:function(){return C(!1)}},"Close"),r.createElement(u.Z,{color:"primary",disabled:A.totalFrames<=0,onClick:function(){C(!1),j()}},"Render"))),r.createElement(Xt,{status:I}))}}}]);