"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[454],{31454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>un});var r=n(67294),a=n(41120),i=n(48623),u=n(29525),l=n(66856),o=n(282),c=n(22318),s=n(41749),f=n(36253),p=n(44845),m=n(89762),h=n.n(m);function d(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){d(i,r,a,u,l,"next",e)}function l(e){d(i,r,a,u,l,"throw",e)}u(void 0)}))}}function v(e,t){return new Promise((function(n,r){null!=t&&t.active?requestAnimationFrame(g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,e();case 3:n();case 4:case"end":return t.stop()}}),t)})))):setTimeout(g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,e();case 3:n();case 4:case"end":return t.stop()}}),t)}))),0)}))}function y(e,t,n,r){function a(e){var t=(0|e).toString(16);return 1==t.length?"0"+t:t}return"#".concat(a(255*e)).concat(a(255*t)).concat(a(255*n))}function b(e,t,n,r){return"rgba(".concat(255*e|0,", ").concat(255*t|0,", ").concat(255*n|0,", ").concat(null!=r?r:1,")")}function E(e,t,n){return[e/255,t/255,n/255,1]}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){w(i,r,a,u,l,"next",e)}function l(e){w(i,r,a,u,l,"throw",e)}u(void 0)}))}}function Z(e,t,n,r){return C.apply(this,arguments)}function C(){return(C=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,u,l,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return");case 2:return(i=document.createElement("canvas")).width=r*Math.min(t.width,t.height),i.height=i.width,e.next=7,a(i);case 7:u=(n[0]+1)*(t.width/2),l=(n[1]+1)*(t.height/2),o=i.width/2,(c=t.getContext("2d")).save(),c.beginPath(),c.arc(u,l,o,0,2*Math.PI,!0),c.closePath(),c.clip(),c.drawImage(i,u-o,l-o,i.width,i.height),c.restore();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,r){return A.apply(this,arguments)}function A(){return(A=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,u,l,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r[0]&&0!==r[1]){e.next=2;break}return e.abrupt("return");case 2:return(i=document.createElement("canvas")).width=r[0]*t.width,i.height=r[1]*t.height,e.next=7,a(i);case 7:u=[n[0]-r[0],n[1]-r[1]],l=(u[0]+1)/2*t.width,o=(u[1]+1)/2*t.height,(c=t.getContext("2d")).save(),c.beginPath(),c.rect(l,o,i.width,i.height),c.closePath(),c.clip(),c.drawImage(i,l,o,i.width,i.height),c.restore();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){var n,r=e.getContext("2d");r.save(),r.globalAlpha=t[3],r.fillStyle=y.apply(void 0,function(e){if(Array.isArray(e))return S(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.fillRect(0,0,e.width,e.height),r.restore()}function P(e,t,n){return R.apply(this,arguments)}function R(){return(R=x(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getContext("2d"),(i=document.createElement("canvas")).width=t.width,i.height=t.height,e.next=6,r(i);case 6:a.save(),a.translate(i.width/2,i.height/2),a.rotate(.0174533*n),a.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),a.restore();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}function j(e,t,n){return F.apply(this,arguments)}function F(){return(F=x(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.getContext("2d")).save(),a.globalAlpha=a.globalAlpha*n,e.next=5,r(t);case 5:a.restore();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r){return W.apply(this,arguments)}function W(){return(W=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,u,l,o,c,s,f,p,m,h,d,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=null!==(i=r.stageLengths)&&void 0!==i?i:[15,15,15,15],l=u.reduce((function(e,t){return e+t}),0),o=n%l,(c=document.createElement("canvas")).width=t.width,c.height=t.height,e.next=8,a(c);case 8:s=t.getContext("2d"),o<u[0]||(u[0]>0&&o<u[0]+u[1]?(s.save(),s.globalAlpha=(null!==(f=null===(p=r.style)||void 0===p?void 0:p.alpha)&&void 0!==f?f:1)*(o-u[1])/u[1],s.drawImage(c,0,0,c.width,c.height),s.restore()):u[1]>0&&o<u[0]+u[1]+u[2]?(s.save(),s.globalAlpha=null!==(m=null===(h=r.style)||void 0===h?void 0:h.alpha)&&void 0!==m?m:1,s.drawImage(c,0,0,c.width,c.height),s.restore()):u[2]>0&&o<u[0]+u[1]+u[2]+u[3]&&(v=o-(u[0]+u[1]+ +u[2]),s.save(),s.globalAlpha=(null!==(d=null===(g=r.style)||void 0===g?void 0:g.alpha)&&void 0!==d?d:1)*(u[3]-v)/u[3],s.drawImage(c,0,0,c.width,c.height),s.restore()));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=null!==(i=r.length)&&void 0!==i?i:60,l=1,n<u&&(l=n/u),e.next=5,j(t,l,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n,r){return M.apply(this,arguments)}function M(){return(M=x(regeneratorRuntime.mark((function e(t,n,r,a){var i,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=null!==(i=r.length)&&void 0!==i?i:60,l=0,n<u&&(l=1-n/u),e.next=5,j(t,l,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n){T(e,t,{stageLengths:n.stageLengths},function(){var e=x(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t,null!==(r=null===(a=n.style)||void 0===a?void 0:a.backgroundColor)&&void 0!==r?r:[1,1,1,1]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n,r,a,i,u,l,o,c,s=e.getContext("2d"),f=e,p=t.image,m=f.width/(p.width+(null!==(n=null==t||null===(r=t.styles)||void 0===r?void 0:r.padding)&&void 0!==n?n:0)),h=f.height/(p.height+(null!==(a=null==t||null===(i=t.styles)||void 0===i?void 0:i.padding)&&void 0!==a?a:0)),d=(o=m>h?[f.width,p.height*m|0]:[p.width*h,f.height],c=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(o,c)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=d[0],v=d[1];s.save(),s.globalAlpha=null!==(u=null===(l=t.styles)||void 0===l?void 0:l.alpha)&&void 0!==u?u:1,s.drawImage(p,(f.width-g)/2,(f.height-v)/2,g,v),s.restore()}function N(e){return new Promise((function(t){var n=new Image;n.addEventListener("load",(function e(){n.removeEventListener("load",e),t(n)})),n.crossOrigin="Anonymous",n.src=e}))}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}E(178,76,229),E(80,200,120),E(175,237,152),E(246,240,224),E(255,223,0),E(255,209,219),E(204,141,205),E(255,192,203),E(255,20,147),E(255,0,255),E(255,255,0),E(127,0,0),E(0,255,255),E(255,0,0),E(0,255,0),E(1,1,1),E(127,127,127),E(255,255,255),E(213,172,119),E(0,0,255),E(152,251,237),E(173,216,230),E(204,204,255),E(137,207,240),E(100,149,237),E(7,42,108),E(245,118,26),E(253,103,58),E(255,140,0),E(227,74,39),E(255,241,215),E(64,0,255);var $=function(){function e(t){var n,r;X(this,e),this.canvas=t,this.gl=null!==(n=null!==(r=t.getContext("webgl"))&&void 0!==r?r:t.getContext("experimental-webgl"))&&void 0!==n?n:function(){throw new Error("")}()}return q(e,[{key:"ref",value:function(){return this.gl}},{key:"createBuffer",value:function(){var e=this.gl.createBuffer();if(null==e)throw new Error("");return new G(this.gl,e)}},{key:"createProgram",value:function(e,t){var n=this.gl.createProgram();if(null==n)throw new Error("");var r=this.createShader(e,this.gl.VERTEX_SHADER);this.gl.attachShader(n,r),this.gl.deleteShader(r);var a=this.createShader("precision highp float;\n\n"+t,this.gl.FRAGMENT_SHADER);if(this.gl.attachShader(n,a),this.gl.deleteShader(a),this.gl.linkProgram(n),!this.gl.getProgramParameter(n,this.gl.LINK_STATUS))throw new Error("VALIDATE_STATUS: ".concat(this.gl.getProgramParameter(n,this.gl.VALIDATE_STATUS)," ERROR: ").concat(this.gl.getError()));return new V(this.gl,n)}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT),this.gl.clearColor(0,0,0,1)}},{key:"render",value:function(e,t){var n=this,r=e.ref();this.gl.useProgram(r),Object.keys(t).forEach((function(e){var a=t[e],i=n.gl.getUniformLocation(r,e);if(i)if(Array.isArray(a))switch(a.length){case 2:n.gl.uniform2f(i,a[0],a[1]);break;case 3:n.gl.uniform3f(i,a[0],a[1],a[2]);break;case 4:n.gl.uniform4f(i,a[0],a[1],a[2],a[3])}else n.gl.uniform1f(i,a)})),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}},{key:"createShader",value:function(e,t){var n=this.gl.createShader(t);if(null==n)throw new Error("");if(this.gl.shaderSource(n,e),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))throw new Error((t==this.gl.VERTEX_SHADER?"VERTEX":"FRAGMENT")+" SHADER:\n"+this.gl.getShaderInfoLog(n));return n}},{key:"width",value:function(){return this.canvas.clientWidth}},{key:"height",value:function(){return this.canvas.clientHeight}}]),e}(),V=function(){function e(t,n){X(this,e),Y(this,"destroyed",!1),this.gl=t,this.program=n}return q(e,[{key:"ref",value:function(){return this.program}},{key:"ok",value:function(){return!this.destroyed}},{key:"destroy",value:function(){this.gl.deleteProgram(this.program),this.destroyed=!0}}]),e}(),G=function(){function e(t,n){X(this,e),Y(this,"destroyed",!1),this.gl=t,this.buffer=n}return q(e,[{key:"ref",value:function(){return this.buffer}},{key:"ok",value:function(){return!this.destroyed}},{key:"bind",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(0,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(0)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.buffer),this.destroyed=!0}}]),e}();function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){Q(i,r,a,u,l,"next",e)}function l(e){Q(i,r,a,u,l,"throw",e)}u(void 0)}))}}function te(e,t,n){var r,a,i,u,l,o,c,s,f,p,m=n.shader[2];m.width=e.width,m.height=e.height;var h=new $(m),d={time:t/(null!==(r=n.fps)&&void 0!==r?r:60),rotation:1,direction:1,branchCount:4,resolution:[m.width,m.height],aspect:m.width>m.height?[m.width/m.height,1]:[1,m.height/m.width],bgColor:null!==(a=null===(i=n.colors)||void 0===i?void 0:i.bgColor)&&void 0!==a?a:[0,0,0,0],fgColor:null!==(u=null===(l=n.colors)||void 0===l?void 0:l.fgColor)&&void 0!==u?u:[1,1,1,1],pulseColor:null!==(o=null===(c=n.colors)||void 0===c?void 0:c.pulseColor)&&void 0!==o?o:[178/255,76/255,229/255,1],dimColor:null!==(s=null===(f=n.colors)||void 0===f?void 0:f.dimColor)&&void 0!==s?s:[0,0,0,1]};h.clear(),n.shader[0].bind(),h.render(n.shader[1],d),null===(p=e.getContext("2d"))||void 0===p||p.drawImage(m,0,0,e.width,e.height)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=ee(regeneratorRuntime.mark((function e(t,n){var r,a,i,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K(t,2),a=r[0],i=r[1],(u=document.createElement("canvas")).width=a,u.height=i,e.next=6,fetch(n).then((function(e){return e.text()}));case 6:return l=e.sent,e.next=9,ae([a,i],l);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ie.apply(this,arguments)}function ie(){return(ie=ee(regeneratorRuntime.mark((function e(t,n){var r,a,i,u,l,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K(t,2),a=r[0],i=r[1],(u=document.createElement("canvas")).width=a,u.height=i,l=new $(u),e.next=7,fetch("shaders/spiral.vs").then((function(e){return e.text()}));case 7:return o=e.sent,(c=l.createBuffer()).ok()||console.error("failed to create buffer"),(s=l.createProgram(o,n)).ok()||console.error("failed to create program"),e.abrupt("return",[c,s,u]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return((1048320&function(e,t){t|=0;var n=function(e,t){return t^t>>e};return t*=3039394381,t=n(8,t+=e=e),t=function(e,t){return t^t<<8}(0,t+=1759714724),n(8,t*=458671337)}(e,t))>>8)/4095}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){se(i,r,a,u,l,"next",e)}function l(e){se(i,r,a,u,l,"throw",e)}u(void 0)}))}}function pe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){var n,r,a,i,u,l,o,c,s,f,p,m,h,d,g,v,b,E,S,w,x,Z,C,k,A=t.value,O=t.style,P=[e.width,e.height],R=Math.min(Math.max(12,Math.min.apply(Math,P)/12.5),256)*(null!==(n=null==O?void 0:O.size)&&void 0!==n?n:1),I=0+(null!==(r=null==O?void 0:O.offsetX)&&void 0!==r?r:0),j=0+(null!==(a=null==O?void 0:O.offsetY)&&void 0!==a?a:0);switch(null!==(i=null==O?void 0:O.align)&&void 0!==i?i:"center"){case"left":I=-.95+(null!==(u=null==O?void 0:O.offsetX)&&void 0!==u?u:0);break;case"right":I=.95+(null!==(l=null==O?void 0:O.offsetX)&&void 0!==l?l:0);break;case"center":j=0+(null!==(o=null==O?void 0:O.offsetY)&&void 0!==o?o:0);break;case"top":j=-.95+(null!==(c=null==O?void 0:O.offsetY)&&void 0!==c?c:0);break;case"bottom":j=.95+(null!==(s=null==O?void 0:O.offsetY)&&void 0!==s?s:0);break;case"top-left":I=-.95+(null!==(f=null==O?void 0:O.offsetX)&&void 0!==f?f:0),j=-.95+(null!==(p=null==O?void 0:O.offsetY)&&void 0!==p?p:0);break;case"top-right":I=.95+(null!==(m=null==O?void 0:O.offsetX)&&void 0!==m?m:0),j=-.95+(null!==(h=null==O?void 0:O.offsetY)&&void 0!==h?h:0);break;case"bottom-left":I=-.95+(null!==(d=null==O?void 0:O.offsetX)&&void 0!==d?d:0),j=.95+(null!==(g=null==O?void 0:O.offsetY)&&void 0!==g?g:0);break;case"bottom-right":I=.95+(null!==(v=null==O?void 0:O.offsetX)&&void 0!==v?v:0),j=.95+(null!==(b=null==O?void 0:O.offsetY)&&void 0!==b?b:0)}var F=e.getContext("2d");F.save(),F.textBaseline="top",F.font="".concat(R,"px ").concat((null!==(E=null==O?void 0:O.fonts)&&void 0!==E?E:["Uni Sans Heavy","Roboto","Helvetica","Arial","sans-serif"]).join(", "));var T=F.measureText(A),W=(1+I)/2*e.width-T.width/2,D=(1+j)/2*e.height-R/2;W<10?(W=10,F.textAlign="left"):W+T.width>=e.width-10?(W=e.width-T.width-10,F.textAlign="left"):(F.textAlign="center",W=(1+I)/2*e.width),D<10?D=10:D+R/2>=e.height-R-10&&(D=e.height-R-10);var L=y.apply(void 0,pe(null!==(S=null==O||null===(w=O.fillColor)||void 0===w?void 0:w.slice(0,3))&&void 0!==S?S:[1,1,1])),B=y.apply(void 0,pe(null!==(x=null==O||null===(Z=O.strokeColor)||void 0===Z?void 0:Z.slice(0,3))&&void 0!==x?x:[1/256,1/256,1/256]));F.lineWidth=null!==(C=null==O?void 0:O.lineWidth)&&void 0!==C?C:Math.max(null!==(k=null==O?void 0:O.size)&&void 0!==k?k:1,1),F.fillStyle=L,B!=L&&(F.strokeStyle=B),F.fillText(A,W,D),B!=L&&F.strokeText(A,W,D),F.restore()}function de(e,t,n){var r;if(0!==n.text.length){var a=(null!==(r=n.stageLengths)&&void 0!==r?r:[15,15,15,15]).reduce((function(e,t){return e+t}),0),i=t/a|0,u=function(e){var t=0,n=0;if(0===e.length)return t;for(n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(n.text.reduce((function(e,t){return"".concat(e,":").concat(t)}),"")),l=n.text[(t/a|0)%n.text.length],o=2*ue(u,2*i)-1,c=2*ue(u,2*i+1)-1;T(e,t,{stageLengths:n.stageLengths},function(){var e=fe(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(t,{value:l,style:oe(oe({},null!==(r=n.style)&&void 0!==r?r:{}),{},{align:"center",offsetX:o,offsetY:c})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}function ge(e,t,n){var r,a,i;if(0!==n.text.length){var u=(null!==(r=n.stageLengths)&&void 0!==r?r:[15,15,15,15]).reduce((function(e,t){return e+t}),0),l=null!=(null===(a=n.style)||void 0===a?void 0:a.align)?n.style.align[null!==(i=(t/u|0)%n.style.align.length)&&void 0!==i?i:1]:"center",o=n.text[(t/u|0)%n.text.length];T(e,t,{stageLengths:n.stageLengths},function(){var e=fe(regeneratorRuntime.mark((function e(t){var r,a,i,u,c,s,f,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(t,{value:o,style:oe(oe(oe({lineWidth:null===(r=n.style)||void 0===r?void 0:r.lineWidth},null!=(null===(a=n.style)||void 0===a?void 0:a.fillColor)?{fillColor:n.style.fillColor}:{}),null!=(null===(i=n.style)||void 0===i?void 0:i.strokeColor)?{strokeColor:n.style.strokeColor}:{}),{},{bold:null===(u=n.style)||void 0===u?void 0:u.bold,size:null!==(c=null===(s=n.style)||void 0===s?void 0:s.size)&&void 0!==c?c:1,align:l,fonts:null===(f=n.style)||void 0===f?void 0:f.fonts,offsetX:null===(p=n.style)||void 0===p?void 0:p.offsetX,offsetY:null===(m=n.style)||void 0===m?void 0:m.offsetY})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){be(i,r,a,u,l,"next",e)}function l(e){be(i,r,a,u,l,"throw",e)}u(void 0)}))}}function Se(e,t,n){return we.apply(this,arguments)}function we(){return(we=Ee(regeneratorRuntime.mark((function e(t,n,r){var a,i,u,l,o,c,s,f,p,m,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!==(a=r.fps)&&void 0!==a?a:60,u=r.video,l=t.getContext("2d"),o=t.width/u.videoWidth,c=t.height/u.videoHeight,s=t.width>t.height?[t.width,u.videoHeight*o|0]:[u.videoWidth*c,t.height],f=ve(s,2),p=f[0],m=f[1],h=Math.ceil(u.duration*i),d=n%h/h*u.duration,u.currentTime=d,e.next=12,new Promise((function(e){u.addEventListener("canplay",(function t(){u.removeEventListener("canplay",t),e()}))}));case 12:l.drawImage(u,(t.width-p)/2,(t.height-m)/2,p,m);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return new Promise((function(t){var n=document.createElement("video");n.addEventListener("loadeddata",(function e(){n.removeEventListener("loadeddata",e),t(n)})),n.loop=!0,n.crossOrigin="Anonymous",n.src=e}))}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Re(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw i}}}}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){je(i,r,a,u,l,"next",e)}function l(e){je(i,r,a,u,l,"throw",e)}u(void 0)}))}}function Te(e,t){return We.apply(this,arguments)}function We(){return(We=Fe(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ae(t),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=9;break}return i=a.value,e.next=7,n(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function De(e,t,n,r,a){return Le.apply(this,arguments)}function Le(){return(Le=Fe(regeneratorRuntime.mark((function e(t,n,r,a,i){var u,l,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.type,e.next="fill"===e.t0?3:"opacity"===e.t0?4:"frame-offset"===e.t0?7:"change-speed"===e.t0?10:"rotate-by"===e.t0?13:"rotating"===e.t0?16:"hide-after"===e.t0?19:"show-after"===e.t0?26:"clip-circle"===e.t0?33:"clip-rect"===e.t0?36:"pattern"===e.t0?39:"local-pattern"===e.t0?45:"text"===e.t0?51:"subliminal"===e.t0?52:"fade-in"===e.t0?53:"fade-out"===e.t0?56:"flash"===e.t0?59:"flash-text"===e.t0?62:"flash-fill"===e.t0?63:"image"===e.t0?64:"video"===e.t0?70:78;break;case 3:return e.abrupt("return",O(t,n.color));case 4:return e.next=6,j(t,n.value,function(){var e=Fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te(n.children,(function(e){return De(t,e,r,a,i)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,Te(n.children,function(){var e=Fe(regeneratorRuntime.mark((function e(u){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,u,r+n.by,a,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.abrupt("return");case 10:return e.next=12,Te(n.children,(function(e){return De(t,e,r*n.factor,a,i)}));case 12:return e.abrupt("return");case 13:return e.next=15,P(t,n.angle,function(){var e=Fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(n.children,(function(e){return De(t,e,r,a,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:return e.abrupt("return");case 16:return e.next=18,P(t,n.speed*r,function(){var e=Fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(n.children,(function(e){return De(t,e,r,a,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:return e.abrupt("return");case 19:if(!(r<n.frames)){e.next=25;break}return e.next=22,Te(n.children,(function(e){return De(t,e,r,a,i)}));case 22:case 25:return e.abrupt("return");case 26:if(!(r>=n.frames)){e.next=32;break}return e.next=29,Te(n.children,(function(e){return De(t,e,r-n.frames,a,i)}));case 29:case 32:return e.abrupt("return");case 33:return e.next=35,Z(t,n.origin,n.radius,(function(e){return Te(n.children,(function(t){return De(e,t,r,a,i)}))}));case 35:return e.abrupt("return");case 36:return e.next=38,k(t,n.origin,n.size,(function(e){return Te(n.children,(function(t){return De(e,t,r,a,i)}))}));case 38:return e.abrupt("return");case 39:if(null!=(u=a.shaders[n.pattern])){e.next=44;break}return e.abrupt("return");case 44:return e.abrupt("return",te(t,r,{shader:u,colors:{bgColor:n.colors.bg,fgColor:n.colors.fg,dimColor:n.colors.dim,pulseColor:n.colors.pulse},fps:null==i?void 0:i.fps}));case 45:if(null!=(l=a.shaders[n.patternKey])){e.next=50;break}return e.abrupt("return");case 50:return e.abrupt("return",te(t,r,{shader:l,fps:null==i?void 0:i.fps}));case 51:return e.abrupt("return",he(t,{value:n.value,style:n.style}));case 52:return e.abrupt("return",de(t,r,{text:n.text,stageLengths:n.stages,style:n.style}));case 53:return e.next=55,D(t,r,{length:n.length},(function(e){return Te(n.children,(function(t){return De(e,t,r,a,i)}))}));case 55:return e.abrupt("return");case 56:return e.next=58,B(t,r,{length:n.length},(function(e){return Te(n.children,(function(t){return De(e,t,r,a,i)}))}));case 58:return e.abrupt("return");case 59:return e.next=61,T(t,r,{stageLengths:n.stages},(function(e){return Te(n.children,(function(t){return De(e,t,r,a,i)}))}));case 61:return e.abrupt("return");case 62:return e.abrupt("return",ge(t,r,{text:n.text,stageLengths:n.stages,style:n.style}));case 63:return e.abrupt("return",U(t,r,{stageLengths:n.stages,style:{backgroundColor:n.color}}));case 64:if(null!=(o=a.images[n.image])){e.next=69;break}return e.abrupt("return");case 69:return e.abrupt("return",_(t,{image:o}));case 70:if(null!=(c=a.videos[n.video])){e.next=75;break}return e.abrupt("return");case 75:return e.next=77,Se(t,r,{video:c,fps:null==i?void 0:i.fps});case 77:return e.abrupt("return",e.sent);case 78:console.log("Unrecognized command type",n);case 79:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n,r,a){return Me.apply(this,arguments)}function Me(){return(Me=Fe(regeneratorRuntime.mark((function e(t,n,r,a,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(t),e.next=3,Te(n,(function(e){return De(t,e,r,a,i)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return e.reduce((function(e,t){switch(t.type){case"pattern":return[].concat(Pe(e),[t.pattern]);default:var n=t;return null!=n.children?[].concat(Pe(e),Pe(Ue(n.children))):e}}),[])}function ze(e){return e.reduce((function(e,t){switch(t.type){case"local-pattern":return[].concat(Pe(e),[[t.patternKey,t.patternBody]]);default:var n=t;return null!=n.children?[].concat(Pe(e),Pe(ze(n.children))):e}}),[])}function _e(e){return e.reduce((function(e,t){switch(t.type){case"image":return[].concat(Pe(e),[t.image]);default:var n=t;return null!=n.children?[].concat(Pe(e),Pe(_e(n.children))):e}}),[])}function Ne(e){return e.reduce((function(e,t){switch(t.type){case"video":return[].concat(Pe(e),[t.video]);default:var n=t;return null!=n.children?[].concat(Pe(e),Pe(Ne(n.children))):e}}),[])}function Ye(){return(Ye=Fe(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=Fe(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n,e.next=4,ne(t,"shaders/".concat(n,".fs"));case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=Oe(t,2),r=n[0],a=n[1];return Ce(Ce({},e),{},ke({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Fe(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=Fe(regeneratorRuntime.mark((function e(n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(n,2),a=r[0],i=r[1],e.prev=1,e.t0=a,e.next=5,ae(t,i);case 5:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 9:return e.prev=9,e.t2=e.catch(1),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=Oe(t,2),r=n[0],a=n[1];return Ce(Ce({},e),{},ke({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=Fe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,N(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=Oe(t,2),r=n[0],a=n[1];return Ce(Ce({},e),{},ke({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Fe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Fe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,xe(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return null!=e})).map((function(e){return e})).reduce((function(e,t){var n=Oe(t,2),r=n[0],a=n[1];return Ce(Ce({},e),{},ke({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $e=n(17812),Ve=n(38380),Ge=n(46479),Ke=n(99956),Je=n(73205),Qe=n(26209),et=n(78135),tt=n(50743),nt=n(61201),rt=n(33681),at=n(44326),it=n(99945),ut=n(47787),lt=n(76945),ot=n(73099),ct=n(93565),st=[{key:"pendulum-bicolor-pulse",name:"Pendulum (Bi-color, Pulse)"},{key:"pendulum-bicolor",name:"Pendulum (Bi-color)"},{key:"pendulum-circles",name:"Pendulum (Circles)"},{key:"pendulum-total-disc",name:"Pendulum (Disc, Total)"},{key:"pendulum-disc",name:"Pendulum (Disc)"},{key:"pendulum-dot",name:"Pendulum (Dot)"},{key:"pendulum-doublesine",name:"Pendulum (Doublesine)"},{key:"pendulum-oval-intermittent-spiral",name:"Pendulum (Oval, Intermittent Spiral)"},{key:"pendulum-oval",name:"Pendulum (Oval)"},{key:"pendulum-spiral-alt",name:"Pendulum (Spiral, Alt)"},{key:"pendulum-pulsing-spiral",name:"Pendulum (Spiral, Pulsing)"},{key:"pendulum-twisted-spiral-going-inwards",name:"Pendulum (Spiral, Twisted)"},{key:"pendulum-spiral",name:"Pendulum (Spiral)"},{key:"full-bicolor-pulse",name:"Spiral (Bi-color, Pulse)"},{key:"full-bicolor",name:"Spiral (Bi-color)"},{key:"static-breathe",name:"Spiral (Breathe, Rainbow)"},{key:"test-breathe",name:"Spiral (Breathe, Speedy)"},{key:"full-breathe",name:"Spiral (Breathe)"},{key:"test-bumpy-spiral",name:"Spiral (Bumpy)"},{key:"static-chain-circle",name:"Spiral (Chain Circle)"},{key:"static-color-spiral",name:"Spiral (Color)"},{key:"test-double-color",name:"Spiral (Colors, Double)"},{key:"static-range-colors",name:"Spiral (Colors, Range)"},{key:"full-complex-1",name:"Spiral (Complex)"},{key:"test-dot",name:"Spiral (Dots, Circle)"},{key:"test-full-dots",name:"Spiral (Dots, Full)"},{key:"full-dot-pulse",name:"Spiral (Dots, Pulse)"},{key:"test-small-dots",name:"Spiral (Dots, Small)"},{key:"full-dot",name:"Spiral (Dots)"},{key:"full-doublesine-pulse",name:"Spiral (Doublesine, Pulse)"},{key:"full-doublesine-twisted",name:"Spiral (Doublesine, Twisted)"},{key:"full-doublesine",name:"Spiral (Doublesine)"},{key:"full-doublestream",name:"Spiral (Doublestream)"},{key:"full-equal-branches-pulse",name:"Spiral (Equal Branches, Pulse)"},{key:"full-equal-branches",name:"Spiral (Equal Branches)"},{key:"static-events",name:"Spiral (Events)"},{key:"test-flash",name:"Spiral (Flashing)"},{key:"test-flower-colors-sin",name:"Spiral (Flower, Colors, Sin)"},{key:"full-flower",name:"Spiral (Flower)"},{key:"full-half-circle",name:"Spiral (Half-Circle)"},{key:"full-interferring-ripples-2",name:"Spiral (Interferring Ripples, Alt)"},{key:"test-double-async-interference",name:"Spiral (Interferring Ripples, Double Async)"},{key:"full-interferring-ripples-1",name:"Spiral (Interferring Ripples)"},{key:"full-inwards",name:"Spiral (Inwards)"},{key:"full-jff",name:"Spiral (JFF, Rainbow 9s loop)"},{key:"full-jff-bw",name:"Spiral (JFF)"},{key:"test-offset-2",name:"Spiral (Offset, Alt)"},{key:"test-offset",name:"Spiral (Offset)"},{key:"full-pulse",name:"Spiral (Pulse)"},{key:"full-pulsing-chain",name:"Spiral (Pulsing Chain)"},{key:"full-line-with-radial-pulses",name:"Spiral (Radial Pulses)"},{key:"full-semi-twisted-slow",name:"Spiral (Semi-Twisted, Slow)"},{key:"full-semi-twisted",name:"Spiral (Semi-Twisted)"},{key:"full-sharded-alt",name:"Spiral (Sharded, Alt)"},{key:"full-sharded-pulse",name:"Spiral (Sharded, Pulse)"},{key:"full-sharded",name:"Spiral (Sharded)"},{key:"test-singularity-1",name:"Spiral (Singularity, 1)"},{key:"test-singularity-2",name:"Spiral (Singularity, 2)"},{key:"test-singularity-3",name:"Spiral (Singularity, 3)"},{key:"test-singularity-4",name:"Spiral (Singularity, 4)"},{key:"full-speedup",name:"Spiral (Speed-up)"},{key:"test-rainbow-spiral",name:"Spiral (Spiral, Rainbow)"},{key:"full-squares-border",name:"Spiral (Squares, Double)"},{key:"test-squares-lol",name:"Spiral (Squares, Double)"},{key:"full-squares",name:"Spiral (Squares)"},{key:"full-thick",name:"Spiral (Thick)"},{key:"full-twisted-alt",name:"Spiral (Twisted, Alt)"},{key:"full-twisted-dots",name:"Spiral (Twisted, Dots)"},{key:"full-twisted-lines",name:"Spiral (Twisted, Lines)"},{key:"full-twisted-pulse",name:"Spiral (Twisted, Pulse)"},{key:"full-twisted-triplepulse",name:"Spiral (Twisted, Triple pulse)"},{key:"full-twisted",name:"Spiral (Twisted)"},{key:"test-expanding-twists",name:"Spiral (Twists, Expanding)"},{key:"test-weird-spiral-1",name:"Spiral (Weird, 1)"},{key:"test-weird-spiral-2",name:"Spiral (Weird, 2)"},{key:"test-weird-spiral-3",name:"Spiral (Weird, 3)"},{key:"test-weird-spiral-4",name:"Spiral (Weird, 4)"},{key:"test-weird-spiral-5",name:"Spiral (Weird, 5)"}].sort((function(e,t){return e.name<t.name?-1:1}));function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bt=function(e){return function(t){var n=t.props,a=t.label,i=t.value,u=t.onChange,l=gt(r.useState(null),2),o=l[0],f=l[1];return r.createElement(r.Fragment,null,r.createElement(c.Z,{variant:"h4",paragraph:!0},a),i.map((function(t,a){return r.createElement(s.Z,{key:a,container:!0,spacing:3},r.createElement(s.Z,{item:!0,style:{width:"120px"}},r.createElement($e.Z,{color:"secondary",onClick:function(){return u([].concat(dt(i.slice(0,Math.max(0,a-1))),[t],dt(i.slice(a-1,a)),dt(i.slice(a+1))))}},r.createElement(at.Z,null)),r.createElement($e.Z,{color:"secondary",onClick:function(){return u([].concat(dt(i.slice(0,Math.max(0,a))),dt(i.slice(a+1,a+2)),[t],dt(i.slice(a+2))))}},r.createElement(it.Z,null))),r.createElement(s.Z,{item:!0,style:{width:"calc(100% - 240px)"}},e.edit(t,(function(e){return u([].concat(dt(i.slice(0,a)),[e],dt(i.slice(a+1))))}),n)),r.createElement(s.Z,{item:!0,style:{width:"120px"}},r.createElement($e.Z,{color:"secondary",onClick:function(){return u([].concat(dt(i.slice(0,a)),[t,t],dt(i.slice(a+1))))}},r.createElement(ut.Z,null)),r.createElement($e.Z,{color:"secondary",onClick:function(){return u([].concat(dt(i.slice(0,a)),dt(i.slice(a+1))))}},r.createElement(lt.Z,null))))})),r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,style:{flexGrow:1}}),r.createElement(s.Z,{item:!0},r.createElement($e.Z,{onClick:function(t){e.createOptions?f(t.currentTarget):u([].concat(dt(i),[e.create()]))}},"+"),e.createOptions&&r.createElement(Ve.Z,{open:null!=o,anchorEl:o,onClose:function(){return f(null)}},e.createOptions.map((function(t,n){return r.createElement(Ge.Z,{key:n,onClick:function(){u([].concat(dt(i),[e.create(t)])),f(null)}},e.optionName(t))}))))))}},Et=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement(r.Fragment,null,r.createElement(s.Z,{container:!0,spacing:1},r.createElement(s.Z,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},t)),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Hidden",fullWidth:!0,inputProps:{min:0,step:1},value:n[0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([parseInt(e.target.value||"0",0),n[1],n[2],n[3]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Fade in",fullWidth:!0,inputProps:{min:0,step:1},value:n[1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],parseInt(e.target.value||"0",0),n[2],n[3]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Visible",fullWidth:!0,inputProps:{min:0,step:1},value:n[2],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],n[1],parseInt(e.target.value||"0",0),n[3]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Fade out",fullWidth:!0,inputProps:{min:0,step:1},value:n[3],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],n[1],n[2],parseInt(e.target.value||"0",0)])}))}))))},St=function(e){var t=e.label,n=e.value,a=e.onChange,i=gt(r.useState(null),2),u=i[0],l=i[1];return r.createElement(r.Fragment,null,r.createElement(Ke.Z,{component:"div",style:{width:"100%",background:y.apply(void 0,dt(n)),padding:"1.5em 0",textAlign:"center"}},r.createElement(o.Z,{style:{background:"white"},variant:"outlined",onClick:function(e){return l(e.currentTarget)}},t)),r.createElement(Je.ZP,{open:null!=u,onClose:function(){return l(null)},anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.createElement(ct.xS,{color:b.apply(void 0,dt(n)),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t;return a([e.rgb.r/255,e.rgb.g/255,e.rgb.b/255,null!==(t=e.rgb.a)&&void 0!==t?t:1])}))})))},wt=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement(s.Z,{container:!0,spacing:1},r.createElement(s.Z,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},t)),r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{type:"number",label:"X",fullWidth:!0,inputProps:{step:.01},value:n[0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([parseFloat(e.target.value||"0"),n[1]])}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{type:"number",label:"Y",fullWidth:!0,inputProps:{step:.01},value:n[1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a([n[0],parseFloat(e.target.value||"0")])}))})))},xt=function(e){var t=e.label,n=e.value,a=e.onChange;return r.createElement(Qe.Z,{label:t,fullWidth:!0,value:n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.target.value)}))},r.createElement(Ge.Z,{value:"center"},"Center"),r.createElement(Ge.Z,{value:"top"},"Top"),r.createElement(Ge.Z,{value:"bottom"},"Bottom"),r.createElement(Ge.Z,{value:"left"},"Left"),r.createElement(Ge.Z,{value:"right"},"Right"),r.createElement(Ge.Z,{value:"top-left"},"Top Left"),r.createElement(Ge.Z,{value:"top-right"},"Top Right"),r.createElement(Ge.Z,{value:"bottom-left"},"Bottom Left"),r.createElement(Ge.Z,{value:"bottom-right"},"Bottom Right"))},Zt=function(e){var t,n,a,i,u,l,o,p=e.label,m=e.value,h=e.onChange,d=gt(r.useState(!1),2),g=d[0],v=d[1];return r.createElement(et.Z,{expanded:g,onChange:function(e,t){return v(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},p)),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(t=m.size)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{size:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=m.lineWidth)&&void 0!==n?n:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{lineWidth:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(St,{label:"Fill Color",value:null!==(a=m.fillColor)&&void 0!==a?a:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{fillColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(St,{label:"Stroke Color",value:null!==(i=m.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{strokeColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(xt,{label:"Align",value:null!==(u=m.align)&&void 0!==u?u:"center",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{align:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(wt,{label:"Offset",value:[null!==(l=m.offsetX)&&void 0!==l?l:0,null!==(o=m.offsetY)&&void 0!==o?o:0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=gt(e,2),n=t[0],r=t[1];return h(mt(mt({},m),{},{offsetX:n,offsetY:r}))}))})))))},Ct=function(e){var t,n,a,i,u=e.label,l=e.value,o=e.onChange,p=gt(r.useState(!1),2),m=p[0],h=p[1];return r.createElement(et.Z,{expanded:m,onChange:function(e,t){return h(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},u)),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(t=l.size)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o(mt(mt({},l),{},{size:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=l.lineWidth)&&void 0!==n?n:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o(mt(mt({},l),{},{lineWidth:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(St,{label:"Fill Color",value:null!==(a=l.fillColor)&&void 0!==a?a:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o(mt(mt({},l),{},{fillColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(St,{label:"Stroke Color",value:null!==(i=l.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o(mt(mt({},l),{},{strokeColor:e}))}))})))))},kt=bt({create:function(){return"center"},edit:function(e,t){return r.createElement(xt,{label:"align",value:e,onChange:t})}}),At=function(e){var t,n,a,i,u,l,o,p=e.label,m=e.value,h=e.onChange,d=gt(r.useState(!1),2),g=d[0],v=d[1];return r.createElement(et.Z,{expanded:g,onChange:function(e,t){return v(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},p)),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(t=m.size)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{size:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=m.lineWidth)&&void 0!==n?n:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{lineWidth:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(St,{label:"Fill Color",value:null!==(a=m.fillColor)&&void 0!==a?a:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{fillColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(St,{label:"Stroke Color",value:null!==(i=m.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{strokeColor:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(wt,{label:"Offset",value:[null!==(u=m.offsetX)&&void 0!==u?u:0,null!==(l=m.offsetY)&&void 0!==l?l:0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=gt(e,2),n=t[0],r=t[1];return h(mt(mt({},m),{},{offsetX:n,offsetY:r}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(kt,{label:"Align",value:null!==(o=m.align)&&void 0!==o?o:[],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return h(mt(mt({},m),{},{align:e}))}))})))))},Ot=function(e){var t,n,a,i,u,l,o,m,h,d,g,v,y,b,E,S,w=e.fps,x=e.assets,Z=e.value,C=e.onChange,k=gt(r.useState(!1),2),A=k[0],O=k[1];switch(Z.type){case"fill":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fill")),r.createElement(nt.Z,null,r.createElement(St,{label:"Color",value:Z.color,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{color:e}))}))})));case"opacity":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Opacity")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(p.Z,{valueLabelDisplay:"auto",min:0,max:1,step:.01,value:Z.value,onChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return C(mt(mt({},Z),{},{value:t}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"frame-offset":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Frame Offset")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"By",value:Z.by,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{by:parseInt(e.target.value||"0",0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"hide-after":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Hide After")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"Frames",value:Z.frames,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{frames:parseInt(e.target.value||"0",0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"show-after":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Show After")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"Frames",value:Z.frames,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{frames:parseInt(e.target.value||"0",0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"change-speed":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Change Speed")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Factor",value:Z.factor,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{factor:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"rotate-by":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Rotate By")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Angle",value:Z.angle,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{angle:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"rotating":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Rotating")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Speed",value:Z.speed,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{speed:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"clip-circle":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Clip (Circle)")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3,alignItems:"flex-end"},r.createElement(s.Z,{item:!0,xs:8},r.createElement(wt,{label:"Origin",value:Z.origin,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{origin:e}))}))})),r.createElement(s.Z,{item:!0,xs:4},r.createElement(f.Z,{type:"number",label:"Radius",fullWidth:!0,value:null!==(t=Z.radius)&&void 0!==t?t:1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{radius:parseFloat(e.target.value||"0")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"clip-rect":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Clip (Rect)")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3,alignItems:"flex-end"},r.createElement(s.Z,{item:!0,xs:6},r.createElement(wt,{label:"Origin",value:Z.origin,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{origin:e}))}))})),r.createElement(s.Z,{item:!0,xs:6},r.createElement(wt,{label:"Size",value:Z.size,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{size:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"text":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Text")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{fullWidth:!0,label:"Value",value:Z.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{value:e.target.value}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(Zt,{label:"Styles",value:null!==(n=Z.style)&&void 0!==n?n:{},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{style:e}))}))})))));case"fade-in":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fade In")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{type:"number",fullWidth:!0,label:"Length",value:null!==(a=Z.length)&&void 0!==a?a:60,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{length:parseInt(e.target.value,0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"fade-out":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fade In")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{type:"number",fullWidth:!0,label:"Length",value:null!==(i=Z.length)&&void 0!==i?i:60,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{length:parseInt(e.target.value,0)}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"flash":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(Et,{label:"Stages",value:null!==(u=Z.stages)&&void 0!==u?u:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(It,{fps:w,assets:x,value:Z.children,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{children:e}))}))})))));case"flash-fill":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash Fill")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(Et,{label:"Stages",value:null!==(l=Z.stages)&&void 0!==l?l:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(St,{label:"Color",value:Z.color,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{color:e}))}))})))));case"flash-text":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash Text")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{multiline:!0,fullWidth:!0,label:"Messages",value:Z.text.join("\n"),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{text:e.target.value.split("\n")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(Et,{label:"Stages",value:null!==(o=Z.stages)&&void 0!==o?o:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(At,{label:"Styles",value:null!==(m=Z.style)&&void 0!==m?m:{},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{style:e}))}))})))));case"subliminal":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Subliminals")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(Et,{label:"Stages",value:null!==(h=Z.stages)&&void 0!==h?h:[15,15,15,15],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{stages:e}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{multiline:!0,fullWidth:!0,label:"Messages",value:Z.text.join("\n"),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{text:e.target.value.split("\n")}))}))})),r.createElement(s.Z,{item:!0,xs:12},r.createElement(Ct,{label:"Styles",value:null!==(d=Z.style)&&void 0!==d?d:{},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{style:e}))}))})))));case"pattern":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Pattern")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(Qe.Z,{fullWidth:!0,label:"Shader",value:Z.pattern,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{pattern:e.target.value}))}))},st.map((function(e){return r.createElement(Ge.Z,{key:e.key,value:e.key},e.name)})))),r.createElement(s.Z,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},"Properties"),r.createElement(s.Z,{container:!0},r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(St,{label:"Background",value:null!==(g=Z.colors.bg)&&void 0!==g?g:[0,0,0,0],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{colors:mt(mt({},Z.colors),{},{bg:e})}))}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(St,{label:"Foreground",value:null!==(v=Z.colors.fg)&&void 0!==v?v:[1,1,1,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{colors:mt(mt({},Z.colors),{},{fg:e})}))}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(St,{label:"Pulse",value:null!==(y=Z.colors.pulse)&&void 0!==y?y:[178/255,76/255,229/255,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{colors:mt(mt({},Z.colors),{},{pulse:e})}))}))})),r.createElement(s.Z,{item:!0,xs:12,sm:6,md:3},r.createElement(St,{label:"Dim",value:null!==(b=Z.colors.dim)&&void 0!==b?b:[0,0,0,1],onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{colors:mt(mt({},Z.colors),{},{dim:e})}))}))})))))));case"local-pattern":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Pattern (GLSL)")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(f.Z,{label:"Shader GLSL",value:Z.patternBody,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{patternBody:e.target.value}))})),fullWidth:!0,multiline:!0})))));case"image":return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Image")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(Pt,{fullWidth:!0,label:"Href",value:null!==(E=Z.image)&&void 0!==E?E:"",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{image:e.target.value}))}))})))));case"video":var P=!!Z.video&&x.videos[Z.video];return r.createElement(et.Z,{expanded:A,onChange:function(e,t){return O(t)}},r.createElement(tt.Z,{expandIcon:r.createElement(ot.Z,null)},r.createElement(c.Z,{variant:"h3"},"Video")),r.createElement(nt.Z,null,r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12},r.createElement(Pt,{fullWidth:!0,label:"Href",value:null!==(S=Z.video)&&void 0!==S?S:"",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return C(mt(mt({},Z),{},{video:e.target.value}))}))})),r.createElement(s.Z,{item:!0,xs:12},P?r.createElement(c.Z,{variant:"body1"},"Frames: ",Math.ceil(P.duration*w)):r.createElement(rt.Z,{variant:"indeterminate",color:"primary"})))));default:return r.createElement(c.Z,{variant:"body1"}," Unrecognized command type '",Z.type,"'")}},Pt=function(e){var t,n=gt(r.useState(null!==(t=e.value)&&void 0!==t?t:e.defaultValue),2),a=n[0],i=n[1];return r.useEffect((function(){null!=e.value&&i(a)}),[e.value]),r.useEffect((function(){null!=e.defaultValue&&i(a)}),[e.defaultValue]),r.createElement(f.Z,ft({},e,{value:a,onChange:function(e){return i(e.currentTarget.value)},onBlur:e.onChange&&function(t){return e.onChange(t)}}))},Rt=bt({create:function(e){return function(e){switch(e){case"fill":return{type:"fill",color:[0,0,0,1]};case"opacity":return{type:"opacity",value:1,children:[]};case"frame-offset":return{type:"frame-offset",by:0,children:[]};case"hide-after":return{type:"hide-after",frames:0,children:[]};case"show-after":return{type:"show-after",frames:0,children:[]};case"rotate-by":return{type:"rotate-by",angle:0,children:[]};case"rotating":return{type:"rotating",speed:6,children:[]};case"clip-circle":return{type:"clip-circle",origin:[0,0],radius:1,children:[]};case"clip-rect":return{type:"clip-rect",origin:[0,0],size:[1,1],children:[]};case"pattern":return{type:"pattern",pattern:"full-inwards",colors:{}};case"local-pattern":return{type:"local-pattern",patternKey:Math.random().toString(),patternBody:"uniform float time;\nuniform vec2 resolution;\nuniform vec2 aspect;\n\nvoid main(void) {\n\tvec2 uv = (gl_FragCoord.xy - resolution.xy * 0.5) / resolution.x;\n\tvec3 col_v = vec3(\n\t\t(0.30 + 0.7*cos(-time * 30.4 + length(uv) * 40.0 + 0.00000000000 - atan(uv.x, uv.y))), \n\t\t(0.30 + 0.7*cos(-time * 14.5 + length(uv) * 40.0 + 4.18879020479 - atan(uv.x, uv.y))), \n\t\t(0.30 + 0.7*cos(-time * 20.0 + length(uv) * 40.0 + 2.09439510239 - atan(uv.x, uv.y)))\n\t);\n\n\tgl_FragColor = vec4(col_v, 1.0);\n}\n"};case"text":return{type:"text",value:""};case"fade-in":return{type:"fade-in",length:60,children:[]};case"fade-out":return{type:"fade-out",length:60,children:[]};case"flash":return{type:"flash",stages:[15,15,15,15],children:[]};case"flash-text":return{type:"flash-text",text:[]};case"subliminal":return{type:"subliminal",text:[]};case"flash-fill":return{type:"flash-fill",color:[1,1,1,1]};case"change-speed":return{type:"change-speed",factor:1,children:[]};case"image":return{type:"image",image:"./assets/eyes.png"};case"video":return{type:"video",video:"./assets/base.mp4"};default:return{type:"text",value:e}}}(e.type)},edit:function(e,t,n){var a,i;return r.createElement(Ot,{fps:null!==(a=null==n?void 0:n.fps)&&void 0!==a?a:0,assets:null!==(i=null==n?void 0:n.assets)&&void 0!==i?i:{images:{},shaders:{},videos:{}},value:e,onChange:t})},createOptions:[{type:"fill",name:"Fill"},{type:"opacity",name:"Opacity"},{type:"frame-offset",name:"Frame Offset"},{type:"change-speed",name:"Change Speed"},{type:"hide-after",name:"Hide After"},{type:"show-after",name:"Show After"},{type:"rotate-by",name:"Rotate By"},{type:"rotating",name:"Rotating"},{type:"clip-circle",name:"Clip (Circle)"},{type:"clip-rect",name:"Clip (Rectangle)"},{type:"pattern",name:"Pattern"},{type:"local-pattern",name:"Pattern (GLSL)"},{type:"text",name:"Text"},{type:"flash",name:"Flash"},{type:"fade-in",name:"Fade In"},{type:"fade-out",name:"Fade Out"},{type:"flash",name:"Flash"},{type:"flash-fill",name:"Flash (Fill)"},{type:"flash-text",name:"Flash (Text)"},{type:"subliminal",name:"Subliminal"},{type:"image",name:"Image"},{type:"video",name:"Video"}],optionName:function(e){return e.name}}),It=function(e){var t=e.assets,n=e.fps,a=e.value,i=e.onChange;return r.createElement(Rt,{props:{assets:t,fps:n},label:"Patterns",value:a,onChange:i})},jt=n(56912);function Ft(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t,n,r,a,i,u){try{var l=e[i](u),o=l.value}catch(e){return void n(e)}l.done?t(o):Promise.resolve(o).then(r,a)}function Mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){Bt(i,r,a,u,l,"next",e)}function l(e){Bt(i,r,a,u,l,"throw",e)}u(void 0)}))}}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e){var t=r.useMemo((function(){return Ue(e.pattern)}),[e.pattern]),n=r.useMemo((function(){return ze(e.pattern)}),[e.pattern]),a=r.useMemo((function(){return _e(e.pattern)}),[e.pattern]),i=r.useMemo((function(){return Ne(e.pattern)}),[e.pattern]),u=Ut(r.useState({}),2),l=u[0],o=u[1],c=Ut(r.useState({}),2),s=c[0],f=c[1],p=Ut(r.useState({}),2),m=p[0],h=p[1],d=Ut(r.useState({}),2),g=d[0],v=d[1];return r.useEffect((function(){var n=!1;return function(e,t){return Ye.apply(this,arguments)}(e.resolution,t).then((function(e){n||o(e)})),function(){n=!0}}),[e.resolution,t.join("|")]),r.useEffect((function(){var t=!1;return function(e,t){return Xe.apply(this,arguments)}(e.resolution,n).then((function(e){t||f(e)})),function(){t=!0}}),[e.resolution,n.map((function(e){var t=Ut(e,2);return t[0]+"|"+t[1]})).join("|")]),r.useEffect((function(){var e=!1;return function(e){return He.apply(this,arguments)}(a).then((function(t){e||h(t)})),function(){e=!0}}),[a.join("|")]),r.useEffect((function(){var e=!1;return function(e){return qe.apply(this,arguments)}(i).then((function(t){e||v(t)})),function(){e=!0}}),[i.join("|")]),{shaders:r.useMemo((function(){return Dt(Dt({},s),l)}),[s,l]),images:m,videos:g}}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xt=function(e){var t=e.disabled,n=e.className,a=e.def,i=e.assets,u=e.onClick,l=Nt(r.useState(null),2),o=l[0],c=l[1];return function(e,t){var n=t.enable,a=t.def,i=t.assets,u=r.useRef(performance.now()),l=r.useRef(0),o=r.useRef();!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r.useRef(e),a=r.useRef(0);r.useEffect((function(){n.current=e}),[e].concat(Ft(t))),r.useEffect((function(){var e=!1,t=0;return t=requestAnimationFrame((function r(){e||(n.current?n.current(a.current).then((function(){a.current=a.current+1,t=requestAnimationFrame(r)})):t=requestAnimationFrame(r))})),function(){cancelAnimationFrame(t),e=!0}}),[])}(Mt(regeneratorRuntime.mark((function t(){var r,c,s,f,p,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return");case 2:if(null!=o.current&&o.current.width===e.width&&o.current.height===e.height||(o.current=document.createElement("canvas"),o.current.width=e.width,o.current.height=e.height),r=u.current,c=performance.now(),s=1/(a.fps*a.speed),!((f=(c-r)/1e3)<s)){t.next=9;break}return t.abrupt("return");case 9:for(;f>=s;)l.current=l.current+1,f-=s;if(u.current=performance.now()-f,p=a.totalFrames>0?l.current%a.totalFrames:l.current,null==e||null==i){t.next=17;break}return t.next=15,Be(o.current,a.pattern,p,i,{fps:a.fps});case 15:I(e),null===(m=e.getContext("2d"))||void 0===m||m.drawImage(o.current,0,0);case 17:case"end":return t.stop()}}),t)}))),[n,a,i,e])}(o,{enable:!t,assets:i,def:a}),r.createElement("canvas",{className:n,width:a.resolution[0]>0?a.resolution[0]:32,height:a.resolution[1]>0?a.resolution[1]:32,ref:function(e){return c(e)},onClick:u})},Ht=function(e){var t=e.className,n=e.frame,a=e.def,i=e.assets,u=e.onClick,l=Nt(r.useState(null),2),o=l[0],c=l[1];return function(e,t){var n=t.frame,a=t.def,i=t.assets;r.useRef(),(0,r.useEffect)((function(){if(e){var t=!1,r=document.createElement("canvas");r.width=e.width,r.height=e.height;var u=a.totalFrames>0?n%a.totalFrames:n;return null!=e&&null!=i&&Be(r,a.pattern,u,i,{fps:a.fps}).then((function(){var n;t||(I(e),null===(n=e.getContext("2d"))||void 0===n||n.drawImage(r,0,0))})),function(){t=!0}}}),[a,i,n,e])}(o,{frame:n,assets:i,def:a}),r.createElement("canvas",{className:t,width:a.resolution[0]>0?a.resolution[0]:32,height:a.resolution[1]>0?a.resolution[1]:32,ref:function(e){return c(e)},onClick:u})};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt=(0,a.Z)({root:{marginRight:"1em"},canvas:{width:"320px",verticalAlign:"top",cursor:"pointer"},background:{backgroundImage:"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),Qt=function(e){var t=e.assets,n=e.value,a=e.onChange,i=Jt(),u=i.root,l=i.canvas,o=i.background,m=Gt(r.useState(!1),2),h=m[0],d=m[1],g=Gt(r.useState(0),2),v=g[0],y=g[1];return r.createElement(r.Fragment,null,r.createElement(c.Z,{variant:"h1",paragraph:!0},"Spiral Editor"),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Pattern"),r.createElement(It,{assets:t,value:n.pattern,fps:n.fps,onChange:function(e){return a($t($t({},n),{},{pattern:e}))}}),r.createElement(s.Z,{container:!0},r.createElement(s.Z,{item:!0},r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Preview"),r.createElement("div",{className:u},h?r.createElement("div",null,r.createElement("div",{className:o},r.createElement(Ht,{className:l,def:n,assets:t,frame:v,onClick:function(){return d(!1)}})),r.createElement("div",null,0==n.totalFrames?r.createElement(f.Z,{value:v,type:"number",inputProps:{min:0},onChange:function(e){return y(parseInt(e.target.value,0))}}):r.createElement(p.Z,{step:1,valueLabelDisplay:"auto",value:v,min:0,max:n.totalFrames-1,onChange:function(e,t){return y(t)}}))):r.createElement("div",{className:o},r.createElement(Xt,{className:l,def:n,assets:t,onClick:function(){return d(!0)}})))),r.createElement(s.Z,{item:!0,style:{flexGrow:1}},r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Resolution"),r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Width",value:n.resolution[0],onChange:function(e){return a($t($t({},n),{},{resolution:[parseInt(e.target.value||"0",0),n.resolution[1]]}))}})),r.createElement(s.Z,{item:!0,xs:12,sm:6},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Height",value:n.resolution[1],onChange:function(e){return a($t($t({},n),{},{resolution:[n.resolution[0],parseInt(e.target.value||"0",0)]}))}}))),r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Framerate"),r.createElement(s.Z,{container:!0,spacing:3},r.createElement(s.Z,{item:!0,xs:12,sm:6,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"FPS",value:n.fps,onChange:function(e){return a($t($t({},n),{},{fps:parseInt(e.target.value||"0",0)}))}})),r.createElement(s.Z,{item:!0,xs:12,sm:6,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Total Frames",value:n.totalFrames,onChange:function(e){return a($t($t({},n),{},{totalFrames:parseInt(e.target.value||"0",0)}))}})),r.createElement(s.Z,{item:!0,xs:12,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Speed",value:n.speed,onChange:function(e){return a($t($t({},n),{},{speed:parseFloat(e.target.value||"0")}))}}))))))},en=n(95477),tn=function(e){var t=e.className,n=e.status;return r.createElement(i.Z,{open:"no"!==n.current},r.createElement(u.Z,null,r.createElement(en.Z,{className:t,size:360,color:"rendering"===n.current?"primary":"secondary",variant:"determinate",value:("rendering"===n.current?0:50)+("no"!==n.current?50*n.progress:0)})))};function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var an=(0,a.Z)({page:{objectFit:"cover",width:"100%",height:"100vh"}},{name:"SpiralViewer"});function un(){var e,t,n,a,c,s,f,p,m,d,g,y,b,E,S,w=an().page,x=nn(r.useState(!1),2),Z=x[0],C=x[1],k=nn((e=Ut((0,jt.xT)("pattern",[]),2),t=e[0],n=e[1],a=Ut((0,jt.$w)("speed",1),2),c=a[0],s=a[1],f=Ut((0,jt.$w)("fps",60),2),p=f[0],m=f[1],d=Ut((0,jt.$w)("total-frames",p),2),g=d[0],y=d[1],b=Ut((0,jt.xT)("screen",[1280,720]),2),E=b[0],S=b[1],[r.useMemo((function(){return{pattern:t,speed:c,fps:p,totalFrames:g,resolution:E}}),[t,c,p,g,E]),function(e){n(e.pattern),s(e.speed),m(e.fps),y(e.totalFrames),S(e.resolution)}]),2),A=k[0],O=k[1],P=_t(A),R=nn(function(e,t){var n=Oe(r.useState({current:"no"}),2),a=n[0],i=n[1];return[a,Fe(regeneratorRuntime.mark((function n(){var r,a,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i({current:"rendering",progress:0}),r=new(h())({quality:5,repeat:0}),a=e.totalFrames||e.fps,u=regeneratorRuntime.mark((function n(u){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(Fe(regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(l=document.createElement("canvas")).width=e.resolution[0]>0?e.resolution[0]:32,l.height=e.resolution[1]>0?e.resolution[1]:32,n.next=5,Be(l,e.pattern,u,t,{fps:e.fps});case 5:i({current:"rendering",progress:u/a}),r.addFrame(l,{delay:1e3/(e.speed*e.fps),copy:!0});case 7:case"end":return n.stop()}}),n)}))));case 2:case"end":return n.stop()}}),n)})),l=0;case 5:if(!(l<a)){n.next=10;break}return n.delegateYield(u(l),"t0",7);case 7:++l,n.next=5;break;case 10:r.on("progress",(function(e){i({current:"exporting",progress:e})})),r.on("finished",(function(e){window.open(URL.createObjectURL(e)),i({current:"no"})})),r.render();case 13:case"end":return n.stop()}}),n)})))]}(A,P),2),I=R[0],j=R[1];return r.createElement(r.Fragment,null,r.createElement(Xt,{disabled:Z||"no"!==I.current,className:w,def:A,assets:P,onClick:function(){return C(!0)}}),r.createElement(i.Z,{open:Z,maxWidth:"xl",fullWidth:!0},r.createElement(u.Z,null,r.createElement(Qt,{assets:P,value:A,onChange:O})),r.createElement(l.Z,null,r.createElement(o.Z,{color:"secondary",onClick:function(){return C(!1)}},"Close"),r.createElement(o.Z,{color:"primary",disabled:A.totalFrames<=0,onClick:function(){C(!1),j()}},"Render"))),r.createElement(tn,{status:I}))}}}]);