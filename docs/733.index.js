/*! For license information please see 733.index.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[733],{7733:(t,e,n)=>{n.r(e),n.d(e,{default:()=>In});var r=n(67294),o=n(61714),i=n(84986),a=n(72962),u=n(95305),l=n(94174),c=n(91647),s=n(30030),f=n(73202),h=n(85659),p=n(89762),d=n.n(p);function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const v=function(){var t,e,n=(t=r.useState([window.innerWidth,window.innerHeight]),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];return r.useEffect((function(){var t=function(){i([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),o};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function g(){g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new O(o||[]);return r(a,"_invoke",{value:S(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(L([])));b&&b!==e&&n.call(b,i)&&(m=b);var w=d.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==y(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function S(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=P(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function P(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,P(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function Z(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(Z,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=d,r(w,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function b(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,u,"next",t)}function u(t){b(i,r,o,a,u,"throw",t)}a(void 0)}))}}function E(t,e){return new Promise((function(n,r){null!=e&&e.active?requestAnimationFrame(w(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t();case 3:n();case 4:case"end":return e.stop()}}),e)})))):setTimeout(w(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t();case 3:n();case 4:case"end":return e.stop()}}),e)}))),0)}))}function x(t,e,n,r){function o(t){var e=(0|t).toString(16);return 1==e.length?"0"+e:e}return"#".concat(o(255*t)).concat(o(255*e)).concat(o(255*n))}function S(t,e,n,r){return"rgba(".concat(255*t|0,", ").concat(255*e|0,", ").concat(255*n|0,", ").concat(null!=r?r:1,")")}function P(t,e,n){return[t/255,e/255,n/255,1]}function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function k(){k=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new O(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==Z(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){L(i,r,o,a,u,"next",t)}function u(t){L(i,r,o,a,u,"throw",t)}a(void 0)}))}}function j(t,e,n,r){return A.apply(this,arguments)}function A(){return A=C(k().mark((function t(e,n,r,o){var i,a,u,l,c;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==r){t.next=2;break}return t.abrupt("return");case 2:return(i=document.createElement("canvas")).width=r*Math.min(e.width,e.height),i.height=i.width,t.next=7,o(i);case 7:a=(n[0]+1)*(e.width/2),u=(n[1]+1)*(e.height/2),l=i.width/2,(c=e.getContext("2d")).save(),c.beginPath(),c.arc(a,u,l,0,2*Math.PI,!0),c.closePath(),c.clip(),c.drawImage(i,a-l,u-l,i.width,i.height),c.restore();case 18:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function I(t,e,n,r){return _.apply(this,arguments)}function _(){return _=C(k().mark((function t(e,n,r,o){var i,a,u,l,c;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==r[0]&&0!==r[1]){t.next=2;break}return t.abrupt("return");case 2:return(i=document.createElement("canvas")).width=r[0]*e.width,i.height=r[1]*e.height,t.next=7,o(i);case 7:a=[n[0]-r[0],n[1]-r[1]],u=(a[0]+1)/2*e.width,l=(a[1]+1)/2*e.height,(c=e.getContext("2d")).save(),c.beginPath(),c.rect(u,l,i.width,i.height),c.closePath(),c.clip(),c.drawImage(i,u,l,i.width,i.height),c.restore();case 18:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function F(t,e){var n,r=t.getContext("2d");r.save(),r.globalAlpha=e[3],r.fillStyle=x.apply(void 0,function(t){if(Array.isArray(t))return O(t)}(n=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.fillRect(0,0,t.width,t.height),r.restore()}function T(t,e,n){return N.apply(this,arguments)}function N(){return N=C(k().mark((function t(e,n,r){var o,i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getContext("2d"),(i=document.createElement("canvas")).width=e.width,i.height=e.height,t.next=6,r(i);case 6:o.save(),o.translate(i.width/2,i.height/2),o.rotate(.0174533*n),o.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),o.restore();case 11:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}function G(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}function W(t,e,n){return D.apply(this,arguments)}function D(){return D=C(k().mark((function t(e,n,r){var o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=e.getContext("2d")).save(),o.globalAlpha=o.globalAlpha*n,t.next=5,r(e);case 5:o.restore();case 6:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function R(t,e,n,r){return M.apply(this,arguments)}function M(){return M=C(k().mark((function t(e,n,r,o){var i,a,u,l,c,s,f,h,p,d,m,v,y;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null!==(i=r.stageLengths)&&void 0!==i?i:[15,15,15,15],u=a.reduce((function(t,e){return t+e}),0),l=n%u,(c=document.createElement("canvas")).width=e.width,c.height=e.height,t.next=8,o(c);case 8:s=e.getContext("2d"),l<a[0]||(a[0]>0&&l<a[0]+a[1]?(s.save(),s.globalAlpha=(null!==(f=null===(h=r.style)||void 0===h?void 0:h.alpha)&&void 0!==f?f:1)*(l-a[1])/a[1],s.drawImage(c,0,0,c.width,c.height),s.restore()):a[1]>0&&l<a[0]+a[1]+a[2]?(s.save(),s.globalAlpha=null!==(p=null===(d=r.style)||void 0===d?void 0:d.alpha)&&void 0!==p?p:1,s.drawImage(c,0,0,c.width,c.height),s.restore()):a[2]>0&&l<a[0]+a[1]+a[2]+a[3]&&(y=l-(a[0]+a[1]+ +a[2]),s.save(),s.globalAlpha=(null!==(m=null===(v=r.style)||void 0===v?void 0:v.alpha)&&void 0!==m?m:1)*(a[3]-y)/a[3],s.drawImage(c,0,0,c.width,c.height),s.restore()));case 10:case"end":return t.stop()}}),t)}))),M.apply(this,arguments)}function B(t,e,n,r){return Y.apply(this,arguments)}function Y(){return Y=C(k().mark((function t(e,n,r,o){var i,a,u;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null!==(i=r.length)&&void 0!==i?i:60,u=1,n<a&&(u=n/a),t.next=5,W(e,u,o);case 5:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function U(t,e,n,r){return z.apply(this,arguments)}function z(){return z=C(k().mark((function t(e,n,r,o){var i,a,u;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null!==(i=r.length)&&void 0!==i?i:60,u=0,n<a&&(u=1-n/a),t.next=5,W(e,u,o);case 5:case"end":return t.stop()}}),t)}))),z.apply(this,arguments)}function H(t,e,n){R(t,e,{stageLengths:n.stageLengths},function(){var t=C(k().mark((function t(e){var r,o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(e,null!==(r=null===(o=n.style)||void 0===o?void 0:o.backgroundColor)&&void 0!==r?r:[1,1,1,1]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){var n,r,o,i,a,u,l,c,s=t.getContext("2d"),f=t,h=e.image,p=f.width/(h.width+(null!==(n=null==e||null===(r=e.styles)||void 0===r?void 0:r.padding)&&void 0!==n?n:0)),d=f.height/(h.height+(null!==(o=null==e||null===(i=e.styles)||void 0===i?void 0:i.padding)&&void 0!==o?o:0)),m=(l=p>d?[f.width,h.height*p|0]:[h.width*d,f.height],c=2,function(t){if(Array.isArray(t))return t}(l)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(l,c)||function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(l,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=m[0],y=m[1];s.save(),s.globalAlpha=null!==(a=null===(u=e.styles)||void 0===u?void 0:u.alpha)&&void 0!==a?a:1,s.drawImage(h,(f.width-v)/2,(f.height-y)/2,v,y),s.restore()}function q(t){return new Promise((function(e){var n=new Image;n.addEventListener("load",(function t(){n.removeEventListener("load",t),e(n)})),n.crossOrigin="Anonymous",n.src=t}))}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}P(178,76,229),P(80,200,120),P(175,237,152),P(246,240,224),P(255,223,0),P(255,209,219),P(204,141,205),P(255,192,203),P(255,20,147),P(255,0,255),P(255,255,0),P(127,0,0),P(0,255,255),P(255,0,0),P(0,255,0),P(1,1,1),P(127,127,127),P(255,255,255),P(213,172,119),P(0,0,255),P(152,251,237),P(173,216,230),P(204,204,255),P(137,207,240),P(100,149,237),P(7,42,108),P(245,118,26),P(253,103,58),P(255,140,0),P(227,74,39),P(255,241,215),P(64,0,255);var tt=function(){function t(e){var n,r;K(this,t),this.canvas=e,this.gl=null!==(n=null!==(r=e.getContext("webgl"))&&void 0!==r?r:e.getContext("experimental-webgl"))&&void 0!==n?n:function(){throw new Error("")}()}return Q(t,[{key:"ref",value:function(){return this.gl}},{key:"createBuffer",value:function(){var t=this.gl.createBuffer();if(null==t)throw new Error("");return new nt(this.gl,t)}},{key:"createProgram",value:function(t,e){var n=this.gl.createProgram();if(null==n)throw new Error("");var r=this.createShader(t,this.gl.VERTEX_SHADER);this.gl.attachShader(n,r),this.gl.deleteShader(r);var o=this.createShader("precision highp float;\n\n"+e,this.gl.FRAGMENT_SHADER);if(this.gl.attachShader(n,o),this.gl.deleteShader(o),this.gl.linkProgram(n),!this.gl.getProgramParameter(n,this.gl.LINK_STATUS))throw new Error("VALIDATE_STATUS: ".concat(this.gl.getProgramParameter(n,this.gl.VALIDATE_STATUS)," ERROR: ").concat(this.gl.getError()));return new et(this.gl,n)}},{key:"clear",value:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT|this.gl.STENCIL_BUFFER_BIT),this.gl.clearColor(0,0,0,1)}},{key:"render",value:function(t,e){var n=this,r=t.ref();this.gl.useProgram(r),Object.keys(e).forEach((function(t){var o=e[t],i=n.gl.getUniformLocation(r,t);if(i)if(Array.isArray(o))switch(o.length){case 2:n.gl.uniform2f(i,o[0],o[1]);break;case 3:n.gl.uniform3f(i,o[0],o[1],o[2]);break;case 4:n.gl.uniform4f(i,o[0],o[1],o[2],o[3])}else n.gl.uniform1f(i,o)})),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}},{key:"createShader",value:function(t,e){var n=this.gl.createShader(e);if(null==n)throw new Error("");if(this.gl.shaderSource(n,t),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))throw new Error((e==this.gl.VERTEX_SHADER?"VERTEX":"FRAGMENT")+" SHADER:\n"+this.gl.getShaderInfoLog(n));return n}},{key:"width",value:function(){return this.canvas.clientWidth}},{key:"height",value:function(){return this.canvas.clientHeight}}]),t}(),et=function(){function t(e,n){K(this,t),V(this,"destroyed",!1),this.gl=e,this.program=n}return Q(t,[{key:"ref",value:function(){return this.program}},{key:"ok",value:function(){return!this.destroyed}},{key:"destroy",value:function(){this.gl.deleteProgram(this.program),this.destroyed=!0}}]),t}(),nt=function(){function t(e,n){K(this,t),V(this,"destroyed",!1),this.gl=e,this.buffer=n}return Q(t,[{key:"ref",value:function(){return this.buffer}},{key:"ok",value:function(){return!this.destroyed}},{key:"bind",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(0,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(0)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.buffer),this.destroyed=!0}}]),t}();function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function ot(){ot=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new Z(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==rt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function it(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ut(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function lt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ut(i,r,o,a,u,"next",t)}function u(t){ut(i,r,o,a,u,"throw",t)}a(void 0)}))}}function ct(t,e,n){var r,o,i,a,u,l,c,s,f,h,p=n.shader[2];p.width=t.width,p.height=t.height;var d=new tt(p),m={time:e/(null!==(r=n.fps)&&void 0!==r?r:60),rotation:1,direction:1,branchCount:4,resolution:[p.width,p.height],aspect:p.width>p.height?[p.width/p.height,1]:[1,p.height/p.width],bgColor:null!==(o=null===(i=n.colors)||void 0===i?void 0:i.bgColor)&&void 0!==o?o:[0,0,0,0],fgColor:null!==(a=null===(u=n.colors)||void 0===u?void 0:u.fgColor)&&void 0!==a?a:[1,1,1,1],pulseColor:null!==(l=null===(c=n.colors)||void 0===c?void 0:c.pulseColor)&&void 0!==l?l:[178/255,76/255,229/255,1],dimColor:null!==(s=null===(f=n.colors)||void 0===f?void 0:f.dimColor)&&void 0!==s?s:[0,0,0,1]};d.clear(),n.shader[0].bind(),d.render(n.shader[1],m),null===(h=t.getContext("2d"))||void 0===h||h.drawImage(p,0,0,t.width,t.height)}function st(t,e){return ft.apply(this,arguments)}function ft(){return(ft=lt(ot().mark((function t(e,n){var r,o,i,a,u;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=it(e,2),o=r[0],i=r[1],(a=document.createElement("canvas")).width=o,a.height=i,t.next=6,fetch(n).then((function(t){return t.text()}));case 6:return u=t.sent,t.next=9,ht([o,i],u);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t,e){return pt.apply(this,arguments)}function pt(){return(pt=lt(ot().mark((function t(e,n){var r,o,i,a,u,l,c,s;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=it(e,2),o=r[0],i=r[1],(a=document.createElement("canvas")).width=o,a.height=i,u=new tt(a),t.next=7,fetch("shaders/spiral.vs").then((function(t){return t.text()}));case 7:return l=t.sent,(c=u.createBuffer()).ok()||console.error("failed to create buffer"),(s=u.createProgram(l,n)).ok()||console.error("failed to create program"),t.abrupt("return",[c,s,a]);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(t,e){return((1048320&function(t,e){e|=0;var n=function(t,e){return e^e>>t};return e*=3039394381,e=n(8,e+=t),e=function(t,e){return e^e<<8}(0,e+=1759714724),n(8,e*=458671337)}(t,e))>>8)/4095}function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function vt(){vt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new Z(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==mt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function Et(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){wt(i,r,o,a,u,"next",t)}function u(t){wt(i,r,o,a,u,"throw",t)}a(void 0)}))}}function xt(t){return function(t){if(Array.isArray(t))return St(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pt(t,e){var n,r,o,i,a,u,l,c,s,f,h,p,d,m,v,y,g,b,w,E,S,P,Z,k,O=e.value,L=e.style,C=[t.width,t.height],j=Math.min(Math.max(12,Math.min.apply(Math,C)/12.5),256)*(null!==(n=null==L?void 0:L.size)&&void 0!==n?n:1),A=0+(null!==(r=null==L?void 0:L.offsetX)&&void 0!==r?r:0),I=0+(null!==(o=null==L?void 0:L.offsetY)&&void 0!==o?o:0);switch(null!==(i=null==L?void 0:L.align)&&void 0!==i?i:"center"){case"left":A=-.95+(null!==(a=null==L?void 0:L.offsetX)&&void 0!==a?a:0);break;case"right":A=.95+(null!==(u=null==L?void 0:L.offsetX)&&void 0!==u?u:0);break;case"center":I=0+(null!==(l=null==L?void 0:L.offsetY)&&void 0!==l?l:0);break;case"top":I=-.95+(null!==(c=null==L?void 0:L.offsetY)&&void 0!==c?c:0);break;case"bottom":I=.95+(null!==(s=null==L?void 0:L.offsetY)&&void 0!==s?s:0);break;case"top-left":A=-.95+(null!==(f=null==L?void 0:L.offsetX)&&void 0!==f?f:0),I=-.95+(null!==(h=null==L?void 0:L.offsetY)&&void 0!==h?h:0);break;case"top-right":A=.95+(null!==(p=null==L?void 0:L.offsetX)&&void 0!==p?p:0),I=-.95+(null!==(d=null==L?void 0:L.offsetY)&&void 0!==d?d:0);break;case"bottom-left":A=-.95+(null!==(m=null==L?void 0:L.offsetX)&&void 0!==m?m:0),I=.95+(null!==(v=null==L?void 0:L.offsetY)&&void 0!==v?v:0);break;case"bottom-right":A=.95+(null!==(y=null==L?void 0:L.offsetX)&&void 0!==y?y:0),I=.95+(null!==(g=null==L?void 0:L.offsetY)&&void 0!==g?g:0)}var _=t.getContext("2d");_.save(),_.textBaseline="top",_.font="".concat(j,"px ").concat((null!==(b=null==L?void 0:L.fonts)&&void 0!==b?b:["Uni Sans Heavy","Roboto","Helvetica","Arial","sans-serif"]).join(", "));var F=_.measureText(O),T=(1+A)/2*t.width-F.width/2,N=(1+I)/2*t.height-j/2;T<10?(T=10,_.textAlign="left"):T+F.width>=t.width-10?(T=t.width-F.width-10,_.textAlign="left"):(_.textAlign="center",T=(1+A)/2*t.width),N<10?N=10:N+j/2>=t.height-j-10&&(N=t.height-j-10);var G=x.apply(void 0,xt(null!==(w=null==L||null===(E=L.fillColor)||void 0===E?void 0:E.slice(0,3))&&void 0!==w?w:[1,1,1])),W=x.apply(void 0,xt(null!==(S=null==L||null===(P=L.strokeColor)||void 0===P?void 0:P.slice(0,3))&&void 0!==S?S:[1/256,1/256,1/256]));_.lineWidth=null!==(Z=null==L?void 0:L.lineWidth)&&void 0!==Z?Z:Math.max(null!==(k=null==L?void 0:L.size)&&void 0!==k?k:1,1),_.fillStyle=G,W!=G&&(_.strokeStyle=W),_.fillText(O,T,N),W!=G&&_.strokeText(O,T,N),_.restore()}function Zt(t,e,n){var r;if(0!==n.text.length){var o=(null!==(r=n.stageLengths)&&void 0!==r?r:[15,15,15,15]).reduce((function(t,e){return t+e}),0),i=e/o|0,a=function(t){var e=0,n=0;if(0===t.length)return e;for(n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}(n.text.reduce((function(t,e){return"".concat(t,":").concat(e)}),"")),u=n.text[(e/o|0)%n.text.length],l=2*dt(a,2*i)-1,c=2*dt(a,2*i+1)-1;R(t,e,{stageLengths:n.stageLengths},function(){var t=Et(vt().mark((function t(e){var r;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Pt(e,{value:u,style:gt(gt({},null!==(r=n.style)&&void 0!==r?r:{}),{},{align:"center",offsetX:l,offsetY:c})});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}function kt(t,e,n){var r,o,i;if(0!==n.text.length){var a=(null!==(r=n.stageLengths)&&void 0!==r?r:[15,15,15,15]).reduce((function(t,e){return t+e}),0),u=null!=(null===(o=n.style)||void 0===o?void 0:o.align)?n.style.align[null!==(i=(e/a|0)%n.style.align.length)&&void 0!==i?i:1]:"center",l=n.text[(e/a|0)%n.text.length];R(t,e,{stageLengths:n.stageLengths},function(){var t=Et(vt().mark((function t(e){var r,o,i,a,c,s,f,h,p;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Pt(e,{value:l,style:gt(gt(gt({lineWidth:null===(r=n.style)||void 0===r?void 0:r.lineWidth},null!=(null===(o=n.style)||void 0===o?void 0:o.fillColor)?{fillColor:n.style.fillColor}:{}),null!=(null===(i=n.style)||void 0===i?void 0:i.strokeColor)?{strokeColor:n.style.strokeColor}:{}),{},{bold:null===(a=n.style)||void 0===a?void 0:a.bold,size:null!==(c=null===(s=n.style)||void 0===s?void 0:s.size)&&void 0!==c?c:1,align:u,fonts:null===(f=n.style)||void 0===f?void 0:f.fonts,offsetX:null===(h=n.style)||void 0===h?void 0:h.offsetX,offsetY:null===(p=n.style)||void 0===p?void 0:p.offsetY})});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Lt(){Lt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new Z(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==Ot(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function At(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function It(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){At(i,r,o,a,u,"next",t)}function u(t){At(i,r,o,a,u,"throw",t)}a(void 0)}))}}function _t(t,e,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=It(Lt().mark((function t(e,n,r){var o,i,a,u,l,c,s,f,h,p,d,m;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!==(o=r.fps)&&void 0!==o?o:60,a=r.video,u=e.getContext("2d"),l=e.width/a.videoWidth,c=e.height/a.videoHeight,s=e.width>e.height?[e.width,a.videoHeight*l|0]:[a.videoWidth*c,e.height],f=Ct(s,2),h=f[0],p=f[1],d=Math.ceil(a.duration*i),m=n%d/d*a.duration,a.currentTime=m,t.next=12,new Promise((function(t){a.addEventListener("canplay",(function e(){a.removeEventListener("canplay",e),t()}))}));case 12:u.drawImage(a,(e.width-h)/2,(e.height-p)/2,h,p);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Tt(t){return new Promise((function(e){var n=document.createElement("video");n.addEventListener("loadeddata",(function t(){n.removeEventListener("loadeddata",t),e(n)})),n.loop=!0,n.crossOrigin="Anonymous",n.src=t}))}function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ut(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Mt(){Mt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new Z(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==Nt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||Ut(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t){return function(t){if(Array.isArray(t))return zt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ut(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,e){if(t){if("string"==typeof t)return zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(t,e):void 0}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ht(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function Xt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ht(i,r,o,a,u,"next",t)}function u(t){Ht(i,r,o,a,u,"throw",t)}a(void 0)}))}}var $t=[{type:"change-speed",name:"Change Speed"},{type:"clip-circle",name:"Clip (Circle)"},{type:"clip-rect",name:"Clip (Rectangle)"},{type:"fade-in",name:"Fade In"},{type:"fade-out",name:"Fade Out"},{type:"fill",name:"Fill"},{type:"flash",name:"Flash"},{type:"flash-fill",name:"Flash (Fill)"},{type:"flash-text",name:"Flash (Text)"},{type:"frame-offset",name:"Frame Offset"},{type:"hide-after",name:"Hide After"},{type:"image",name:"Image"},{type:"opacity",name:"Opacity"},{type:"pattern",name:"Pattern"},{type:"local-pattern",name:"Pattern (GLSL)"},{type:"rotate-by",name:"Rotate By"},{type:"rotating",name:"Rotating"},{type:"show-after",name:"Show After"},{type:"subliminal",name:"Subliminal"},{type:"text",name:"Text"},{type:"video",name:"Video"}].sort((function(t,e){return t.name>e.name?1:-1}));function qt(t,e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Xt(Mt().mark((function t(e,n){var r,o,i;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Rt(e),t.prev=1,r.s();case 3:if((o=r.n()).done){t.next=9;break}return i=o.value,t.next=7,n(i);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))).apply(this,arguments)}function Kt(t,e,n,r,o){return Jt.apply(this,arguments)}function Jt(){return Jt=Xt(Mt().mark((function t(e,n,r,o,i){var a,u,l,c;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.type,t.next="fill"===t.t0?3:"opacity"===t.t0?4:"frame-offset"===t.t0?7:"change-speed"===t.t0?10:"rotate-by"===t.t0?13:"rotating"===t.t0?16:"hide-after"===t.t0?19:"show-after"===t.t0?26:"clip-circle"===t.t0?33:"clip-rect"===t.t0?36:"pattern"===t.t0?39:"local-pattern"===t.t0?45:"text"===t.t0?51:"subliminal"===t.t0?52:"fade-in"===t.t0?53:"fade-out"===t.t0?56:"flash"===t.t0?59:"flash-text"===t.t0?62:"flash-fill"===t.t0?63:"image"===t.t0?64:"video"===t.t0?70:78;break;case 3:return t.abrupt("return",F(e,n.color));case 4:return t.next=6,W(e,n.value,function(){var t=Xt(Mt().mark((function t(e){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:qt(n.children,(function(t){return Kt(e,t,r,o,i)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:return t.abrupt("return",t.sent);case 7:return t.next=9,qt(n.children,function(){var t=Xt(Mt().mark((function t(a){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt(e,a,r+n.by,o,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:return t.abrupt("return");case 10:return t.next=12,qt(n.children,(function(t){return Kt(e,t,r*n.factor,o,i)}));case 12:return t.abrupt("return");case 13:return t.next=15,T(e,n.angle,function(){var t=Xt(Mt().mark((function t(e){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt(n.children,(function(t){return Kt(e,t,r,o,i)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 15:return t.abrupt("return");case 16:return t.next=18,T(e,n.speed*r,function(){var t=Xt(Mt().mark((function t(e){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt(n.children,(function(t){return Kt(e,t,r,o,i)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 18:return t.abrupt("return");case 19:if(!(r<n.frames)){t.next=25;break}return t.next=22,qt(n.children,(function(t){return Kt(e,t,r,o,i)}));case 22:case 25:return t.abrupt("return");case 26:if(!(r>=n.frames)){t.next=32;break}return t.next=29,qt(n.children,(function(t){return Kt(e,t,r-n.frames,o,i)}));case 29:case 32:return t.abrupt("return");case 33:return t.next=35,j(e,n.origin,n.radius,(function(t){return qt(n.children,(function(e){return Kt(t,e,r,o,i)}))}));case 35:return t.abrupt("return");case 36:return t.next=38,I(e,n.origin,n.size,(function(t){return qt(n.children,(function(e){return Kt(t,e,r,o,i)}))}));case 38:return t.abrupt("return");case 39:if(null!=(a=o.shaders[n.pattern])){t.next=44;break}return t.abrupt("return");case 44:return t.abrupt("return",ct(e,r,{shader:a,colors:{bgColor:n.colors.bg,fgColor:n.colors.fg,dimColor:n.colors.dim,pulseColor:n.colors.pulse},fps:null==i?void 0:i.fps}));case 45:if(null!=(u=o.shaders[n.patternKey])){t.next=50;break}return t.abrupt("return");case 50:return t.abrupt("return",ct(e,r,{shader:u,fps:null==i?void 0:i.fps,colors:{bgColor:n.colors.bg,fgColor:n.colors.fg,dimColor:n.colors.dim,pulseColor:n.colors.pulse}}));case 51:return t.abrupt("return",Pt(e,{value:n.value,style:n.style}));case 52:return t.abrupt("return",Zt(e,r,{text:n.text,stageLengths:n.stages,style:n.style}));case 53:return t.next=55,B(e,r,{length:n.length},(function(t){return qt(n.children,(function(e){return Kt(t,e,r,o,i)}))}));case 55:return t.abrupt("return");case 56:return t.next=58,U(e,r,{length:n.length},(function(t){return qt(n.children,(function(e){return Kt(t,e,r,o,i)}))}));case 58:return t.abrupt("return");case 59:return t.next=61,R(e,r,{stageLengths:n.stages},(function(t){return qt(n.children,(function(e){return Kt(t,e,r,o,i)}))}));case 61:return t.abrupt("return");case 62:return t.abrupt("return",kt(e,r,{text:n.text,stageLengths:n.stages,style:n.style}));case 63:return t.abrupt("return",H(e,r,{stageLengths:n.stages,style:{backgroundColor:n.color}}));case 64:if(null!=(l=o.images[n.image])){t.next=69;break}return t.abrupt("return");case 69:return t.abrupt("return",$(e,{image:l}));case 70:if(null!=(c=o.videos[n.video])){t.next=75;break}return t.abrupt("return");case 75:return t.next=77,_t(e,r,{video:c,fps:null==i?void 0:i.fps});case 77:return t.abrupt("return",t.sent);case 78:console.log("Unrecognized command type",n);case 79:case"end":return t.stop()}}),t)}))),Jt.apply(this,arguments)}function Qt(t,e,n,r,o){return te.apply(this,arguments)}function te(){return(te=Xt(Mt().mark((function t(e,n,r,o,i){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(e),t.next=3,qt(n,(function(t){return Kt(e,t,r,o,i)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ee(t){return t.reduce((function(t,e){if("pattern"===e.type)return[].concat(Yt(t),[e.pattern]);var n=e;return null!=n.children?[].concat(Yt(t),Yt(ee(n.children))):t}),[])}function ne(t){return t.reduce((function(t,e){if("local-pattern"===e.type)return[].concat(Yt(t),[[e.patternKey,e.patternBody]]);var n=e;return null!=n.children?[].concat(Yt(t),Yt(ne(n.children))):t}),[])}function re(t){return t.reduce((function(t,e){if("image"===e.type)return[].concat(Yt(t),[e.image]);var n=e;return null!=n.children?[].concat(Yt(t),Yt(re(n.children))):t}),[])}function oe(t){return t.reduce((function(t,e){if("video"===e.type)return[].concat(Yt(t),[e.video]);var n=e;return null!=n.children?[].concat(Yt(t),Yt(oe(n.children))):t}),[])}function ie(){return ie=Xt(Mt().mark((function t(e,n){var r;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=Xt(Mt().mark((function t(n){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=n,t.next=4,st(e,"shaders/".concat(n,".fs"));case 4:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 8:return t.prev=8,t.t2=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return r=t.sent,t.abrupt("return",r.filter((function(t){return null!=t})).map((function(t){return t})).reduce((function(t,e){var n=Bt(e,2),r=n[0],o=n[1];return Wt(Wt({},t),{},Dt({},r,o))}),{}));case 4:case"end":return t.stop()}}),t)}))),ie.apply(this,arguments)}function ae(){return ae=Xt(Mt().mark((function t(e,n){var r;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=Xt(Mt().mark((function t(n){var r,o,i;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Bt(n,2),o=r[0],i=r[1],t.prev=1,t.t0=o,t.next=5,ht(e,i);case 5:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 9:return t.prev=9,t.t2=t.catch(1),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return r=t.sent,t.abrupt("return",r.filter((function(t){return null!=t})).map((function(t){return t})).reduce((function(t,e){var n=Bt(e,2),r=n[0],o=n[1];return Wt(Wt({},t),{},Dt({},r,o))}),{}));case 4:case"end":return t.stop()}}),t)}))),ae.apply(this,arguments)}function ue(){return ue=Xt(Mt().mark((function t(e){var n;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(){var t=Xt(Mt().mark((function t(e){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,q(e);case 4:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 8:return t.prev=8,t.t2=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return n=t.sent,t.abrupt("return",n.filter((function(t){return null!=t})).map((function(t){return t})).reduce((function(t,e){var n=Bt(e,2),r=n[0],o=n[1];return Wt(Wt({},t),{},Dt({},r,o))}),{}));case 4:case"end":return t.stop()}}),t)}))),ue.apply(this,arguments)}function le(){return le=Xt(Mt().mark((function t(e){var n;return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(){var t=Xt(Mt().mark((function t(e){return Mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,Tt(e);case 4:return t.t1=t.sent,t.abrupt("return",[t.t0,t.t1]);case 8:return t.prev=8,t.t2=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));case 2:return n=t.sent,t.abrupt("return",n.filter((function(t){return null!=t})).map((function(t){return t})).reduce((function(t,e){var n=Bt(e,2),r=n[0],o=n[1];return Wt(Wt({},t),{},Dt({},r,o))}),{}));case 4:case"end":return t.stop()}}),t)}))),le.apply(this,arguments)}var ce=n(50130),se=n(91321),fe=n(89978),he=n(18720),pe=n(1757),de=n(2785),me=n(58727),ve=n(50808),ye=n(30231),ge=n(19382),be=n(12487),we=n(81481),Ee=n(95617),xe=n(46761),Se=n(29488),Pe=n(95135),Ze=n(6571),ke=n(93565),Oe=[{key:"pendulum-bicolor-pulse",name:"Pendulum (Bi-color, Pulse)"},{key:"pendulum-bicolor",name:"Pendulum (Bi-color)"},{key:"pendulum-circles",name:"Pendulum (Circles)"},{key:"pendulum-total-disc",name:"Pendulum (Disc, Total)"},{key:"pendulum-disc",name:"Pendulum (Disc)"},{key:"pendulum-dot",name:"Pendulum (Dot)"},{key:"pendulum-doublesine",name:"Pendulum (Doublesine)"},{key:"pendulum-oval-intermittent-spiral",name:"Pendulum (Oval, Intermittent Spiral)"},{key:"pendulum-oval",name:"Pendulum (Oval)"},{key:"pendulum-spiral-alt",name:"Pendulum (Spiral, Alt)"},{key:"pendulum-pulsing-spiral",name:"Pendulum (Spiral, Pulsing)"},{key:"pendulum-twisted-spiral-going-inwards",name:"Pendulum (Spiral, Twisted)"},{key:"pendulum-spiral",name:"Pendulum (Spiral)"},{key:"full-bicolor-pulse",name:"Spiral (Bi-color, Pulse)"},{key:"full-archimedes",name:"Spiral (Archimedes)"},{key:"full-bicolor",name:"Spiral (Bi-color)"},{key:"static-breathe",name:"Spiral (Breathe, Rainbow)"},{key:"test-breathe",name:"Spiral (Breathe, Speedy)"},{key:"full-breathe",name:"Spiral (Breathe)"},{key:"test-bumpy-spiral",name:"Spiral (Bumpy)"},{key:"static-chain-circle",name:"Spiral (Chain Circle)"},{key:"static-color-spiral",name:"Spiral (Color)"},{key:"test-double-color",name:"Spiral (Colors, Double)"},{key:"static-range-colors",name:"Spiral (Colors, Range)"},{key:"full-complex-1",name:"Spiral (Complex)"},{key:"test-dot",name:"Spiral (Dots, Circle)"},{key:"test-full-dots",name:"Spiral (Dots, Full)"},{key:"full-dot-pulse",name:"Spiral (Dots, Pulse)"},{key:"test-small-dots",name:"Spiral (Dots, Small)"},{key:"full-dot",name:"Spiral (Dots)"},{key:"full-doublesine-pulse",name:"Spiral (Doublesine, Pulse)"},{key:"full-doublesine-twisted",name:"Spiral (Doublesine, Twisted)"},{key:"full-doublesine",name:"Spiral (Doublesine)"},{key:"full-doublestream",name:"Spiral (Doublestream)"},{key:"full-equal-branches-pulse",name:"Spiral (Equal Branches, Pulse)"},{key:"full-equal-branches",name:"Spiral (Equal Branches)"},{key:"static-events",name:"Spiral (Events)"},{key:"test-flash",name:"Spiral (Flashing)"},{key:"test-flower-colors-sin",name:"Spiral (Flower, Colors, Sin)"},{key:"full-flower",name:"Spiral (Flower)"},{key:"full-half-circle",name:"Spiral (Half-Circle)"},{key:"full-interferring-ripples-2",name:"Spiral (Interferring Ripples, Alt)"},{key:"test-double-async-interference",name:"Spiral (Interferring Ripples, Double Async)"},{key:"full-interferring-ripples-1",name:"Spiral (Interferring Ripples)"},{key:"full-inwards",name:"Spiral (Inwards)"},{key:"full-jff",name:"Spiral (JFF, Rainbow 9s loop)"},{key:"full-jff-bw",name:"Spiral (JFF)"},{key:"test-offset-2",name:"Spiral (Offset, Alt)"},{key:"test-offset",name:"Spiral (Offset)"},{key:"full-pulse",name:"Spiral (Pulse)"},{key:"full-pulsing-chain",name:"Spiral (Pulsing Chain)"},{key:"full-line-with-radial-pulses",name:"Spiral (Radial Pulses)"},{key:"full-semi-twisted-slow",name:"Spiral (Semi-Twisted, Slow)"},{key:"full-semi-twisted",name:"Spiral (Semi-Twisted)"},{key:"full-sharded-alt",name:"Spiral (Sharded, Alt)"},{key:"full-sharded-pulse",name:"Spiral (Sharded, Pulse)"},{key:"full-sharded",name:"Spiral (Sharded)"},{key:"test-singularity-1",name:"Spiral (Singularity, 1)"},{key:"test-singularity-2",name:"Spiral (Singularity, 2)"},{key:"test-singularity-3",name:"Spiral (Singularity, 3)"},{key:"test-singularity-4",name:"Spiral (Singularity, 4)"},{key:"full-speedup",name:"Spiral (Speed-up)"},{key:"test-rainbow-spiral",name:"Spiral (Spiral, Rainbow)"},{key:"full-squares-border",name:"Spiral (Squares, Double)"},{key:"test-squares-lol",name:"Spiral (Squares, Double)"},{key:"full-squares",name:"Spiral (Squares)"},{key:"full-thick",name:"Spiral (Thick)"},{key:"full-twisted-alt",name:"Spiral (Twisted, Alt)"},{key:"full-twisted-dots",name:"Spiral (Twisted, Dots)"},{key:"full-twisted-lines",name:"Spiral (Twisted, Lines)"},{key:"full-twisted-pulse",name:"Spiral (Twisted, Pulse)"},{key:"full-twisted-triplepulse",name:"Spiral (Twisted, Triple pulse)"},{key:"full-twisted",name:"Spiral (Twisted)"},{key:"test-expanding-twists",name:"Spiral (Twists, Expanding)"},{key:"test-weird-spiral-1",name:"Spiral (Weird, 1)"},{key:"test-weird-spiral-2",name:"Spiral (Weird, 2)"},{key:"test-weird-spiral-3",name:"Spiral (Weird, 3)"},{key:"test-weird-spiral-4",name:"Spiral (Weird, 4)"},{key:"test-weird-spiral-5",name:"Spiral (Weird, 5)"}].sort((function(t,e){return t.name<e.name?-1:1})),Le=n(55275);function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(this,arguments)}function Ae(){Ae=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new Z(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==Ce(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function Ie(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(t){return function(t){if(Array.isArray(t))return De(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||We(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||We(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(t,e){if(t){if("string"==typeof t)return De(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(t,e):void 0}}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Re=function(t){return function(e){var n=e.props,o=e.label,i=e.value,a=e.onChange,u=Ge((0,Le.oo)(),2),l=u[0],f=u[1],h=Ge(r.useState(null),2),p=h[0],d=h[1];return r.createElement(r.Fragment,null,r.createElement(c.Z,{variant:"h4",paragraph:!0},o),i.map((function(e,o){return r.createElement(s.ZP,{key:o,container:!0,spacing:3},r.createElement(s.ZP,{item:!0,style:{width:"120px"}},r.createElement(ce.Z,{color:"secondary",onClick:function(){return a([].concat(Ne(i.slice(0,Math.max(0,o-1))),[e],Ne(i.slice(o-1,o)),Ne(i.slice(o+1))))}},r.createElement(be.Z,null)),r.createElement(ce.Z,{color:"secondary",onClick:function(){return a([].concat(Ne(i.slice(0,Math.max(0,o))),Ne(i.slice(o+1,o+2)),[e],Ne(i.slice(o+2))))}},r.createElement(we.Z,null))),r.createElement(s.ZP,{item:!0,style:{width:"calc(100% - 240px)"}},t.edit(e,(function(t){return a([].concat(Ne(i.slice(0,o)),[t],Ne(i.slice(o+1))))}),n)),r.createElement(s.ZP,{item:!0,style:{width:"120px"}},r.createElement(ce.Z,{color:"secondary",onClick:function(){return f(e)}},r.createElement(Ee.Z,null)),r.createElement(ce.Z,{color:"secondary",onClick:function(){return a([].concat(Ne(i.slice(0,o)),Ne(i.slice(o+1))))}},r.createElement(xe.Z,null))))})),r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,style:{flexGrow:1}}),r.createElement(s.ZP,{item:!0},r.createElement(ce.Z,{disabled:null==l,onClick:function(t){a([].concat(Ne(i),[l])),f(null)}},r.createElement(Se.Z,null)),t.createOptions&&r.createElement(se.Z,{open:null!=p,anchorEl:p,onClose:function(){return d(null)}},t.createOptions.map((function(e,n){return r.createElement(fe.Z,{key:n,onClick:function(){a([].concat(Ne(i),[t.create(e)])),d(null)}},t.optionName(e))})))),r.createElement(s.ZP,{item:!0},r.createElement(ce.Z,{onClick:function(e){t.createOptions?d(e.currentTarget):a([].concat(Ne(i),[t.create()]))}},r.createElement(Pe.Z,null)),t.createOptions&&r.createElement(se.Z,{open:null!=p,anchorEl:p,onClose:function(){return d(null)}},t.createOptions.map((function(e,n){return r.createElement(fe.Z,{key:n,onClick:function(){a([].concat(Ne(i),[t.create(e)])),d(null)}},t.optionName(e))}))))))}},Me=function(t){var e=t.label,n=t.value,o=t.onChange;return r.createElement(r.Fragment,null,r.createElement(s.ZP,{container:!0,spacing:1},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},e)),r.createElement(s.ZP,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Hidden",fullWidth:!0,inputProps:{min:0,step:1},value:n[0],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o([parseInt(t.target.value||"0",0),n[1],n[2],n[3]])}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Fade in",fullWidth:!0,inputProps:{min:0,step:1},value:n[1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o([n[0],parseInt(t.target.value||"0",0),n[2],n[3]])}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Visible",fullWidth:!0,inputProps:{min:0,step:1},value:n[2],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o([n[0],n[1],parseInt(t.target.value||"0",0),n[3]])}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:3},r.createElement(f.Z,{type:"number",label:"Fade out",fullWidth:!0,inputProps:{min:0,step:1},value:n[3],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o([n[0],n[1],n[2],parseInt(t.target.value||"0",0)])}))}))))},Be=function(t){var e=t.label,n=t.value,o=t.onChange,i=Ge(r.useState(null),2),a=i[0],l=i[1];return r.createElement(r.Fragment,null,r.createElement(he.Z,{component:"div",style:{width:"100%",background:x.apply(void 0,Ne(n)),padding:"1.5em 0",textAlign:"center"}},r.createElement(u.Z,{style:{background:"white"},variant:"outlined",onClick:function(t){return l(t.currentTarget)}},e)),r.createElement(pe.ZP,{open:null!=a,onClose:function(){return l(null)},anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.createElement(ke.xS,{color:S.apply(void 0,Ne(n)),onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e;return o([t.rgb.r/255,t.rgb.g/255,t.rgb.b/255,null!==(e=t.rgb.a)&&void 0!==e?e:1])}))})))},Ye=function(t){var e=t.label,n=t.value,o=t.onChange;return r.createElement(s.ZP,{container:!0,spacing:1},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},e)),r.createElement(s.ZP,{item:!0,xs:12,sm:6},r.createElement(f.Z,{type:"number",label:"X",fullWidth:!0,inputProps:{step:.01},value:n[0],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o([parseFloat(t.target.value||"0"),n[1]])}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6},r.createElement(f.Z,{type:"number",label:"Y",fullWidth:!0,inputProps:{step:.01},value:n[1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o([n[0],parseFloat(t.target.value||"0")])}))})))},Ue=function(t){var e=t.label,n=t.value,o=t.onChange;return r.createElement(de.Z,{label:e,fullWidth:!0,value:n,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return o(t.target.value)}))},r.createElement(fe.Z,{value:"center"},"Center"),r.createElement(fe.Z,{value:"top"},"Top"),r.createElement(fe.Z,{value:"bottom"},"Bottom"),r.createElement(fe.Z,{value:"left"},"Left"),r.createElement(fe.Z,{value:"right"},"Right"),r.createElement(fe.Z,{value:"top-left"},"Top Left"),r.createElement(fe.Z,{value:"top-right"},"Top Right"),r.createElement(fe.Z,{value:"bottom-left"},"Bottom Left"),r.createElement(fe.Z,{value:"bottom-right"},"Bottom Right"))},ze=function(t){var e,n,o,i,a,u,l,h=t.label,p=t.value,d=t.onChange,m=Ge(r.useState(!1),2),v=m[0],y=m[1];return r.createElement(me.Z,{expanded:v,onChange:function(t,e){return y(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},h)),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(e=p.size)&&void 0!==e?e:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{size:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=p.lineWidth)&&void 0!==n?n:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{lineWidth:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Be,{label:"Fill Color",value:null!==(o=p.fillColor)&&void 0!==o?o:[1,1,1,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{fillColor:t}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Be,{label:"Stroke Color",value:null!==(i=p.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{strokeColor:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Ue,{label:"Align",value:null!==(a=p.align)&&void 0!==a?a:"center",onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{align:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Ye,{label:"Offset",value:[null!==(u=p.offsetX)&&void 0!==u?u:0,null!==(l=p.offsetY)&&void 0!==l?l:0],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=Ge(t,2),n=e[0],r=e[1];return d(Fe(Fe({},p),{},{offsetX:n,offsetY:r}))}))})))))},He=function(t){var e,n,o,i,a=t.label,u=t.value,l=t.onChange,h=Ge(r.useState(!1),2),p=h[0],d=h[1];return r.createElement(me.Z,{expanded:p,onChange:function(t,e){return d(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},a)),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(e=u.size)&&void 0!==e?e:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return l(Fe(Fe({},u),{},{size:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=u.lineWidth)&&void 0!==n?n:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return l(Fe(Fe({},u),{},{lineWidth:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Be,{label:"Fill Color",value:null!==(o=u.fillColor)&&void 0!==o?o:[1,1,1,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return l(Fe(Fe({},u),{},{fillColor:t}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Be,{label:"Stroke Color",value:null!==(i=u.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return l(Fe(Fe({},u),{},{strokeColor:t}))}))})))))},Xe=Re({create:function(){return"center"},edit:function(t,e){return r.createElement(Ue,{label:"align",value:t,onChange:e})}}),$e=function(t){var e,n,o,i,a,u,l,h=t.label,p=t.value,d=t.onChange,m=Ge(r.useState(!1),2),v=m[0],y=m[1];return r.createElement(me.Z,{expanded:v,onChange:function(t,e){return y(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},h)),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:.1},type:"number",label:"Font size",fullWidth:!0,value:null!==(e=p.size)&&void 0!==e?e:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{size:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(f.Z,{inputProps:{min:0,step:1},type:"number",label:"Line width",fullWidth:!0,value:null!==(n=p.lineWidth)&&void 0!==n?n:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{lineWidth:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Be,{label:"Fill Color",value:null!==(o=p.fillColor)&&void 0!==o?o:[1,1,1,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{fillColor:t}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Be,{label:"Stroke Color",value:null!==(i=p.strokeColor)&&void 0!==i?i:[0,0,0,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{strokeColor:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Ye,{label:"Offset",value:[null!==(a=p.offsetX)&&void 0!==a?a:0,null!==(u=p.offsetY)&&void 0!==u?u:0],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=Ge(t,2),n=e[0],r=e[1];return d(Fe(Fe({},p),{},{offsetX:n,offsetY:r}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Xe,{label:"Align",value:null!==(l=p.align)&&void 0!==l?l:[],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return d(Fe(Fe({},p),{},{align:t}))}))})))))},qe=function(t){var e,n,o,i,a,u,l,p,d,m,v,y,g,b,w,E,x,S,P,Z,k=t.fps,O=t.assets,L=t.value,C=t.onChange,j=Ge(r.useState(!1),2),A=j[0],I=j[1],_=Ge(r.useState(""),2),F=_[0],T=_[1];switch(L.type){case"fill":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fill")),r.createElement(ye.Z,null,r.createElement(Be,{label:"Color",value:L.color,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{color:t}))}))})));case"opacity":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Opacity")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(h.ZP,{valueLabelDisplay:"auto",min:0,max:1,step:.01,value:L.value,onChange:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return C(Fe(Fe({},L),{},{value:e}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"frame-offset":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Frame Offset")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"By",value:L.by,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{by:parseInt(t.target.value||"0",0)}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"hide-after":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Hide After")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"Frames",value:L.frames,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{frames:parseInt(t.target.value||"0",0)}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"show-after":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Show After")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{step:1},fullWidth:!0,type:"number",label:"Frames",value:L.frames,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{frames:parseInt(t.target.value||"0",0)}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"change-speed":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Change Speed")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Factor",value:L.factor,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{factor:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"rotate-by":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Rotate By")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Angle",value:L.angle,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{angle:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"rotating":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Rotating")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{inputProps:{min:0,step:.25},fullWidth:!0,type:"number",label:"Speed",value:L.speed,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{speed:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"clip-circle":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Clip (Circle)")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3,alignItems:"flex-end"},r.createElement(s.ZP,{item:!0,xs:8},r.createElement(Ye,{label:"Origin",value:L.origin,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{origin:t}))}))})),r.createElement(s.ZP,{item:!0,xs:4},r.createElement(f.Z,{type:"number",label:"Radius",fullWidth:!0,value:null!==(e=L.radius)&&void 0!==e?e:1,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{radius:parseFloat(t.target.value||"0")}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"clip-rect":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Clip (Rect)")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3,alignItems:"flex-end"},r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Ye,{label:"Origin",value:L.origin,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{origin:t}))}))})),r.createElement(s.ZP,{item:!0,xs:6},r.createElement(Ye,{label:"Size",value:L.size,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{size:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"text":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Text")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{fullWidth:!0,label:"Value",value:L.value,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{value:t.target.value}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(ze,{label:"Styles",value:null!==(n=L.style)&&void 0!==n?n:{},onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{style:t}))}))})))));case"fade-in":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fade In")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{type:"number",fullWidth:!0,label:"Length",value:null!==(o=L.length)&&void 0!==o?o:60,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{length:parseInt(t.target.value,0)}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"fade-out":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Fade In")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{type:"number",fullWidth:!0,label:"Length",value:null!==(i=L.length)&&void 0!==i?i:60,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{length:parseInt(t.target.value,0)}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"flash":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Me,{label:"Stages",value:null!==(a=L.stages)&&void 0!==a?a:[15,15,15,15],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{stages:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Je,{fps:k,assets:O,value:L.children,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{children:t}))}))})))));case"flash-fill":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash Fill")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Me,{label:"Stages",value:null!==(u=L.stages)&&void 0!==u?u:[15,15,15,15],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{stages:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Be,{label:"Color",value:L.color,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{color:t}))}))})))));case"flash-text":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Flash Text")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{multiline:!0,fullWidth:!0,label:"Messages",value:L.text.join("\n"),onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{text:t.target.value.split("\n")}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Me,{label:"Stages",value:null!==(l=L.stages)&&void 0!==l?l:[15,15,15,15],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{stages:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement($e,{label:"Styles",value:null!==(p=L.style)&&void 0!==p?p:{},onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{style:t}))}))})))));case"subliminal":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Subliminals")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Me,{label:"Stages",value:null!==(d=L.stages)&&void 0!==d?d:[15,15,15,15],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{stages:t}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{multiline:!0,fullWidth:!0,label:"Messages",value:L.text.join("\n"),onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{text:t.target.value.split("\n")}))}))})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(He,{label:"Styles",value:null!==(m=L.style)&&void 0!==m?m:{},onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{style:t}))}))})))));case"pattern":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Pattern")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(de.Z,{fullWidth:!0,label:"Shader",value:L.pattern,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{pattern:t.target.value}))}))},Oe.map((function(t){return r.createElement(fe.Z,{key:t.key,value:t.key},t.name)})))),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},"Properties"),r.createElement(s.ZP,{container:!0},r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Background",value:null!==(v=L.colors.bg)&&void 0!==v?v:[0,0,0,0],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{bg:t})}))}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Foreground",value:null!==(y=L.colors.fg)&&void 0!==y?y:[1,1,1,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{fg:t})}))}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Pulse",value:null!==(g=L.colors.pulse)&&void 0!==g?g:[178/255,76/255,229/255,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{pulse:t})}))}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Dim",value:null!==(b=L.colors.dim)&&void 0!==b?b:[0,0,0,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{dim:t})}))}))})))))));case"local-pattern":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Pattern (GLSL)")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(de.Z,{fullWidth:!0,label:"Shader",value:F,onChange:function(){var t,e=(t=Ae().mark((function t(e){return Ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("shaders/".concat([e.target.value],".fs")).then((function(t){return t.text()})).then((function(t){C(Fe(Fe({},L),{},{patternBody:t}))}));case 2:T(e.target.value);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ie(i,r,o,a,u,"next",t)}function u(t){Ie(i,r,o,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},Oe.map((function(t){return r.createElement(fe.Z,{key:t.key,value:t.key},t.name)})))),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(f.Z,{label:"Shader GLSL",value:L.patternBody,onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{patternBody:t.target.value}))})),fullWidth:!0,multiline:!0})),r.createElement(s.ZP,{item:!0,xs:12},r.createElement(c.Z,{variant:"h4",paragraph:!0},"Properties"),r.createElement(s.ZP,{container:!0},r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Background",value:null!==(w=L.colors.bg)&&void 0!==w?w:[0,0,0,0],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{bg:t})}))}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Foreground",value:null!==(E=L.colors.fg)&&void 0!==E?E:[1,1,1,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{fg:t})}))}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Pulse",value:null!==(x=L.colors.pulse)&&void 0!==x?x:[178/255,76/255,229/255,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{pulse:t})}))}))})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,md:3},r.createElement(Be,{label:"Dim",value:null!==(S=L.colors.dim)&&void 0!==S?S:[0,0,0,1],onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{colors:Fe(Fe({},L.colors),{},{dim:t})}))}))})))))));case"image":return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Image")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Ve,{fullWidth:!0,label:"Href",value:null!==(P=L.image)&&void 0!==P?P:"",onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{image:t.target.value}))}))})))));case"video":var N=!!L.video&&O.videos[L.video];return r.createElement(me.Z,{expanded:A,onChange:function(t,e){return I(e)}},r.createElement(ve.Z,{expandIcon:r.createElement(Ze.Z,null)},r.createElement(c.Z,{variant:"h3"},"Video")),r.createElement(ye.Z,null,r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12},r.createElement(Ve,{fullWidth:!0,label:"Href",value:null!==(Z=L.video)&&void 0!==Z?Z:"",onChange:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return C(Fe(Fe({},L),{},{video:t.target.value}))}))})),r.createElement(s.ZP,{item:!0,xs:12},N?r.createElement(c.Z,{variant:"body1"},"Frames: ",Math.ceil(N.duration*k)):r.createElement(ge.Z,{variant:"indeterminate",color:"primary"})))));default:return r.createElement(c.Z,{variant:"body1"}," Unrecognized command type '",L.type,"'")}},Ve=function(t){var e,n=Ge(r.useState(null!==(e=t.value)&&void 0!==e?e:t.defaultValue),2),o=n[0],i=n[1];return r.useEffect((function(){null!=t.value&&i(o)}),[t.value]),r.useEffect((function(){null!=t.defaultValue&&i(o)}),[t.defaultValue]),r.createElement(f.Z,je({},t,{value:o,onChange:function(t){return i(t.currentTarget.value)},onBlur:t.onChange&&function(e){return t.onChange(e)}}))},Ke=Re({create:function(t){return function(t){switch(t){case"fill":return{type:"fill",color:[0,0,0,1]};case"opacity":return{type:"opacity",value:1,children:[]};case"frame-offset":return{type:"frame-offset",by:0,children:[]};case"hide-after":return{type:"hide-after",frames:0,children:[]};case"show-after":return{type:"show-after",frames:0,children:[]};case"rotate-by":return{type:"rotate-by",angle:0,children:[]};case"rotating":return{type:"rotating",speed:6,children:[]};case"clip-circle":return{type:"clip-circle",origin:[0,0],radius:1,children:[]};case"clip-rect":return{type:"clip-rect",origin:[0,0],size:[1,1],children:[]};case"pattern":return{type:"pattern",pattern:"full-archimedes",colors:{}};case"local-pattern":return{type:"local-pattern",patternKey:Math.random().toString(),patternBody:"uniform float time;\nuniform vec2 resolution;\nuniform vec4 fgColor;\n\nvoid main(void) {\n\tvec2 center = resolution.xy / 2.0;\n\tvec2 dist = center - gl_FragCoord.xy;\n\tfloat r = length(dist);\n\tfloat theta = -time * 4.0 + atan(dist.y, dist.x) / (2.0*3.14);\n\t\n\tfloat d = 100.0;\n\tfloat v = r - d * theta;\n\tfloat c = v / d - floor(v / d);\n\tgl_FragColor =  vec4(c) * fgColor;\n}",colors:{}};case"text":return{type:"text",value:""};case"fade-in":return{type:"fade-in",length:60,children:[]};case"fade-out":return{type:"fade-out",length:60,children:[]};case"flash":return{type:"flash",stages:[15,15,15,15],children:[]};case"flash-text":return{type:"flash-text",text:[]};case"subliminal":return{type:"subliminal",text:[]};case"flash-fill":return{type:"flash-fill",color:[1,1,1,1]};case"change-speed":return{type:"change-speed",factor:1,children:[]};case"image":return{type:"image",image:"./assets/eyes.png"};case"video":return{type:"video",video:"./assets/base.mp4"};default:return{type:"text",value:t}}}(t.type)},edit:function(t,e,n){var o,i;return r.createElement(qe,{fps:null!==(o=null==n?void 0:n.fps)&&void 0!==o?o:0,assets:null!==(i=null==n?void 0:n.assets)&&void 0!==i?i:{images:{},shaders:{},videos:{}},value:t,onChange:e})},createOptions:$t,optionName:function(t){return t.name}}),Je=function(t){var e=t.assets,n=t.fps,o=t.value,i=t.onChange;return r.createElement(Ke,{props:{assets:e,fps:n},label:"Patterns",value:o,onChange:i})},Qe=n(56912);function tn(t){return function(t){if(Array.isArray(t))return en(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){an(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function an(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function un(){un=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new Z(o||[]);return r(a,"_invoke",{value:E(t,n,u)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function p(){}function d(){}var m={};l(m,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==e&&n.call(y,i)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var l=s(t[r],t,i);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==nn(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,u)}))}u(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),l(g,u,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,Z.prototype={constructor:Z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function ln(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function cn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ln(i,r,o,a,u,"next",t)}function u(t){ln(i,r,o,a,u,"throw",t)}a(void 0)}))}}function sn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hn(t){var e=v(),n=r.useMemo((function(){return[t.resolution[0]>0?t.resolution[0]:e[0],t.resolution[1]>0?t.resolution[1]:e[1]]}),[t]),o=r.useMemo((function(){return ee(t.pattern)}),[t.pattern]),i=r.useMemo((function(){return ne(t.pattern)}),[t.pattern]),a=r.useMemo((function(){return re(t.pattern)}),[t.pattern]),u=r.useMemo((function(){return oe(t.pattern)}),[t.pattern]),l=sn(r.useState({}),2),c=l[0],s=l[1],f=sn(r.useState({}),2),h=f[0],p=f[1],d=sn(r.useState({}),2),m=d[0],y=d[1],g=sn(r.useState({}),2),b=g[0],w=g[1];return r.useEffect((function(){var t=!1;return function(t,e){return ie.apply(this,arguments)}(n,o).then((function(e){t||s(e)})),function(){t=!0}}),[n,o.join("|")]),r.useEffect((function(){var t=!1;return function(t,e){return ae.apply(this,arguments)}(n,i).then((function(e){t||p(e)})),function(){t=!0}}),[n,i.map((function(t){var e=sn(t,2);return e[0]+"|"+e[1]})).join("|")]),r.useEffect((function(){var t=!1;return function(t){return ue.apply(this,arguments)}(a).then((function(e){t||y(e)})),function(){t=!0}}),[a.join("|")]),r.useEffect((function(){var t=!1;return function(t){return le.apply(this,arguments)}(u).then((function(e){t||w(e)})),function(){t=!0}}),[u.join("|")]),{shaders:r.useMemo((function(){return on(on({},h),c)}),[h,c]),images:m,videos:b}}function pn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){yn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gn=function(t){var e=t.disabled,n=t.className,o=t.def,i=t.assets,a=t.onClick,u=v(),l=r.useMemo((function(){return vn(vn({},o),{},{resolution:[o.resolution[0]>0?o.resolution[0]:u[0],o.resolution[1]>0?o.resolution[1]:u[1]]})}),[o,u]),c=pn(r.useState(null),2),s=c[0],f=c[1];return function(t,e){var n=e.enable,o=e.def,i=e.assets,a=r.useRef(performance.now()),u=r.useRef(0),l=r.useRef();!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=r.useRef(t),o=r.useRef(0);r.useEffect((function(){n.current=t}),[t].concat(tn(e))),r.useEffect((function(){var t=!1,e=0;return e=requestAnimationFrame((function r(){t||(n.current?n.current(o.current).then((function(){o.current=o.current+1,e=requestAnimationFrame(r)})):e=requestAnimationFrame(r))})),function(){cancelAnimationFrame(e),t=!0}}),[])}(cn(un().mark((function e(){var r,c,s,f,h,p;return un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:if(null!=l.current&&l.current.width===t.width&&l.current.height===t.height||(l.current=document.createElement("canvas"),l.current.width=t.width,l.current.height=t.height),r=a.current,c=performance.now(),s=1/(o.fps*o.speed),!((f=(c-r)/1e3)<s)){e.next=9;break}return e.abrupt("return");case 9:for(;f>=s;)u.current=u.current+1,f-=s;if(a.current=performance.now()-f,h=o.totalFrames>0?u.current%o.totalFrames:u.current,null==t||null==i){e.next=17;break}return e.next=15,Qt(l.current,o.pattern,h,i,{fps:o.fps});case 15:G(t),null===(p=t.getContext("2d"))||void 0===p||p.drawImage(l.current,0,0);case 17:case"end":return e.stop()}}),e)}))),[n,o,i,t])}(s,{enable:!e,assets:i,def:l}),r.createElement("canvas",{className:n,width:l.resolution[0],height:l.resolution[1],ref:function(t){return f(t)},onClick:a})},bn=function(t){var e=t.className,n=t.frame,o=t.def,i=t.assets,a=t.onClick,u=pn(r.useState(null),2),l=u[0],c=u[1],s=v();return function(t,e){var n=e.frame,o=e.def,i=e.assets;(0,r.useEffect)((function(){if(t){var e=!1,r=document.createElement("canvas");r.width=t.width,r.height=t.height;var a=o.totalFrames>0?n%o.totalFrames:n;return null!=t&&null!=i&&Qt(r,o.pattern,a,i,{fps:o.fps}).then((function(){var n;e||(G(t),null===(n=t.getContext("2d"))||void 0===n||n.drawImage(r,0,0))})),function(){e=!0}}}),[o,i,n,t])}(l,{frame:n,assets:i,def:r.useMemo((function(){return vn(vn({},o),{},{resolution:[o.resolution[0]>0?o.resolution[0]:s[0],o.resolution[1]>0?o.resolution[1]:s[1]]})}),[o])}),r.createElement("canvas",{className:e,width:o.resolution[0],height:o.resolution[1],ref:function(t){return c(t)},onClick:a})};function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){xn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zn=(0,l.ZP)("div")({"& .root":{marginRight:"1em"},"& .canvas":{width:"320px",verticalAlign:"top",cursor:"pointer"},"& .background":{backgroundImage:"linear-gradient(45deg, #808080 25%, transparent 25%), linear-gradient(-45deg, #808080 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #808080 75%), linear-gradient(-45deg, transparent 75%, #808080 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),kn=function(t){var e=t.assets,n=t.value,o=t.onChange,i=Sn(r.useState(!1),2),a=i[0],u=i[1],l=Sn(r.useState(0),2),p=l[0],d=l[1];return r.createElement(Zn,null,r.createElement(c.Z,{variant:"h1",paragraph:!0},"Spiral Editor"),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Pattern"),r.createElement(Je,{assets:e,value:n.pattern,fps:n.fps,onChange:function(t){return o(En(En({},n),{},{pattern:t}))}}),r.createElement(s.ZP,{container:!0},r.createElement(s.ZP,{item:!0},r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Preview"),r.createElement("div",{className:"root"},a?r.createElement("div",null,r.createElement("div",{className:"background"},r.createElement(bn,{className:"canvas",def:n,assets:e,frame:p,onClick:function(){return u(!1)}})),r.createElement("div",null,0==n.totalFrames?r.createElement(f.Z,{value:p,type:"number",inputProps:{min:0},onChange:function(t){return d(parseInt(t.target.value,0))}}):r.createElement(h.ZP,{step:1,valueLabelDisplay:"auto",value:p,min:0,max:n.totalFrames-1,onChange:function(t,e){return d(e)}}))):r.createElement("div",{className:"background"},r.createElement(gn,{className:"canvas",def:n,assets:e,onClick:function(){return u(!0)}})))),r.createElement(s.ZP,{item:!0,style:{flexGrow:1}},r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Resolution"),r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12,sm:6},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Width",value:n.resolution[0],onChange:function(t){return o(En(En({},n),{},{resolution:[parseInt(t.target.value||"0",0),n.resolution[1]]}))}})),r.createElement(s.ZP,{item:!0,xs:12,sm:6},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Height",value:n.resolution[1],onChange:function(t){return o(En(En({},n),{},{resolution:[n.resolution[0],parseInt(t.target.value||"0",0)]}))}}))),r.createElement("div",{style:{padding:"1em"}}),r.createElement(c.Z,{variant:"h2",paragraph:!0},"Framerate"),r.createElement(s.ZP,{container:!0,spacing:3},r.createElement(s.ZP,{item:!0,xs:12,sm:6,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"FPS",value:n.fps,onChange:function(t){return o(En(En({},n),{},{fps:parseInt(t.target.value||"0",0)}))}})),r.createElement(s.ZP,{item:!0,xs:12,sm:6,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Total Frames",value:n.totalFrames,onChange:function(t){return o(En(En({},n),{},{totalFrames:parseInt(t.target.value||"0",0)}))}})),r.createElement(s.ZP,{item:!0,xs:12,lg:4},r.createElement(f.Z,{fullWidth:!0,margin:"dense",type:"number",label:"Speed",value:n.speed,onChange:function(t){return o(En(En({},n),{},{speed:parseFloat(t.target.value||"0")}))}}))))))},On=n(35705),Ln=function(t){var e=t.className,n=t.status;return r.createElement(o.Z,{open:"no"!==n.current},r.createElement(i.Z,null,r.createElement(On.Z,{className:e,size:360,color:"rendering"===n.current?"primary":"secondary",variant:"determinate",value:("rendering"===n.current?0:50)+("no"!==n.current?50*n.progress:0)})))};function Cn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var An=(0,n(10932).Z)("div")({"& .page":{objectFit:"cover",width:"100%",height:"100vh"}});function In(){var t,e,n,l,c,s,f,h,p,m,y,g,b,w,x,S=Cn(r.useState(!1),2),P=S[0],Z=S[1],k=(t=sn((0,Qe.xT)("pattern",[]),2),e=t[0],n=t[1],l=sn((0,Qe.$w)("speed",1),2),c=l[0],s=l[1],f=sn((0,Qe.$w)("fps",60),2),h=f[0],p=f[1],m=sn((0,Qe.$w)("total-frames",h),2),y=m[0],g=m[1],b=sn((0,Qe.xT)("screen",[1280,720]),2),w=b[0],x=b[1],[r.useMemo((function(){return{pattern:e,speed:c,fps:h,totalFrames:y,resolution:w}}),[e,c,h,y,w]),function(t){n(t.pattern),s(t.speed),p(t.fps),g(t.totalFrames),x(t.resolution)}]),O=Cn(k,2),L=O[0],C=O[1],j=hn(L),A=function(t,e){var n=v(),o=Bt(r.useState({current:"no"}),2),i=o[0],a=o[1];return[i,Xt(Mt().mark((function r(){var o,i,u,l;return Mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a({current:"rendering",progress:0}),o=new(d())({quality:5,repeat:0}),i=t.totalFrames||t.fps,u=Mt().mark((function r(u){return Mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E(Xt(Mt().mark((function r(){var l;return Mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(l=document.createElement("canvas")).width=t.resolution[0]>0?t.resolution[0]:n[0],l.height=t.resolution[1]>0?t.resolution[1]:n[1],r.next=5,Qt(l,t.pattern,u,e,{fps:t.fps});case 5:a({current:"rendering",progress:u/i}),o.addFrame(l,{delay:1e3/(t.speed*t.fps),copy:!0});case 7:case"end":return r.stop()}}),r)}))));case 2:case"end":return r.stop()}}),r)})),l=0;case 5:if(!(l<i)){r.next=10;break}return r.delegateYield(u(l),"t0",7);case 7:++l,r.next=5;break;case 10:o.on("progress",(function(t){a({current:"exporting",progress:t})})),o.on("finished",(function(t){window.open(URL.createObjectURL(t)),a({current:"no"})})),o.render();case 13:case"end":return r.stop()}}),r)})))]}(L,j),I=Cn(A,2),_=I[0],F=I[1];return r.createElement(An,null,r.createElement(gn,{disabled:P||"no"!==_.current,className:"page",def:L,assets:j,onClick:function(){return Z(!0)}}),r.createElement(o.Z,{open:P,maxWidth:"xl",fullWidth:!0},r.createElement(i.Z,null,r.createElement(kn,{assets:j,value:L,onChange:C})),r.createElement(a.Z,null,r.createElement(u.Z,{color:"secondary",onClick:function(){return Z(!1)}},"Close"),r.createElement(u.Z,{color:"primary",disabled:L.totalFrames<=0,onClick:function(){Z(!1),F()}},"Render"))),r.createElement(Ln,{status:_}))}}}]);