"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_App_tsx"],{

/***/ "./src/App.tsx":
/*!*********************!*\
  !*** ./src/App.tsx ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"linearInterpolate\": () => (/* binding */ linearInterpolate),\n/* harmony export */   \"cosineInterpolate\": () => (/* binding */ cosineInterpolate),\n/* harmony export */   \"interpolate\": () => (/* binding */ interpolate),\n/* harmony export */   \"rgba\": () => (/* binding */ rgba),\n/* harmony export */   \"rgb\": () => (/* binding */ rgb),\n/* harmony export */   \"fade\": () => (/* binding */ fade),\n/* harmony export */   \"lighten\": () => (/* binding */ lighten),\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/styles/makeStyles.js\");\n/* harmony import */ var gif_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gif.js */ \"./node_modules/gif.js/dist/gif.js\");\n/* harmony import */ var gif_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(gif_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _effects_webgl_Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./effects/webgl/Color */ \"./src/effects/webgl/Color.ts\");\n/* harmony import */ var _effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./effects/webgl/Image */ \"./src/effects/webgl/Image.ts\");\n/* harmony import */ var _effects_webgl_Pattern__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./effects/webgl/Pattern */ \"./src/effects/webgl/Pattern.ts\");\n/* harmony import */ var _effects_webgl_Text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./effects/webgl/Text */ \"./src/effects/webgl/Text.ts\");\n/* harmony import */ var _effects_webgl_WebGLRef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./effects/webgl/WebGLRef */ \"./src/effects/webgl/WebGLRef.ts\");\n/* harmony import */ var _util_defer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util/defer */ \"./src/util/defer.ts\");\n/* harmony import */ var _util_onKeyboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./util/onKeyboard */ \"./src/util/onKeyboard.tsx\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n}\r\ncatch (error) {\r\n    reject(error);\r\n    return;\r\n} if (info.done) {\r\n    resolve(value);\r\n}\r\nelse {\r\n    Promise.resolve(value).then(_next, _throw);\r\n} }\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction linearInterpolate(y1, y2, mu) {\r\n    if (Array.isArray(y1) && Array.isArray(y2)) {\r\n        return y1.map(function (x1, i) {\r\n            return x1 + (y2[i] - x1) * mu;\r\n        });\r\n    }\r\n    else if (Array.isArray(y1) && !Array.isArray(y2)) {\r\n        return y1.map(function (x1) {\r\n            return x1 + (y2 - x1) * mu;\r\n        });\r\n    }\r\n    else if (Array.isArray(y2) && !Array.isArray(y1)) {\r\n        return y2.map(function (x2) {\r\n            return y1 + (x2 - y1) * mu;\r\n        });\r\n    }\r\n    else {\r\n        return y1 + (y2 - y1) * mu;\r\n    }\r\n}\r\nfunction cosineInterpolate(y1, y2, mu) {\r\n    function interpolate(y1, y2, mu) {\r\n        var mu2 = (1 - Math.cos(mu * Math.PI)) / 2;\r\n        return y1 * (1 - mu2) + y2 * mu2;\r\n    }\r\n    if (Array.isArray(y1) && Array.isArray(y2)) {\r\n        return y1.map(function (x1, i) {\r\n            return interpolate(x1, y2[i], mu);\r\n        });\r\n    }\r\n    else if (Array.isArray(y1) && !Array.isArray(y2)) {\r\n        return y1.map(function (x1) {\r\n            return interpolate(x1, y2, mu);\r\n        });\r\n    }\r\n    else if (Array.isArray(y2) && !Array.isArray(y1)) {\r\n        return y2.map(function (x2) {\r\n            return interpolate(y1, x2, mu);\r\n        });\r\n    }\r\n    else {\r\n        return interpolate(y2, y1, mu);\r\n    }\r\n}\r\nfunction interpolate(mode, y1, y2, mu) {\r\n    switch (mode) {\r\n        case \"cosine\":\r\n            return cosineInterpolate(y1, y2, mu);\r\n        case \"linear\":\r\n            return linearInterpolate(y1, y2, mu);\r\n        case \"cosine-reverse\":\r\n            return cosineInterpolate(y1, y2, mu > 0.5 ? (1.0 - mu) * 2 : mu * 2);\r\n        case \"linear-reverse\":\r\n            return linearInterpolate(y1, y2, mu > 0.5 ? (1.0 - mu) * 2 : mu * 2);\r\n    }\r\n}\r\nvar useAppStyles = (0,_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({\r\n    root: {\r\n        position: \"absolute\",\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        overflow: \"hidden\",\r\n        cursor: \"none\",\r\n        backgroundSize: \"cover\"\r\n    }\r\n}, {\r\n    name: \"App\"\r\n});\r\nfunction rgba(r, g, b, a) {\r\n    return [r / 255, g / 255, b / 255, a / 255];\r\n}\r\nfunction rgb(r, g, b) {\r\n    return [r / 255, g / 255, b / 255, 1];\r\n}\r\nfunction fade(amount, _ref) {\r\n    var _ref2 = _slicedToArray(_ref, 4), r = _ref2[0], g = _ref2[1], b = _ref2[2], a = _ref2[3];\r\n    return [r, g, b, a * amount];\r\n}\r\nfunction lighten(amount, _ref3) {\r\n    var _ref4 = _slicedToArray(_ref3, 4), r = _ref4[0], g = _ref4[1], b = _ref4[2], a = _ref4[3];\r\n    var d = [r * amount, g * amount, b * amount, a];\r\n    console.log(d);\r\n    return d;\r\n}\r\nvar colours = {\r\n    cornflowerBlue: rgb(100, 149, 237),\r\n    amethyst: rgb(178, 76, 229),\r\n    emerald: rgb(80, 200, 120),\r\n    paleyellow: rgb(246, 240, 224),\r\n    pink: rgb(255, 192, 203),\r\n    magenta: rgb(255, 0, 255),\r\n    yellow: rgb(255, 255, 0),\r\n    darkred: rgb(127, 0, 0),\r\n    red: rgb(255, 0, 0),\r\n    green: rgb(0, 255, 0),\r\n    blue: rgb(0, 0, 255),\r\n    black: rgb(0, 0, 0),\r\n    grey: rgb(127, 127, 127),\r\n    white: rgb(255, 255, 255),\r\n    transparent: rgba(0, 0, 0, 0)\r\n};\r\nfunction App() {\r\n    var canvasRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\r\n    (0,_util_onKeyboard__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(/*#__PURE__*/ function () {\r\n        var _ref5 = _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee3(state, code) {\r\n            return regeneratorRuntime.wrap(function _callee3$(_context4) {\r\n                while (1) {\r\n                    switch (_context4.prev = _context4.next) {\r\n                        case 0:\r\n                            if (!(state === _util_onKeyboard__WEBPACK_IMPORTED_MODULE_8__.KeyState.Up && code === \"KeyR\" && canvasRef.current)) {\r\n                                _context4.next = 2;\r\n                                break;\r\n                            }\r\n                            return _context4.delegateYield(/*#__PURE__*/ regeneratorRuntime.mark(function _callee2() {\r\n                                var targetScreen, targetBuffer, targetEyeShader, targetBackgroundShader, eyeContext3d, _yield$createPatternS, _yield$createPatternS2, eyeBuffer, eyeShader, bgContext3d, eyes_full, eyes_vacant, eyes_bg, targetVideo, flashText, flashTimer, flashPositions, speed, fps, totalFrames, gif, frames, loops, _loop, frame;\r\n                                return regeneratorRuntime.wrap(function _callee2$(_context3) {\r\n                                    while (1) {\r\n                                        switch (_context3.prev = _context3.next) {\r\n                                            case 0:\r\n                                                targetScreen = canvasRef.current;\r\n                                                targetScreen.width = 620;\r\n                                                targetScreen.height = 360;\r\n                                                targetBuffer = document.createElement(\"canvas\");\r\n                                                targetBuffer.width = targetScreen.width;\r\n                                                targetBuffer.height = targetScreen.height;\r\n                                                targetEyeShader = document.createElement(\"canvas\");\r\n                                                targetEyeShader.width = 300;\r\n                                                targetEyeShader.height = 300;\r\n                                                targetBackgroundShader = document.createElement(\"canvas\");\r\n                                                targetBackgroundShader.width = targetScreen.width;\r\n                                                targetBackgroundShader.height = targetScreen.height;\r\n                                                eyeContext3d = new _effects_webgl_WebGLRef__WEBPACK_IMPORTED_MODULE_6__[\"default\"](targetEyeShader);\r\n                                                _context3.next = 15;\r\n                                                return (0,_effects_webgl_Pattern__WEBPACK_IMPORTED_MODULE_4__.createPatternShader)(eyeContext3d, \"shaders/spiral.vs\", \"shaders/full-sharded-pulse.fs\");\r\n                                            case 15:\r\n                                                _yield$createPatternS = _context3.sent;\r\n                                                _yield$createPatternS2 = _slicedToArray(_yield$createPatternS, 2);\r\n                                                eyeBuffer = _yield$createPatternS2[0];\r\n                                                eyeShader = _yield$createPatternS2[1];\r\n                                                bgContext3d = new _effects_webgl_WebGLRef__WEBPACK_IMPORTED_MODULE_6__[\"default\"](targetBackgroundShader); //const [bgBuffer, bgShader] = await createPatternShader(bgContext3d, \"shaders/spiral.vs\", `shaders/pendulum-oval.fs`)\r\n                                                _context3.next = 22;\r\n                                                return (0,_effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./assets/eyes.png\");\r\n                                            case 22:\r\n                                                eyes_full = _context3.sent;\r\n                                                _context3.next = 25;\r\n                                                return (0,_effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./assets/eyes-vacant.png\");\r\n                                            case 25:\r\n                                                eyes_vacant = _context3.sent;\r\n                                                _context3.next = 28;\r\n                                                return (0,_effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__.loadImage)(\"./assets/eyes-background.png\");\r\n                                            case 28:\r\n                                                eyes_bg = _context3.sent;\r\n                                                targetVideo = document.createElement(\"canvas\");\r\n                                                targetVideo.width = targetBuffer.width;\r\n                                                targetVideo.height = targetBuffer.height;\r\n                                                flashText = [\"TAKE THE HEALS\", \"HEALS GIVE ME PLEASURE\", \"HEALED FEELS GOOD\", \"FULL HEALTH IS BEST\"];\r\n                                                flashTimer = [9, 5, 5, 5];\r\n                                                flashPositions = [\"bottom\", \"top\", \"bottom\", \"top\"];\r\n                                                speed = 2;\r\n                                                fps = 24;\r\n                                                totalFrames = 96; //flashTimer.reduce((p, c) => p + c, 0) * flashText.length\r\n                                                gif = new (gif_js__WEBPACK_IMPORTED_MODULE_0___default())({\r\n                                                    background: \"#000\",\r\n                                                    quality: 5,\r\n                                                    repeat: 0\r\n                                                });\r\n                                                frames = [];\r\n                                                loops = 0;\r\n                                            case 41:\r\n                                                if (!(loops < 3)) {\r\n                                                    _context3.next = 52;\r\n                                                    break;\r\n                                                }\r\n                                                _loop = /*#__PURE__*/ regeneratorRuntime.mark(function _loop(frame) {\r\n                                                    var flashTextIndex, dataurl;\r\n                                                    return regeneratorRuntime.wrap(function _loop$(_context2) {\r\n                                                        while (1) {\r\n                                                            switch (_context2.prev = _context2.next) {\r\n                                                                case 0:\r\n                                                                    flashTextIndex = (frame / flashTimer.reduce(function (p, c) {\r\n                                                                        return p + c;\r\n                                                                    }) | 0) % flashText.length;\r\n                                                                    _context2.next = 3;\r\n                                                                    return (0,_util_defer__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(/*#__PURE__*/ _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee() {\r\n                                                                        var frameDt, canvasContext;\r\n                                                                        return regeneratorRuntime.wrap(function _callee$(_context) {\r\n                                                                            while (1) {\r\n                                                                                switch (_context.prev = _context.next) {\r\n                                                                                    case 0:\r\n                                                                                        eyeContext3d.clear();\r\n                                                                                        if (eyeBuffer != null && eyeBuffer.ok() && eyeShader != null && eyeShader.ok()) {\r\n                                                                                            eyeBuffer.bind();\r\n                                                                                            frameDt = interpolate(\"linear\", 0.0, totalFrames, frame / totalFrames);\r\n                                                                                            (0,_effects_webgl_Pattern__WEBPACK_IMPORTED_MODULE_4__.renderSpiralShaderToCanvas)(targetEyeShader, frameDt, {\r\n                                                                                                colors: {\r\n                                                                                                    bgColor: colours.transparent,\r\n                                                                                                    fgColor: colours.red,\r\n                                                                                                    dimColor: colours.amethyst,\r\n                                                                                                    pulseColor: colours.magenta\r\n                                                                                                },\r\n                                                                                                shader: eyeShader,\r\n                                                                                                fps: fps\r\n                                                                                            });\r\n                                                                                        }\r\n                                                                                        /*bgContext3d.clear()\r\n                                                                                        if (bgBuffer != null && bgBuffer.ok() && bgBuffer != null && bgBuffer.ok()) {\r\n                                                                                            bgBuffer.bind()\r\n                                                                                            const frameDt = interpolate(\"linear\", 0.0, totalFrames, frame / totalFrames) / 2\r\n                                                                                            renderSpiralShaderToCanvas(targetBackgroundShader, frameDt, {\r\n                                                                                                colors: {\r\n                                                                                                    bgColor:  colours.transparent,\r\n                                                                                                    fgColor: colours.black,\r\n                                                                                                    dimColor: colours.amethyst,\r\n                                                                                                    pulseColor: colours.magenta\r\n                                                                                                },\r\n                                                                                                shader: bgShader,\r\n                                                                                                fps\r\n                                                                                            })\r\n                                                                                        }*/\r\n                                                                                        /*bgContext3d.clear()\r\n                                                                                        if (bgBuffer != null && bgBuffer.ok() && bgBuffer != null && bgBuffer.ok()) {\r\n                                                                                            bgBuffer.bind()\r\n                                                                                            const frameDt = interpolate(\"linear\", 0.0, totalFrames, frame / totalFrames) / 2\r\n                                                                                            renderSpiralShaderToCanvas(targetBackgroundShader, frameDt, {\r\n                                                                                                colors: {\r\n                                                                                                    bgColor:  colours.transparent,\r\n                                                                                                    fgColor: colours.black,\r\n                                                                                                    dimColor: colours.amethyst,\r\n                                                                                                    pulseColor: colours.magenta\r\n                                                                                                },\r\n                                                                                                shader: bgShader,\r\n                                                                                                fps\r\n                                                                                            })\r\n                                                                                        }*/\r\n                                                                                        canvasContext = targetBuffer.getContext(\"2d\");\r\n                                                                                        canvasContext.save();\r\n                                                                                        canvasContext.clearRect(0, 0, targetBuffer.width, targetBuffer.height);\r\n                                                                                        canvasContext.fillStyle = _effects_webgl_Color__WEBPACK_IMPORTED_MODULE_2__.toCssStringRGB.apply(void 0, _toConsumableArray(colours.pink));\r\n                                                                                        canvasContext.fillRect(0, 0, targetBuffer.width, targetBuffer.height);\r\n                                                                                        canvasContext.restore(); //await renderVideoToCanvas(targetVideo, frame, video, { fps })\r\n                                                                                        //canvasContext.drawImage(targetVideo, 0, 0, targetBuffer.width, targetBuffer.height)\r\n                                                                                        //renderImageToCanvas(targetBuffer, { image: hexcorp, styles: { alpha: 0.25 } })\r\n                                                                                        //await renderVideoToCanvas(targetVideo, frame, video, { fps })\r\n                                                                                        //canvasContext.drawImage(targetVideo, 0, 0, targetBuffer.width, targetBuffer.height)\r\n                                                                                        //renderImageToCanvas(targetBuffer, { image: hexcorp, styles: { alpha: 0.25 } })\r\n                                                                                        (0,_effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__.renderImageToCanvas)(targetBuffer, {\r\n                                                                                            image: eyes_bg,\r\n                                                                                            styles: {\r\n                                                                                                alpha: 1.0,\r\n                                                                                                padding: 100\r\n                                                                                            }\r\n                                                                                        });\r\n                                                                                        canvasContext.save();\r\n                                                                                        canvasContext.arc(135, 200, 32, 0, Math.PI * 2, true);\r\n                                                                                        canvasContext.closePath();\r\n                                                                                        canvasContext.clip();\r\n                                                                                        canvasContext.drawImage(targetEyeShader, -28, 50, targetEyeShader.width, targetEyeShader.height);\r\n                                                                                        canvasContext.restore();\r\n                                                                                        canvasContext.save();\r\n                                                                                        canvasContext.arc(485, 200, 32, 0, Math.PI * 2, true);\r\n                                                                                        canvasContext.closePath();\r\n                                                                                        canvasContext.clip();\r\n                                                                                        canvasContext.drawImage(targetEyeShader, 318, 50, targetEyeShader.width, targetEyeShader.height);\r\n                                                                                        canvasContext.restore();\r\n                                                                                        (0,_effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__.renderImageToCanvas)(targetBuffer, {\r\n                                                                                            image: eyes_vacant,\r\n                                                                                            styles: {\r\n                                                                                                alpha: 1.0,\r\n                                                                                                padding: 100\r\n                                                                                            }\r\n                                                                                        });\r\n                                                                                        canvasContext.save();\r\n                                                                                        canvasContext.drawImage(targetBackgroundShader, 0, 0, targetBackgroundShader.width, targetBackgroundShader.height);\r\n                                                                                        canvasContext.restore();\r\n                                                                                        (0,_effects_webgl_Image__WEBPACK_IMPORTED_MODULE_3__.renderFlashImageToCanvas)(targetBuffer, frame, {\r\n                                                                                            images: [eyes_full],\r\n                                                                                            styles: {\r\n                                                                                                alpha: 0.75,\r\n                                                                                                padding: 100\r\n                                                                                            },\r\n                                                                                            stageLengths: flashTimer\r\n                                                                                        });\r\n                                                                                        (0,_effects_webgl_Text__WEBPACK_IMPORTED_MODULE_5__.renderFlashTextToCanvas)(targetBuffer, frame, {\r\n                                                                                            text: flashText,\r\n                                                                                            style: {\r\n                                                                                                lineWidth: 1,\r\n                                                                                                size: 0.9,\r\n                                                                                                fillColor: colours.white,\r\n                                                                                                strokeColor: colours.black\r\n                                                                                            },\r\n                                                                                            stageLengths: flashTimer,\r\n                                                                                            align: flashPositions\r\n                                                                                        });\r\n                                                                                    case 27:\r\n                                                                                    case \"end\":\r\n                                                                                        return _context.stop();\r\n                                                                                }\r\n                                                                            }\r\n                                                                        }, _callee);\r\n                                                                    })));\r\n                                                                case 3:\r\n                                                                    if (loops == 2) {\r\n                                                                        dataurl = targetBuffer.toDataURL();\r\n                                                                        if (frames.find(function (e) {\r\n                                                                            return e == dataurl;\r\n                                                                        }) == null) {\r\n                                                                            frames.push(dataurl);\r\n                                                                        }\r\n                                                                        else {\r\n                                                                            console.log(frame);\r\n                                                                        }\r\n                                                                        gif.addFrame(targetBuffer, {\r\n                                                                            delay: 1000 / (speed * fps),\r\n                                                                            copy: true\r\n                                                                        });\r\n                                                                    }\r\n                                                                    targetScreen.getContext(\"2d\").drawImage(targetBuffer, 0, 0, targetScreen.width, targetScreen.height);\r\n                                                                case 5:\r\n                                                                case \"end\":\r\n                                                                    return _context2.stop();\r\n                                                            }\r\n                                                        }\r\n                                                    }, _loop);\r\n                                                });\r\n                                                frame = 0;\r\n                                            case 44:\r\n                                                if (!(frame < totalFrames)) {\r\n                                                    _context3.next = 49;\r\n                                                    break;\r\n                                                }\r\n                                                return _context3.delegateYield(_loop(frame), \"t0\", 46);\r\n                                            case 46:\r\n                                                ++frame;\r\n                                                _context3.next = 44;\r\n                                                break;\r\n                                            case 49:\r\n                                                ++loops;\r\n                                                _context3.next = 41;\r\n                                                break;\r\n                                            case 52:\r\n                                                gif.on(\"progress\", function (e) {\r\n                                                    console.log(e);\r\n                                                });\r\n                                                gif.on(\"finished\", function (blob) {\r\n                                                    window.open(URL.createObjectURL(blob));\r\n                                                });\r\n                                                gif.render();\r\n                                            case 55:\r\n                                            case \"end\":\r\n                                                return _context3.stop();\r\n                                        }\r\n                                    }\r\n                                }, _callee2);\r\n                            })(), \"t0\", 2);\r\n                        case 2:\r\n                        case \"end\":\r\n                            return _context4.stop();\r\n                    }\r\n                }\r\n            }, _callee3);\r\n        }));\r\n        return function (_x, _x2) {\r\n            return _ref5.apply(this, arguments);\r\n        };\r\n    }());\r\n    var appStyles = useAppStyles();\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"canvas\", {\r\n        ref: canvasRef,\r\n        className: appStyles.root\r\n    });\r\n}\r\n__signature__(App, \"useRef{canvasRef}\\nuseAppStyles{appStyles}\", function () {\r\n    return [useAppStyles];\r\n});\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(linearInterpolate, \"linearInterpolate\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(cosineInterpolate, \"cosineInterpolate\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(interpolate, \"interpolate\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(useAppStyles, \"useAppStyles\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(rgba, \"rgba\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(rgb, \"rgb\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(fade, \"fade\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(lighten, \"lighten\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(colours, \"colours\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n    reactHotLoader.register(App, \"App\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\App.tsx\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/App.tsx?");

/***/ }),

/***/ "./src/effects/webgl/Color.ts":
/*!************************************!*\
  !*** ./src/effects/webgl/Color.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"toCssStringRGB\": () => (/* binding */ toCssStringRGB)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\nfunction toCssStringRGB(r, g, b, a) {\r\n    function componentToHex(c) {\r\n        var hex = (c | 0).toString(16);\r\n        return hex.length == 1 ? \"0\" + hex : hex;\r\n    }\r\n    return \"#\".concat(componentToHex(r * 255)).concat(componentToHex(g * 255)).concat(componentToHex(b * 255));\r\n}\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(toCssStringRGB, \"toCssStringRGB\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Color.ts\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Color.ts?");

/***/ }),

/***/ "./src/effects/webgl/Image.ts":
/*!************************************!*\
  !*** ./src/effects/webgl/Image.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderImageToCanvas\": () => (/* binding */ renderImageToCanvas),\n/* harmony export */   \"renderFlashImageToCanvas\": () => (/* binding */ renderFlashImageToCanvas),\n/* harmony export */   \"loadImage\": () => (/* binding */ loadImage)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\nfunction renderImageToCanvas(dom, opts) {\r\n    var _opts$styles$padding, _opts$styles, _opts$styles$padding2, _opts$styles2, _opts$styles$alpha, _opts$styles3;\r\n    var context = dom.getContext(\"2d\");\r\n    var canvas = dom;\r\n    var img = opts.image;\r\n    var w = canvas.width / (img.width + ((_opts$styles$padding = opts === null || opts === void 0 ? void 0 : (_opts$styles = opts.styles) === null || _opts$styles === void 0 ? void 0 : _opts$styles.padding) !== null && _opts$styles$padding !== void 0 ? _opts$styles$padding : 0));\r\n    var h = canvas.height / (img.height + ((_opts$styles$padding2 = opts === null || opts === void 0 ? void 0 : (_opts$styles2 = opts.styles) === null || _opts$styles2 === void 0 ? void 0 : _opts$styles2.padding) !== null && _opts$styles$padding2 !== void 0 ? _opts$styles$padding2 : 0));\r\n    var _ref = function () {\r\n        if (w > h) {\r\n            return [canvas.width, img.height * w | 0];\r\n        }\r\n        else {\r\n            return [img.width * h, canvas.height];\r\n        }\r\n    }(), _ref2 = _slicedToArray(_ref, 2), tw = _ref2[0], th = _ref2[1];\r\n    context.save();\r\n    context.globalAlpha = (_opts$styles$alpha = (_opts$styles3 = opts.styles) === null || _opts$styles3 === void 0 ? void 0 : _opts$styles3.alpha) !== null && _opts$styles$alpha !== void 0 ? _opts$styles$alpha : 1.0;\r\n    context.drawImage(img, (canvas.width - tw) / 2, (canvas.height - th) / 2, tw, th);\r\n    context.restore();\r\n}\r\nfunction renderFlashImageToCanvas(dom, frame, opts) {\r\n    var _opts$stageLengths;\r\n    var stageLengths = (_opts$stageLengths = opts.stageLengths) !== null && _opts$stageLengths !== void 0 ? _opts$stageLengths : [15, 15, 15, 15];\r\n    var totalFramesLength = stageLengths.reduce(function (p, c) {\r\n        return p + c;\r\n    });\r\n    var framePosition = frame % totalFramesLength;\r\n    var image = opts.images[(frame / totalFramesLength | 0) % opts.images.length];\r\n    if (framePosition < stageLengths[0]) { }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1]) {\r\n        var _opts$styles$alpha2, _opts$styles4, _opts$styles5;\r\n        renderImageToCanvas(dom, {\r\n            image: image,\r\n            styles: {\r\n                alpha: (framePosition - stageLengths[0]) / stageLengths[1] * ((_opts$styles$alpha2 = (_opts$styles4 = opts.styles) === null || _opts$styles4 === void 0 ? void 0 : _opts$styles4.alpha) !== null && _opts$styles$alpha2 !== void 0 ? _opts$styles$alpha2 : 1),\r\n                padding: (_opts$styles5 = opts.styles) === null || _opts$styles5 === void 0 ? void 0 : _opts$styles5.padding\r\n            }\r\n        });\r\n    }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2]) {\r\n        var _opts$styles$alpha3, _opts$styles6, _opts$styles7;\r\n        renderImageToCanvas(dom, {\r\n            image: image,\r\n            styles: {\r\n                alpha: (_opts$styles$alpha3 = (_opts$styles6 = opts.styles) === null || _opts$styles6 === void 0 ? void 0 : _opts$styles6.alpha) !== null && _opts$styles$alpha3 !== void 0 ? _opts$styles$alpha3 : 1,\r\n                padding: (_opts$styles7 = opts.styles) === null || _opts$styles7 === void 0 ? void 0 : _opts$styles7.padding\r\n            }\r\n        });\r\n    }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2] + stageLengths[3]) {\r\n        var _opts$styles$alpha4, _opts$styles8, _opts$styles9;\r\n        var pos = framePosition - (stageLengths[0] + stageLengths[1] + stageLengths[2]);\r\n        renderImageToCanvas(dom, {\r\n            image: image,\r\n            styles: {\r\n                alpha: (stageLengths[3] - pos) / stageLengths[3] * ((_opts$styles$alpha4 = (_opts$styles8 = opts.styles) === null || _opts$styles8 === void 0 ? void 0 : _opts$styles8.alpha) !== null && _opts$styles$alpha4 !== void 0 ? _opts$styles$alpha4 : 1),\r\n                padding: (_opts$styles9 = opts.styles) === null || _opts$styles9 === void 0 ? void 0 : _opts$styles9.padding\r\n            }\r\n        });\r\n    }\r\n    else { }\r\n}\r\nfunction loadImage(href) {\r\n    return new Promise(function (resolve) {\r\n        var image = new Image();\r\n        function onLoad() {\r\n            image.removeEventListener(\"load\", onLoad);\r\n            resolve(image);\r\n        }\r\n        image.addEventListener(\"load\", onLoad);\r\n        image.src = href;\r\n    });\r\n}\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(renderImageToCanvas, \"renderImageToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Image.ts\");\r\n    reactHotLoader.register(renderFlashImageToCanvas, \"renderFlashImageToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Image.ts\");\r\n    reactHotLoader.register(loadImage, \"loadImage\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Image.ts\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Image.ts?");

/***/ }),

/***/ "./src/effects/webgl/Pattern.ts":
/*!**************************************!*\
  !*** ./src/effects/webgl/Pattern.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderSpiralShaderToCanvas\": () => (/* binding */ renderSpiralShaderToCanvas),\n/* harmony export */   \"createPatternShader\": () => (/* binding */ createPatternShader)\n/* harmony export */ });\n/* harmony import */ var _WebGLRef__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebGLRef */ \"./src/effects/webgl/WebGLRef.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n}\r\ncatch (error) {\r\n    reject(error);\r\n    return;\r\n} if (info.done) {\r\n    resolve(value);\r\n}\r\nelse {\r\n    Promise.resolve(value).then(_next, _throw);\r\n} }\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\n\r\nfunction renderSpiralShaderToCanvas(dom, frame, opts) {\r\n    var _opts$fps, _opts$colors;\r\n    var context = new _WebGLRef__WEBPACK_IMPORTED_MODULE_0__[\"default\"](dom);\r\n    var params = _objectSpread({\r\n        time: frame / ((_opts$fps = opts.fps) !== null && _opts$fps !== void 0 ? _opts$fps : 60),\r\n        rotation: 1,\r\n        direction: 1,\r\n        branchCount: 4,\r\n        resolution: [dom.width, dom.height],\r\n        aspect: dom.width > dom.height ? [dom.width / dom.height, 1.0] : [1.0, dom.height / dom.width]\r\n    }, _objectSpread({\r\n        bgColor: [0.0, 0.0, 0.0, 0.0],\r\n        fgColor: [1.0, 1.0, 1.0, 1.0],\r\n        pulseColor: [178 / 255, 76 / 255, 229 / 255, 1.0],\r\n        dimColor: [0.0, 0.0, 0.0, 0.0]\r\n    }, (_opts$colors = opts.colors) !== null && _opts$colors !== void 0 ? _opts$colors : {}));\r\n    context.render(opts.shader, params);\r\n}\r\nfunction createPatternShader(_x, _x2, _x3) {\r\n    return _createPatternShader.apply(this, arguments);\r\n}\r\nfunction _createPatternShader() {\r\n    _createPatternShader = _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee(webgl, vertexHref, fragmentHref) {\r\n        var $vertex, $fragment, _yield$Promise$all, _yield$Promise$all2, vertex, fragment, buffer, program;\r\n        return regeneratorRuntime.wrap(function _callee$(_context) {\r\n            while (1) {\r\n                switch (_context.prev = _context.next) {\r\n                    case 0:\r\n                        $vertex = fetch(vertexHref).then(function (r) {\r\n                            return r.text();\r\n                        });\r\n                        $fragment = fetch(fragmentHref).then(function (r) {\r\n                            return r.text();\r\n                        });\r\n                        _context.next = 4;\r\n                        return Promise.all([$vertex, $fragment]);\r\n                    case 4:\r\n                        _yield$Promise$all = _context.sent;\r\n                        _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\r\n                        vertex = _yield$Promise$all2[0];\r\n                        fragment = _yield$Promise$all2[1];\r\n                        buffer = webgl.createBuffer();\r\n                        if (!buffer.ok()) {\r\n                            console.error(\"failed to create buffer\");\r\n                        }\r\n                        program = webgl.createProgram(vertex, fragment);\r\n                        if (!program.ok()) {\r\n                            console.error(\"failed to create program\");\r\n                        }\r\n                        return _context.abrupt(\"return\", [buffer, program]);\r\n                    case 13:\r\n                    case \"end\":\r\n                        return _context.stop();\r\n                }\r\n            }\r\n        }, _callee);\r\n    }));\r\n    return _createPatternShader.apply(this, arguments);\r\n}\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(renderSpiralShaderToCanvas, \"renderSpiralShaderToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Pattern.ts\");\r\n    reactHotLoader.register(createPatternShader, \"createPatternShader\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Pattern.ts\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Pattern.ts?");

/***/ }),

/***/ "./src/effects/webgl/Text.ts":
/*!***********************************!*\
  !*** ./src/effects/webgl/Text.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderTextToCanvas\": () => (/* binding */ renderTextToCanvas),\n/* harmony export */   \"renderSubliminalToCanvas\": () => (/* binding */ renderSubliminalToCanvas),\n/* harmony export */   \"renderFlashBoxToCanvas\": () => (/* binding */ renderFlashBoxToCanvas),\n/* harmony export */   \"renderFlashTextToCanvas\": () => (/* binding */ renderFlashTextToCanvas)\n/* harmony export */ });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Color */ \"./src/effects/webgl/Color.ts\");\n/* module decorator */ module = __webpack_require__.hmd(module);\nvar _excluded = [\"x\", \"y\", \"value\"];\r\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _objectWithoutProperties(source, excluded) { if (source == null)\r\n    return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) {\r\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n        key = sourceSymbolKeys[i];\r\n        if (excluded.indexOf(key) >= 0)\r\n            continue;\r\n        if (!Object.prototype.propertyIsEnumerable.call(source, key))\r\n            continue;\r\n        target[key] = source[key];\r\n    }\r\n} return target; }\r\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null)\r\n    return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) {\r\n    key = sourceKeys[i];\r\n    if (excluded.indexOf(key) >= 0)\r\n        continue;\r\n    target[key] = source[key];\r\n} return target; }\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\n\r\nfunction renderTextToCanvas(dom, _ref) {\r\n    var _opts$scale, _opts$style$alpha, _opts$style, _opts$style$fonts, _opts$style2, _opts$style$fillColor, _opts$style3, _opts$style3$fillColo, _opts$style$strokeCol, _opts$style4, _opts$style4$strokeCo, _opts$style$lineWidth, _opts$style6, _opts$scale2;\r\n    var x = _ref.x, y = _ref.y, value = _ref.value, opts = _objectWithoutProperties(_ref, _excluded);\r\n    var screenSize = [dom.width, dom.height];\r\n    var fontSize = Math.min(Math.max(48, Math.min.apply(Math, screenSize) / 12.5), 256) * ((_opts$scale = opts.scale) !== null && _opts$scale !== void 0 ? _opts$scale : 1);\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    context.textAlign = \"left\";\r\n    context.textBaseline = \"top\";\r\n    context.globalAlpha = (_opts$style$alpha = (_opts$style = opts.style) === null || _opts$style === void 0 ? void 0 : _opts$style.alpha) !== null && _opts$style$alpha !== void 0 ? _opts$style$alpha : 1;\r\n    context.font = \"\".concat(fontSize, \"px \").concat(((_opts$style$fonts = (_opts$style2 = opts.style) === null || _opts$style2 === void 0 ? void 0 : _opts$style2.fonts) !== null && _opts$style$fonts !== void 0 ? _opts$style$fonts : [\"Roboto\", \"Helvetica\", \"Arial\", \"sans-serif\"]).join(\", \"));\r\n    var measure = context.measureText(value);\r\n    var px = x * dom.width - measure.width / 2.0;\r\n    if (px < 10.0) {\r\n        px = 10.0;\r\n    }\r\n    else if (px + measure.width >= dom.width - 10.0) {\r\n        px = dom.width - measure.width - 10.0;\r\n    }\r\n    var py = y * dom.height - fontSize / 2.0;\r\n    if (py < 10.0) {\r\n        py = 10.0;\r\n    }\r\n    else if (py + fontSize / 2.0 >= dom.height - fontSize - 10.0) {\r\n        py = dom.height - fontSize - 10.0;\r\n    }\r\n    var fill = _Color__WEBPACK_IMPORTED_MODULE_0__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$fillColor = (_opts$style3 = opts.style) === null || _opts$style3 === void 0 ? void 0 : (_opts$style3$fillColo = _opts$style3.fillColor) === null || _opts$style3$fillColo === void 0 ? void 0 : _opts$style3$fillColo.slice(0, 3)) !== null && _opts$style$fillColor !== void 0 ? _opts$style$fillColor : [1, 1, 1]));\r\n    var stroke = _Color__WEBPACK_IMPORTED_MODULE_0__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$strokeCol = (_opts$style4 = opts.style) === null || _opts$style4 === void 0 ? void 0 : (_opts$style4$strokeCo = _opts$style4.strokeColor) === null || _opts$style4$strokeCo === void 0 ? void 0 : _opts$style4$strokeCo.slice(0, 3)) !== null && _opts$style$strokeCol !== void 0 ? _opts$style$strokeCol : [1, 1, 1]));\r\n    if (stroke != fill) {\r\n        var _opts$style$strokeCol2, _opts$style5, _opts$style5$strokeCo;\r\n        context.strokeStyle = _Color__WEBPACK_IMPORTED_MODULE_0__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$strokeCol2 = (_opts$style5 = opts.style) === null || _opts$style5 === void 0 ? void 0 : (_opts$style5$strokeCo = _opts$style5.strokeColor) === null || _opts$style5$strokeCo === void 0 ? void 0 : _opts$style5$strokeCo.slice(0, 3)) !== null && _opts$style$strokeCol2 !== void 0 ? _opts$style$strokeCol2 : [1, 1, 1]));\r\n    }\r\n    context.fillStyle = fill;\r\n    context.lineWidth = (_opts$style$lineWidth = (_opts$style6 = opts.style) === null || _opts$style6 === void 0 ? void 0 : _opts$style6.lineWidth) !== null && _opts$style$lineWidth !== void 0 ? _opts$style$lineWidth : Math.max((_opts$scale2 = opts.scale) !== null && _opts$scale2 !== void 0 ? _opts$scale2 : 1, 1);\r\n    context.fillText(value, px, py);\r\n    if (stroke != fill) {\r\n        context.strokeText(value, px, py);\r\n    }\r\n    context.restore();\r\n}\r\nfunction renderSubliminalToCanvas(dom, frame, opts) {\r\n}\r\nfunction renderFlashBoxToCanvas(dom, frame, opts) {\r\n    var _opts$stageLengths, _opts$style$backgroun, _opts$style7;\r\n    var stageLengths = (_opts$stageLengths = opts.stageLengths) !== null && _opts$stageLengths !== void 0 ? _opts$stageLengths : [15, 15, 15, 15];\r\n    var totalFramesLength = stageLengths.reduce(function (p, c) {\r\n        return p + c;\r\n    });\r\n    var framePosition = frame % totalFramesLength;\r\n    var bgcolor = _Color__WEBPACK_IMPORTED_MODULE_0__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$backgroun = (_opts$style7 = opts.style) === null || _opts$style7 === void 0 ? void 0 : _opts$style7.backgroundColor) !== null && _opts$style$backgroun !== void 0 ? _opts$style$backgroun : [1, 1, 1, 1]));\r\n    var context = dom.getContext(\"2d\");\r\n    if (framePosition < stageLengths[0]) { }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1]) {\r\n        context.save();\r\n        context.globalAlpha = (framePosition - stageLengths[1]) / stageLengths[1];\r\n        context.fillStyle = bgcolor;\r\n        context.fillRect(0, 0, dom.width, dom.height);\r\n        context.restore();\r\n    }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2]) {\r\n        context.save();\r\n        context.globalAlpha = 1.0;\r\n        context.fillStyle = bgcolor;\r\n        context.fillRect(0, 0, dom.width, dom.height);\r\n        context.restore();\r\n    }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2] + stageLengths[3]) {\r\n        var pos = framePosition - (stageLengths[0] + stageLengths[1] + +stageLengths[2]);\r\n        context.save();\r\n        context.globalAlpha = (stageLengths[3] - pos) / stageLengths[3];\r\n        context.fillStyle = bgcolor;\r\n        context.fillRect(0, 0, dom.width, dom.height);\r\n        context.restore();\r\n    }\r\n    else { }\r\n}\r\nfunction renderFlashTextToCanvas(dom, frame, opts) {\r\n    var _opts$stageLengths2, _ref2, _opts$style$offsetY, _opts$style8, _opts$style$offsetY2, _opts$style9, _opts$style$offsetY3, _opts$style10;\r\n    var stageLengths = (_opts$stageLengths2 = opts.stageLengths) !== null && _opts$stageLengths2 !== void 0 ? _opts$stageLengths2 : [15, 15, 15, 15];\r\n    var totalFramesLength = stageLengths.reduce(function (p, c) {\r\n        return p + c;\r\n    });\r\n    var framePosition = frame % totalFramesLength;\r\n    var align = opts.align != null ? opts.align[(_ref2 = (frame / totalFramesLength | 0) % opts.align.length) !== null && _ref2 !== void 0 ? _ref2 : 1] : \"center\";\r\n    var text = opts.text[(frame / totalFramesLength | 0) % opts.text.length];\r\n    var y = 0.5;\r\n    switch (align) {\r\n        case \"center\":\r\n            y = 0.5 + ((_opts$style$offsetY = (_opts$style8 = opts.style) === null || _opts$style8 === void 0 ? void 0 : _opts$style8.offsetY) !== null && _opts$style$offsetY !== void 0 ? _opts$style$offsetY : 0);\r\n            break;\r\n        case \"top\":\r\n            y = 0.05 + ((_opts$style$offsetY2 = (_opts$style9 = opts.style) === null || _opts$style9 === void 0 ? void 0 : _opts$style9.offsetY) !== null && _opts$style$offsetY2 !== void 0 ? _opts$style$offsetY2 : 0);\r\n            break;\r\n        case \"bottom\":\r\n            y = 0.95 + ((_opts$style$offsetY3 = (_opts$style10 = opts.style) === null || _opts$style10 === void 0 ? void 0 : _opts$style10.offsetY) !== null && _opts$style$offsetY3 !== void 0 ? _opts$style$offsetY3 : 0);\r\n            break;\r\n    }\r\n    if (framePosition < stageLengths[0]) { }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1]) {\r\n        var _opts$style$size, _opts$style11, _opts$style12, _opts$style13, _opts$style14;\r\n        renderTextToCanvas(dom, {\r\n            x: 0.5,\r\n            y: y,\r\n            value: text,\r\n            scale: (_opts$style$size = (_opts$style11 = opts.style) === null || _opts$style11 === void 0 ? void 0 : _opts$style11.size) !== null && _opts$style$size !== void 0 ? _opts$style$size : 2,\r\n            style: _objectSpread(_objectSpread({\r\n                lineWidth: (_opts$style12 = opts.style) === null || _opts$style12 === void 0 ? void 0 : _opts$style12.lineWidth,\r\n                alpha: (framePosition - stageLengths[0]) / stageLengths[1]\r\n            }, ((_opts$style13 = opts.style) === null || _opts$style13 === void 0 ? void 0 : _opts$style13.fillColor) != null ? {\r\n                fillColor: opts.style.fillColor\r\n            } : {}), ((_opts$style14 = opts.style) === null || _opts$style14 === void 0 ? void 0 : _opts$style14.strokeColor) != null ? {\r\n                strokeColor: opts.style.strokeColor\r\n            } : {})\r\n        });\r\n    }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2]) {\r\n        var _opts$style$size2, _opts$style15, _opts$style16, _opts$style17, _opts$style18;\r\n        renderTextToCanvas(dom, {\r\n            x: 0.5,\r\n            y: y,\r\n            value: text,\r\n            scale: (_opts$style$size2 = (_opts$style15 = opts.style) === null || _opts$style15 === void 0 ? void 0 : _opts$style15.size) !== null && _opts$style$size2 !== void 0 ? _opts$style$size2 : 1,\r\n            style: _objectSpread(_objectSpread({\r\n                lineWidth: (_opts$style16 = opts.style) === null || _opts$style16 === void 0 ? void 0 : _opts$style16.lineWidth\r\n            }, ((_opts$style17 = opts.style) === null || _opts$style17 === void 0 ? void 0 : _opts$style17.fillColor) != null ? {\r\n                fillColor: opts.style.fillColor\r\n            } : {}), ((_opts$style18 = opts.style) === null || _opts$style18 === void 0 ? void 0 : _opts$style18.strokeColor) != null ? {\r\n                strokeColor: opts.style.strokeColor\r\n            } : {})\r\n        });\r\n    }\r\n    else if (framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2] + stageLengths[3]) {\r\n        var _opts$style$size3, _opts$style19, _opts$style20, _opts$style21, _opts$style22;\r\n        var pos = framePosition - (stageLengths[0] + stageLengths[1] + +stageLengths[2]);\r\n        renderTextToCanvas(dom, {\r\n            x: 0.5,\r\n            y: y,\r\n            value: text,\r\n            scale: (_opts$style$size3 = (_opts$style19 = opts.style) === null || _opts$style19 === void 0 ? void 0 : _opts$style19.size) !== null && _opts$style$size3 !== void 0 ? _opts$style$size3 : 2,\r\n            style: _objectSpread(_objectSpread({\r\n                lineWidth: (_opts$style20 = opts.style) === null || _opts$style20 === void 0 ? void 0 : _opts$style20.lineWidth,\r\n                alpha: (stageLengths[3] - pos) / stageLengths[3]\r\n            }, ((_opts$style21 = opts.style) === null || _opts$style21 === void 0 ? void 0 : _opts$style21.fillColor) != null ? {\r\n                fillColor: opts.style.fillColor\r\n            } : {}), ((_opts$style22 = opts.style) === null || _opts$style22 === void 0 ? void 0 : _opts$style22.strokeColor) != null ? {\r\n                strokeColor: opts.style.strokeColor\r\n            } : {})\r\n        });\r\n    }\r\n    else { }\r\n}\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(renderTextToCanvas, \"renderTextToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Text.ts\");\r\n    reactHotLoader.register(renderSubliminalToCanvas, \"renderSubliminalToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Text.ts\");\r\n    reactHotLoader.register(renderFlashBoxToCanvas, \"renderFlashBoxToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Text.ts\");\r\n    reactHotLoader.register(renderFlashTextToCanvas, \"renderFlashTextToCanvas\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\Text.ts\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Text.ts?");

/***/ }),

/***/ "./src/effects/webgl/WebGLRef.ts":
/*!***************************************!*\
  !*** ./src/effects/webgl/WebGLRef.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WebGLRef),\n/* harmony export */   \"ProgramRef\": () => (/* binding */ ProgramRef),\n/* harmony export */   \"BufferRef\": () => (/* binding */ BufferRef)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n} }\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor)\r\n        descriptor.writable = true;\r\n    Object.defineProperty(target, descriptor.key, descriptor);\r\n} }\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps)\r\n    _defineProperties(Constructor.prototype, protoProps); if (staticProps)\r\n    _defineProperties(Constructor, staticProps); return Constructor; }\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\nvar WebGLRef = /*#__PURE__*/ function () {\r\n    function WebGLRef(canvas) {\r\n        var _ref, _canvas$getContext;\r\n        _classCallCheck(this, WebGLRef);\r\n        this.canvas = canvas;\r\n        this.gl = (_ref = (_canvas$getContext = canvas.getContext(\"webgl\")) !== null && _canvas$getContext !== void 0 ? _canvas$getContext : canvas.getContext(\"experimental-webgl\")) !== null && _ref !== void 0 ? _ref : function () {\r\n            throw new Error(\"\");\r\n        }();\r\n    }\r\n    _createClass(WebGLRef, [{\r\n            key: \"ref\",\r\n            value: function ref() {\r\n                return this.gl;\r\n            }\r\n        }, {\r\n            key: \"createBuffer\",\r\n            value: function createBuffer() {\r\n                var buffer = this.gl.createBuffer();\r\n                if (buffer == null) {\r\n                    throw new Error(\"\");\r\n                }\r\n                return new BufferRef(this.gl, buffer);\r\n            }\r\n        }, {\r\n            key: \"createProgram\",\r\n            value: function createProgram(vertex, fragment) {\r\n                var program = this.gl.createProgram();\r\n                if (program == null) {\r\n                    throw new Error(\"\");\r\n                }\r\n                var vs = this.createShader(vertex, this.gl.VERTEX_SHADER);\r\n                this.gl.attachShader(program, vs);\r\n                this.gl.deleteShader(vs);\r\n                var fs = this.createShader(\"precision highp float;\\n\\n\" + fragment, this.gl.FRAGMENT_SHADER);\r\n                this.gl.attachShader(program, fs);\r\n                this.gl.deleteShader(fs);\r\n                this.gl.linkProgram(program);\r\n                if (!this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\r\n                    throw new Error(\"VALIDATE_STATUS: \".concat(this.gl.getProgramParameter(program, this.gl.VALIDATE_STATUS), \" ERROR: \").concat(this.gl.getError()));\r\n                }\r\n                return new ProgramRef(this.gl, program);\r\n            }\r\n        }, {\r\n            key: \"clear\",\r\n            value: function clear() {\r\n                this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT | this.gl.STENCIL_BUFFER_BIT);\r\n                this.gl.clearColor(0, 0, 0, 1);\r\n            }\r\n        }, {\r\n            key: \"render\",\r\n            value: __signature__(function render(programRef, parameters) {\r\n                var _this = this;\r\n                var program = programRef.ref();\r\n                this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\r\n                this.gl.useProgram(program);\r\n                Object.keys(parameters).forEach(function (key) {\r\n                    var value = parameters[key];\r\n                    var location = _this.gl.getUniformLocation(program, key);\r\n                    if (location) {\r\n                        if (Array.isArray(value)) {\r\n                            switch (value.length) {\r\n                                case 2:\r\n                                    _this.gl.uniform2f(location, value[0], value[1]);\r\n                                    break;\r\n                                case 3:\r\n                                    _this.gl.uniform3f(location, value[0], value[1], value[2]);\r\n                                    break;\r\n                                case 4:\r\n                                    _this.gl.uniform4f(location, value[0], value[1], value[2], value[3]);\r\n                                    break;\r\n                            }\r\n                        }\r\n                        else {\r\n                            _this.gl.uniform1f(location, value);\r\n                        }\r\n                    }\r\n                    else { }\r\n                });\r\n                this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\r\n            }, \"useProgram{}\")\r\n        }, {\r\n            key: \"createShader\",\r\n            value: function createShader(src, type) {\r\n                var shader = this.gl.createShader(type);\r\n                if (shader == null) {\r\n                    throw new Error(\"\");\r\n                }\r\n                this.gl.shaderSource(shader, src);\r\n                this.gl.compileShader(shader);\r\n                if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\r\n                    throw new Error((type == this.gl.VERTEX_SHADER ? \"VERTEX\" : \"FRAGMENT\") + \" SHADER:\\n\" + this.gl.getShaderInfoLog(shader));\r\n                }\r\n                return shader;\r\n            }\r\n        }, {\r\n            key: \"width\",\r\n            value: function width() {\r\n                return this.canvas.clientWidth;\r\n            }\r\n        }, {\r\n            key: \"height\",\r\n            value: function height() {\r\n                return this.canvas.clientHeight;\r\n            }\r\n        }, {\r\n            key: \"__reactstandin__regenerateByEval\",\r\n            value: // @ts-ignore\r\n            function __reactstandin__regenerateByEval(key, code) {\r\n                // @ts-ignore\r\n                this[key] = eval(code);\r\n            }\r\n        }]);\r\n    return WebGLRef;\r\n}();\r\n\r\nvar ProgramRef = /*#__PURE__*/ function () {\r\n    function ProgramRef(gl, program) {\r\n        _classCallCheck(this, ProgramRef);\r\n        _defineProperty(this, \"destroyed\", false);\r\n        this.gl = gl;\r\n        this.program = program;\r\n    }\r\n    _createClass(ProgramRef, [{\r\n            key: \"ref\",\r\n            value: function ref() {\r\n                return this.program;\r\n            }\r\n        }, {\r\n            key: \"ok\",\r\n            value: function ok() {\r\n                return !this.destroyed;\r\n            }\r\n        }, {\r\n            key: \"destroy\",\r\n            value: function destroy() {\r\n                this.gl.deleteProgram(this.program);\r\n                this.destroyed = true;\r\n            }\r\n        }, {\r\n            key: \"__reactstandin__regenerateByEval\",\r\n            value: // @ts-ignore\r\n            function __reactstandin__regenerateByEval(key, code) {\r\n                // @ts-ignore\r\n                this[key] = eval(code);\r\n            }\r\n        }]);\r\n    return ProgramRef;\r\n}();\r\nvar BufferRef = /*#__PURE__*/ function () {\r\n    function BufferRef(gl, buffer) {\r\n        _classCallCheck(this, BufferRef);\r\n        _defineProperty(this, \"destroyed\", false);\r\n        this.gl = gl;\r\n        this.buffer = buffer;\r\n    }\r\n    _createClass(BufferRef, [{\r\n            key: \"ref\",\r\n            value: function ref() {\r\n                return this.buffer;\r\n            }\r\n        }, {\r\n            key: \"ok\",\r\n            value: function ok() {\r\n                return !this.destroyed;\r\n            }\r\n        }, {\r\n            key: \"bind\",\r\n            value: function bind() {\r\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\r\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0]), this.gl.STATIC_DRAW);\r\n                this.gl.vertexAttribPointer(0, 2, this.gl.FLOAT, false, 0, 0);\r\n                this.gl.enableVertexAttribArray(0);\r\n            }\r\n        }, {\r\n            key: \"destroy\",\r\n            value: function destroy() {\r\n                this.gl.deleteBuffer(this.buffer);\r\n                this.destroyed = true;\r\n            }\r\n        }, {\r\n            key: \"__reactstandin__regenerateByEval\",\r\n            value: // @ts-ignore\r\n            function __reactstandin__regenerateByEval(key, code) {\r\n                // @ts-ignore\r\n                this[key] = eval(code);\r\n            }\r\n        }]);\r\n    return BufferRef;\r\n}();\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(WebGLRef, \"WebGLRef\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\WebGLRef.ts\");\r\n    reactHotLoader.register(ProgramRef, \"ProgramRef\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\WebGLRef.ts\");\r\n    reactHotLoader.register(BufferRef, \"BufferRef\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\effects\\\\webgl\\\\WebGLRef.ts\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/WebGLRef.ts?");

/***/ }),

/***/ "./src/util/defer.ts":
/*!***************************!*\
  !*** ./src/util/defer.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"delay\": () => (/* binding */ delay)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n}\r\ncatch (error) {\r\n    reject(error);\r\n    return;\r\n} if (info.done) {\r\n    resolve(value);\r\n}\r\nelse {\r\n    Promise.resolve(value).then(_next, _throw);\r\n} }\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\nvar _default = function _default(callback) {\r\n    return new Promise(function (resolve, reject) {\r\n        requestAnimationFrame(/*#__PURE__*/ _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee() {\r\n            return regeneratorRuntime.wrap(function _callee$(_context) {\r\n                while (1) {\r\n                    switch (_context.prev = _context.next) {\r\n                        case 0:\r\n                            if (!callback) {\r\n                                _context.next = 3;\r\n                                break;\r\n                            }\r\n                            _context.next = 3;\r\n                            return callback();\r\n                        case 3:\r\n                            resolve();\r\n                        case 4:\r\n                        case \"end\":\r\n                            return _context.stop();\r\n                    }\r\n                }\r\n            }, _callee);\r\n        })));\r\n    });\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_default);\r\nfunction delay(ms) {\r\n    return new Promise(function (resolve) {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(delay, \"delay\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\util\\\\defer.ts\");\r\n    reactHotLoader.register(_default, \"default\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\util\\\\defer.ts\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/util/defer.ts?");

/***/ }),

/***/ "./src/util/onKeyboard.tsx":
/*!*********************************!*\
  !*** ./src/util/onKeyboard.tsx ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"KeyState\": () => (/* binding */ KeyState),\n/* harmony export */   \"default\": () => (/* binding */ onKeyboard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {\r\n    var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\r\n    enterModule && enterModule(module);\r\n})();\r\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal[\"default\"].signature : function (a) {\r\n    return a;\r\n};\r\n\r\nvar KeyState;\r\n(function (KeyState) {\r\n    KeyState[KeyState[\"Down\"] = 0] = \"Down\";\r\n    KeyState[KeyState[\"Up\"] = 1] = \"Up\";\r\n})(KeyState || (KeyState = {}));\r\nfunction onKeyboard(callback) {\r\n    var invoker = react__WEBPACK_IMPORTED_MODULE_0__.useRef(callback);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\r\n        invoker.current = callback;\r\n    }, [callback]);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\r\n        function onKeyDown(e) {\r\n            invoker.current(KeyState.Down, e.code);\r\n        }\r\n        function onKeyUp(e) {\r\n            invoker.current(KeyState.Up, e.code);\r\n        }\r\n        window.addEventListener(\"keydown\", onKeyDown);\r\n        window.addEventListener(\"keyup\", onKeyUp);\r\n        return function () {\r\n            window.removeEventListener(\"keydown\", onKeyDown);\r\n            window.removeEventListener(\"keyup\", onKeyUp);\r\n        };\r\n    }, []);\r\n}\r\n__signature__(onKeyboard, \"useRef{invoker}\\nuseEffect{}\\nuseEffect{}\");\r\n;\r\n(function () {\r\n    var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\r\n    if (!reactHotLoader) {\r\n        return;\r\n    }\r\n    reactHotLoader.register(onKeyboard, \"onKeyboard\", \"D:\\\\Development\\\\hypnogen\\\\src\\\\util\\\\onKeyboard.tsx\");\r\n})();\r\n;\r\n(function () {\r\n    var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\r\n    leaveModule && leaveModule(module);\r\n})();\r\n\n\n//# sourceURL=webpack:///./src/util/onKeyboard.tsx?");

/***/ })

}]);