"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_App_tsx"],{

/***/ "./src/App.tsx":
/*!*********************!*\
  !*** ./src/App.tsx ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Dialog/Dialog.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Button/Button.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _components_RenderDefEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/RenderDefEditor */ \"./src/components/RenderDefEditor.tsx\");\n/* harmony import */ var _components_RenderingStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/RenderingStatus */ \"./src/components/RenderingStatus.tsx\");\n/* harmony import */ var _components_SpiralViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/SpiralViewer */ \"./src/components/SpiralViewer.tsx\");\n/* harmony import */ var _effects_webgl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./effects/webgl */ \"./src/effects/webgl.ts\");\n/* harmony import */ var _effects_webgl_webgl_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./effects/webgl/webgl.react */ \"./src/effects/webgl/webgl.react.tsx\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n    var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false), _React$useState2 = _slicedToArray(_React$useState, 2), openEditor = _React$useState2[0], setEditorOpen = _React$useState2[1];\r\n    var _useRenderDef = (0,_effects_webgl_webgl_react__WEBPACK_IMPORTED_MODULE_5__.useRenderDef)(), _useRenderDef2 = _slicedToArray(_useRenderDef, 2), def = _useRenderDef2[0], setRenderDef = _useRenderDef2[1];\r\n    var assets = (0,_effects_webgl_webgl_react__WEBPACK_IMPORTED_MODULE_5__.useAssets)(def);\r\n    var _useRenderToGIF = (0,_effects_webgl__WEBPACK_IMPORTED_MODULE_4__.useRenderToGIF)(def, assets), _useRenderToGIF2 = _slicedToArray(_useRenderToGIF, 2), rendering = _useRenderToGIF2[0], renderToGIF = _useRenderToGIF2[1];\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_SpiralViewer__WEBPACK_IMPORTED_MODULE_3__.SpiralViewer, {\r\n        def: def,\r\n        assets: assets,\r\n        onClick: function onClick() {\r\n            return setEditorOpen(true);\r\n        }\r\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        open: openEditor\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_RenderDefEditor__WEBPACK_IMPORTED_MODULE_1__.RenderDefEditor, {\r\n        value: def,\r\n        onChange: setRenderDef\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n        color: \"secondary\",\r\n        onClick: function onClick() {\r\n            return setEditorOpen(false);\r\n        }\r\n    }, \"Close\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n        color: \"primary\",\r\n        onClick: function onClick() {\r\n            setEditorOpen(false);\r\n            renderToGIF();\r\n        }\r\n    }, \"Render\"))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_RenderingStatus__WEBPACK_IMPORTED_MODULE_2__.RenderingSpinner, {\r\n        status: rendering\r\n    }));\r\n}\r\n\n\n//# sourceURL=webpack:///./src/App.tsx?");

/***/ }),

/***/ "./src/components/DrawCommandEditor.tsx":
/*!**********************************************!*\
  !*** ./src/components/DrawCommandEditor.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StageEditor\": () => (/* binding */ StageEditor),\n/* harmony export */   \"ColorEditor\": () => (/* binding */ ColorEditor),\n/* harmony export */   \"CoordsEditor\": () => (/* binding */ CoordsEditor),\n/* harmony export */   \"TextStyleEditor\": () => (/* binding */ TextStyleEditor),\n/* harmony export */   \"FlashTextStyleEditor\": () => (/* binding */ FlashTextStyleEditor),\n/* harmony export */   \"DrawCommandEditor\": () => (/* binding */ DrawCommandEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-color */ \"./node_modules/react-color/es/index.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Grid/Grid.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Typography/Typography.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/TextField/TextField.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Button/Button.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Popover/Popover.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Accordion/Accordion.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/AccordionSummary/AccordionSummary.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/AccordionDetails/AccordionDetails.js\");\n/* harmony import */ var _material_ui_icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/icons */ \"./node_modules/@material-ui/icons/esm/ExpandMore.js\");\n/* harmony import */ var _effects_webgl_Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../effects/webgl/Color */ \"./src/effects/webgl/Color.ts\");\n/* harmony import */ var _PatternEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PatternEditor */ \"./src/components/PatternEditor.tsx\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar StageEditor = function StageEditor(_ref) {\r\n    var label = _ref.label, value = _ref.value, _onChange = _ref.onChange;\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        container: true\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n        variant: \"h4\",\r\n        paragraph: true\r\n    }, label)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Hidden\",\r\n        fullWidth: true,\r\n        value: value[0],\r\n        onChange: function onChange(v) {\r\n            return _onChange([parseInt(v.target.value, 0), value[1], value[2], value[3]]);\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Fade in\",\r\n        fullWidth: true,\r\n        value: value[1],\r\n        onChange: function onChange(v) {\r\n            return _onChange([value[0], parseInt(v.target.value, 0), value[2], value[3]]);\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Visible\",\r\n        fullWidth: true,\r\n        value: value[2],\r\n        onChange: function onChange(v) {\r\n            return _onChange([value[0], value[1], parseInt(v.target.value, 0), value[3]]);\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Fade out\",\r\n        fullWidth: true,\r\n        value: value[3],\r\n        onChange: function onChange(v) {\r\n            return _onChange([value[0], value[1], value[2], parseInt(v.target.value, 0)]);\r\n        }\r\n    }))));\r\n};\r\nvar ColorEditor = function ColorEditor(_ref2) {\r\n    var label = _ref2.label, value = _ref2.value, _onChange2 = _ref2.onChange;\r\n    var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(null), _React$useState2 = _slicedToArray(_React$useState, 2), open = _React$useState2[0], setOpen = _React$useState2[1];\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\r\n        color: \"primary\",\r\n        onClick: function onClick(e) {\r\n            return setOpen(e.currentTarget);\r\n        }\r\n    }, label), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\r\n        open: open != null,\r\n        onClose: function onClose() {\r\n            return setOpen(null);\r\n        },\r\n        anchorEl: open,\r\n        anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\"\r\n        }\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_color__WEBPACK_IMPORTED_MODULE_1__.SketchPicker, {\r\n        color: _effects_webgl_Color__WEBPACK_IMPORTED_MODULE_2__.toCssStringRGBA.apply(void 0, _toConsumableArray(value)),\r\n        onChange: function onChange(e) {\r\n            var _e$rgb$a;\r\n            return _onChange2([e.rgb.r / 255, e.rgb.g / 255, e.rgb.b / 255, (_e$rgb$a = e.rgb.a) !== null && _e$rgb$a !== void 0 ? _e$rgb$a : 1]);\r\n        }\r\n    })));\r\n};\r\nvar CoordsEditor = function CoordsEditor(_ref3) {\r\n    var label = _ref3.label, value = _ref3.value, _onChange3 = _ref3.onChange;\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        container: true\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n        variant: \"h4\",\r\n        paragraph: true\r\n    }, label)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"X\",\r\n        fullWidth: true,\r\n        value: value[0],\r\n        onChange: function onChange(v) {\r\n            return _onChange3([parseFloat(v.target.value), value[1]]);\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Y\",\r\n        fullWidth: true,\r\n        value: value[1],\r\n        onChange: function onChange(v) {\r\n            return _onChange3([value[0], parseFloat(v.target.value)]);\r\n        }\r\n    })));\r\n};\r\nvar TextStyleEditor = function TextStyleEditor(_ref4) {\r\n    var _value$fillColor, _value$strokeColor;\r\n    var label = _ref4.label, value = _ref4.value, _onChange4 = _ref4.onChange, children = _ref4.children;\r\n    var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false), _React$useState4 = _slicedToArray(_React$useState3, 2), open = _React$useState4[0], setOpen = _React$useState4[1];\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n        expanded: open,\r\n        onChange: function onChange(_, open) {\r\n            return setOpen(open);\r\n        }\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\r\n        expandIcon: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null)\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n        variant: \"h3\"\r\n    }, label)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        container: true,\r\n        spacing: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Font size\",\r\n        fullWidth: true,\r\n        value: value.size,\r\n        onChange: function onChange(v) {\r\n            return _onChange4(_objectSpread(_objectSpread({}, value), {}, {\r\n                size: parseFloat(v.target.value)\r\n            }));\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n        type: \"number\",\r\n        label: \"Line width\",\r\n        fullWidth: true,\r\n        value: value.lineWidth,\r\n        onChange: function onChange(v) {\r\n            return _onChange4(_objectSpread(_objectSpread({}, value), {}, {\r\n                lineWidth: parseFloat(v.target.value)\r\n            }));\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorEditor, {\r\n        label: \"Fill Color\",\r\n        value: (_value$fillColor = value.fillColor) !== null && _value$fillColor !== void 0 ? _value$fillColor : [1, 1, 1, 1],\r\n        onChange: function onChange(fillColor) {\r\n            return _onChange4(_objectSpread(_objectSpread({}, value), {}, {\r\n                fillColor: fillColor\r\n            }));\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorEditor, {\r\n        label: \"Stroke Color\",\r\n        value: (_value$strokeColor = value.strokeColor) !== null && _value$strokeColor !== void 0 ? _value$strokeColor : [0, 0, 0, 1],\r\n        onChange: function onChange(strokeColor) {\r\n            return _onChange4(_objectSpread(_objectSpread({}, value), {}, {\r\n                strokeColor: strokeColor\r\n            }));\r\n        }\r\n    })), children)));\r\n};\r\nvar FlashTextStyleEditor = function FlashTextStyleEditor(_ref5) {\r\n    var _value$offsetX, _value$offsetY;\r\n    var label = _ref5.label, value = _ref5.value, _onChange5 = _ref5.onChange;\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TextStyleEditor, {\r\n        label: label,\r\n        value: value,\r\n        onChange: function onChange(b) {\r\n            return _onChange5(_objectSpread(_objectSpread({}, value), b));\r\n        }\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        item: true,\r\n        xs: 12\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CoordsEditor, {\r\n        label: \"Offset\",\r\n        value: [(_value$offsetX = value.offsetX) !== null && _value$offsetX !== void 0 ? _value$offsetX : 0, (_value$offsetY = value.offsetY) !== null && _value$offsetY !== void 0 ? _value$offsetY : 0],\r\n        onChange: function onChange(_ref6) {\r\n            var _ref7 = _slicedToArray(_ref6, 2), offsetX = _ref7[0], offsetY = _ref7[1];\r\n            return _onChange5(_objectSpread(_objectSpread({}, value), {}, {\r\n                offsetX: offsetX,\r\n                offsetY: offsetY\r\n            }));\r\n        }\r\n    })));\r\n};\r\nvar DrawCommandEditor = function DrawCommandEditor(_ref8) {\r\n    var _value$stages, _value$stages2, _value$style;\r\n    var value = _ref8.value, _onChange6 = _ref8.onChange;\r\n    var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false), _React$useState6 = _slicedToArray(_React$useState5, 2), open = _React$useState6[0], setOpen = _React$useState6[1];\r\n    switch (value.type) {\r\n        case \"fill\":\r\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n                expanded: open,\r\n                onChange: function onChange(_, open) {\r\n                    return setOpen(open);\r\n                }\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\r\n                expandIcon: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null)\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n                variant: \"h3\"\r\n            }, \"Fill\")), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorEditor, {\r\n                label: \"Color\",\r\n                value: value.color,\r\n                onChange: function onChange(color) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        color: color\r\n                    }));\r\n                }\r\n            })));\r\n        case \"flash-fill\":\r\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n                expanded: open,\r\n                onChange: function onChange(_, open) {\r\n                    return setOpen(open);\r\n                }\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\r\n                expandIcon: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null)\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n                variant: \"h3\"\r\n            }, \"Flash Fill\")), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(StageEditor, {\r\n                label: \"Stages\",\r\n                value: (_value$stages = value.stages) !== null && _value$stages !== void 0 ? _value$stages : [15, 15, 15, 15],\r\n                onChange: function onChange(stages) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        stages: stages\r\n                    }));\r\n                }\r\n            }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorEditor, {\r\n                label: \"Color\",\r\n                value: value.color,\r\n                onChange: function onChange(color) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        color: color\r\n                    }));\r\n                }\r\n            })));\r\n        case \"flash-text\":\r\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n                expanded: open,\r\n                onChange: function onChange(_, open) {\r\n                    return setOpen(open);\r\n                }\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\r\n                expandIcon: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null)\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n                variant: \"h3\"\r\n            }, \"Flash Text\")), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                container: true,\r\n                spacing: 3\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(StageEditor, {\r\n                label: \"Stages\",\r\n                value: (_value$stages2 = value.stages) !== null && _value$stages2 !== void 0 ? _value$stages2 : [15, 15, 15, 15],\r\n                onChange: function onChange(stages) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        stages: stages\r\n                    }));\r\n                }\r\n            })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, value.align), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n                multiline: true,\r\n                fullWidth: true,\r\n                label: \"Messages\",\r\n                value: value.text.join(\"\\n\"),\r\n                onChange: function onChange(e) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        text: e.target.value.split(\"\\n\")\r\n                    }));\r\n                }\r\n            })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FlashTextStyleEditor, {\r\n                label: \"Styles\",\r\n                value: (_value$style = value.style) !== null && _value$style !== void 0 ? _value$style : {},\r\n                onChange: function onChange(style) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        style: style\r\n                    }));\r\n                }\r\n            })))));\r\n        case \"clip-circle\":\r\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\r\n                expanded: open,\r\n                onChange: function onChange(_, open) {\r\n                    return setOpen(open);\r\n                }\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\r\n                expandIcon: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null)\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n                variant: \"h3\"\r\n            }, \"Clip (Circle)\")), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                container: true,\r\n                spacing: 3\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CoordsEditor, {\r\n                label: \"Origin\",\r\n                value: value.origin,\r\n                onChange: function onChange(origin) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        origin: origin\r\n                    }));\r\n                }\r\n            })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\r\n                type: \"number\",\r\n                label: \"Radius\",\r\n                fullWidth: true,\r\n                value: value.radius,\r\n                onChange: function onChange(e) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        radius: parseFloat(e.target.value)\r\n                    }));\r\n                }\r\n            })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n                item: true,\r\n                xs: 12\r\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PatternEditor__WEBPACK_IMPORTED_MODULE_3__.PatternEditor, {\r\n                value: value.children,\r\n                onChange: function onChange(children) {\r\n                    return _onChange6(_objectSpread(_objectSpread({}, value), {}, {\r\n                        children: children\r\n                    }));\r\n                }\r\n            })))));\r\n        default:\r\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\r\n                variant: \"body1\"\r\n            }, \" Unrecognized command type '\", value.type, \"'\");\r\n    }\r\n};\r\n\n\n//# sourceURL=webpack:///./src/components/DrawCommandEditor.tsx?");

/***/ }),

/***/ "./src/components/PatternEditor.tsx":
/*!******************************************!*\
  !*** ./src/components/PatternEditor.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PatternEditor\": () => (/* binding */ PatternEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _DrawCommandEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrawCommandEditor */ \"./src/components/DrawCommandEditor.tsx\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\n\r\n\r\nvar PatternEditor = function PatternEditor(_ref) {\r\n    var value = _ref.value, _onChange = _ref.onChange;\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, value.map(function (v, i) {\r\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DrawCommandEditor__WEBPACK_IMPORTED_MODULE_1__.DrawCommandEditor, {\r\n            key: i,\r\n            value: v,\r\n            onChange: function onChange(e) {\r\n                return _onChange([].concat(_toConsumableArray(value.slice(0, i)), [e], _toConsumableArray(value.slice(i + 1))));\r\n            }\r\n        });\r\n    }));\r\n};\r\n\n\n//# sourceURL=webpack:///./src/components/PatternEditor.tsx?");

/***/ }),

/***/ "./src/components/RenderDefEditor.tsx":
/*!********************************************!*\
  !*** ./src/components/RenderDefEditor.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RenderDefEditor\": () => (/* binding */ RenderDefEditor)\n/* harmony export */ });\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Typography/Typography.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Grid/Grid.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/TextField/TextField.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _PatternEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PatternEditor */ \"./src/components/PatternEditor.tsx\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\n\r\n\r\n\r\nvar RenderDefEditor = function RenderDefEditor(_ref) {\r\n    var value = _ref.value, _onChange = _ref.onChange;\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\r\n        variant: \"h1\",\r\n        paragraph: true\r\n    }, \"Spiral Editor\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\r\n        variant: \"h2\",\r\n        paragraph: true\r\n    }, \"Pattern\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PatternEditor__WEBPACK_IMPORTED_MODULE_1__.PatternEditor, {\r\n        value: value.pattern,\r\n        onChange: function onChange(pattern) {\r\n            return _onChange(_objectSpread(_objectSpread({}, value), {}, {\r\n                pattern: pattern\r\n            }));\r\n        }\r\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\r\n        variant: \"h2\",\r\n        paragraph: true\r\n    }, \"Resolution\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        container: true,\r\n        spacing: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        fullWidth: true,\r\n        margin: \"dense\",\r\n        type: \"number\",\r\n        label: \"Width\",\r\n        value: value.resolution[0],\r\n        onChange: function onChange(e) {\r\n            return _onChange(_objectSpread(_objectSpread({}, value), {}, {\r\n                resolution: [parseInt(e.target.value, 0), value.resolution[1]]\r\n            }));\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 6\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        fullWidth: true,\r\n        margin: \"dense\",\r\n        type: \"number\",\r\n        label: \"Height\",\r\n        value: value.resolution[1],\r\n        onChange: function onChange(e) {\r\n            return _onChange(_objectSpread(_objectSpread({}, value), {}, {\r\n                resolution: [value.resolution[0], parseInt(e.target.value, 0)]\r\n            }));\r\n        }\r\n    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\r\n        variant: \"h2\",\r\n        paragraph: true\r\n    }, \"Framerate\"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        container: true,\r\n        spacing: 3\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 6,\r\n        lg: 4\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        fullWidth: true,\r\n        margin: \"dense\",\r\n        type: \"number\",\r\n        label: \"FPS\",\r\n        value: value.fps,\r\n        onChange: function onChange(e) {\r\n            return _onChange(_objectSpread(_objectSpread({}, value), {}, {\r\n                fps: parseInt(e.target.value, 0)\r\n            }));\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        sm: 6,\r\n        lg: 4\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        fullWidth: true,\r\n        margin: \"dense\",\r\n        type: \"number\",\r\n        label: \"Total Frames\",\r\n        value: value.totalFrames,\r\n        onChange: function onChange(e) {\r\n            return _onChange(_objectSpread(_objectSpread({}, value), {}, {\r\n                totalFrames: parseInt(e.target.value, 0)\r\n            }));\r\n        }\r\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        item: true,\r\n        xs: 12,\r\n        lg: 4\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\r\n        fullWidth: true,\r\n        margin: \"dense\",\r\n        type: \"number\",\r\n        label: \"Speed\",\r\n        value: value.speed,\r\n        onChange: function onChange(e) {\r\n            return _onChange(_objectSpread(_objectSpread({}, value), {}, {\r\n                speed: parseInt(e.target.value, 0)\r\n            }));\r\n        }\r\n    }))));\r\n};\r\n\n\n//# sourceURL=webpack:///./src/components/RenderDefEditor.tsx?");

/***/ }),

/***/ "./src/components/RenderingStatus.tsx":
/*!********************************************!*\
  !*** ./src/components/RenderingStatus.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RenderingSpinner\": () => (/* binding */ RenderingSpinner)\n/* harmony export */ });\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/Dialog/Dialog.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\r\n\r\nvar RenderingSpinner = function RenderingSpinner(_ref) {\r\n    var className = _ref.className, status = _ref.status;\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\r\n        open: status.current !== \"no\"\r\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\r\n        className: className,\r\n        size: 360,\r\n        color: status.current === \"rendering\" ? \"primary\" : \"secondary\",\r\n        variant: \"determinate\",\r\n        value: (status.current === \"rendering\" ? 0 : 50) + (status.current !== \"no\" ? status.progress * 50 : 0)\r\n    })));\r\n};\r\n\n\n//# sourceURL=webpack:///./src/components/RenderingStatus.tsx?");

/***/ }),

/***/ "./src/components/SpiralViewer.tsx":
/*!*****************************************!*\
  !*** ./src/components/SpiralViewer.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SpiralViewer\": () => (/* binding */ SpiralViewer)\n/* harmony export */ });\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core */ \"./node_modules/@material-ui/core/esm/styles/makeStyles.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _effects_webgl_webgl_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../effects/webgl/webgl.react */ \"./src/effects/webgl/webgl.react.tsx\");\n\r\n\r\n\r\nvar useSpiralViewerStyles = (0,_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\r\n    root: {\r\n        objectFit: \"cover\",\r\n        width: \"100%\",\r\n        height: \"100vh\"\r\n    }\r\n}, {\r\n    name: \"SpiralViewer\"\r\n});\r\nvar SpiralViewer = function SpiralViewer(_ref) {\r\n    var def = _ref.def, assets = _ref.assets, onClick = _ref.onClick;\r\n    var _useSpiralViewerStyle = useSpiralViewerStyles(), root = _useSpiralViewerStyle.root;\r\n    var canvasRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    (0,_effects_webgl_webgl_react__WEBPACK_IMPORTED_MODULE_1__.useRenderToCanvas)(canvasRef.current, {\r\n        enable: true,\r\n        assets: assets,\r\n        def: def\r\n    });\r\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"canvas\", {\r\n        className: root,\r\n        width: def.resolution[0],\r\n        height: def.resolution[1],\r\n        ref: canvasRef,\r\n        onClick: onClick\r\n    });\r\n};\r\n\n\n//# sourceURL=webpack:///./src/components/SpiralViewer.tsx?");

/***/ }),

/***/ "./src/effects/webgl.ts":
/*!******************************!*\
  !*** ./src/effects/webgl.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderTree\": () => (/* binding */ renderTree),\n/* harmony export */   \"render\": () => (/* binding */ render),\n/* harmony export */   \"extractUsedShaders\": () => (/* binding */ extractUsedShaders),\n/* harmony export */   \"loadShaderAssets\": () => (/* binding */ loadShaderAssets),\n/* harmony export */   \"useRenderToGIF\": () => (/* binding */ useRenderToGIF)\n/* harmony export */ });\n/* harmony import */ var gif_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gif.js */ \"./node_modules/gif.js/dist/gif.js\");\n/* harmony import */ var gif_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(gif_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _util_defer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/defer */ \"./src/util/defer.ts\");\n/* harmony import */ var _webgl_Draw__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./webgl/Draw */ \"./src/effects/webgl/Draw.ts\");\n/* harmony import */ var _webgl_Pattern__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webgl/Pattern */ \"./src/effects/webgl/Pattern.ts\");\n/* harmony import */ var _webgl_Text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./webgl/Text */ \"./src/effects/webgl/Text.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n}\r\ncatch (error) {\r\n    reject(error);\r\n    return;\r\n} if (info.done) {\r\n    resolve(value);\r\n}\r\nelse {\r\n    Promise.resolve(value).then(_next, _throw);\r\n} }\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction renderTree(dom, tree, frame, assets, opts) {\r\n    switch (tree.type) {\r\n        case \"fill\":\r\n            return (0,_webgl_Draw__WEBPACK_IMPORTED_MODULE_3__.fill)(dom, tree.color);\r\n        case \"opacity\":\r\n            return (0,_webgl_Draw__WEBPACK_IMPORTED_MODULE_3__.opacity)(dom, tree.value, function (dom) {\r\n                return tree.children.forEach(function (child) {\r\n                    return renderTree(dom, child, frame, assets, opts);\r\n                });\r\n            });\r\n        case \"frame-offset\":\r\n            return tree.children.forEach(function (child) {\r\n                return renderTree(dom, child, frame + tree.by, assets, opts);\r\n            });\r\n        case \"clip-circle\":\r\n            return (0,_webgl_Draw__WEBPACK_IMPORTED_MODULE_3__.clipCircle)(dom, tree.origin, tree.radius, function (dom) {\r\n                return tree.children.forEach(function (child) {\r\n                    return renderTree(dom, child, frame, assets, opts);\r\n                });\r\n            });\r\n        case \"pattern\":\r\n            return (0,_webgl_Pattern__WEBPACK_IMPORTED_MODULE_4__.renderSpiralShaderToCanvas)(dom, frame, {\r\n                shader: assets.shaders[tree.pattern],\r\n                colors: {\r\n                    bgColor: tree.colors.bg,\r\n                    fgColor: tree.colors.fg,\r\n                    dimColor: tree.colors.dim,\r\n                    extraColor: tree.colors.extra,\r\n                    pulseColor: tree.colors.pulse\r\n                },\r\n                fps: opts === null || opts === void 0 ? void 0 : opts.fps\r\n            });\r\n        case \"text\":\r\n            return (0,_webgl_Text__WEBPACK_IMPORTED_MODULE_5__.renderTextToCanvas)(dom, {\r\n                value: tree.value,\r\n                x: tree.coords[0],\r\n                y: tree.coords[1],\r\n                style: tree.style\r\n            });\r\n        case \"flash-text\":\r\n            return (0,_webgl_Text__WEBPACK_IMPORTED_MODULE_5__.renderFlashTextToCanvas)(dom, frame, {\r\n                text: tree.text,\r\n                align: tree.align,\r\n                stageLengths: tree.stages,\r\n                style: tree.style\r\n            });\r\n        case \"subliminal\":\r\n            return (0,_webgl_Text__WEBPACK_IMPORTED_MODULE_5__.renderSubliminalToCanvas)(dom, frame, {\r\n                text: tree.text,\r\n                stageLengths: tree.stages,\r\n                style: tree.style\r\n            });\r\n        case \"flash-fill\":\r\n            return (0,_webgl_Text__WEBPACK_IMPORTED_MODULE_5__.renderFlashBoxToCanvas)(dom, frame, {\r\n                stageLengths: tree.stages,\r\n                style: {\r\n                    backgroundColor: tree.color\r\n                }\r\n            });\r\n    }\r\n}\r\nfunction render(targetBuffer, commands, frame, assets, opts) {\r\n    (0,_webgl_Draw__WEBPACK_IMPORTED_MODULE_3__.clear)(targetBuffer);\r\n    commands.forEach(function (command) {\r\n        return renderTree(targetBuffer, command, frame, assets, opts);\r\n    });\r\n}\r\nfunction extractUsedShaders(commands) {\r\n    return commands.reduce(function (prev, curr) {\r\n        switch (curr.type) {\r\n            case \"clip-circle\":\r\n            case \"frame-offset\":\r\n            case \"opacity\":\r\n                return [].concat(_toConsumableArray(prev), _toConsumableArray(extractUsedShaders(curr.children)));\r\n            case \"pattern\":\r\n                return [].concat(_toConsumableArray(prev), [curr.pattern]);\r\n            default:\r\n                return prev;\r\n        }\r\n    }, []);\r\n}\r\nfunction loadShaderAssets(_x, _x2) {\r\n    return _loadShaderAssets.apply(this, arguments);\r\n}\r\nfunction _loadShaderAssets() {\r\n    _loadShaderAssets = _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee3(size, shaders) {\r\n        var results;\r\n        return regeneratorRuntime.wrap(function _callee3$(_context4) {\r\n            while (1) {\r\n                switch (_context4.prev = _context4.next) {\r\n                    case 0:\r\n                        _context4.next = 2;\r\n                        return Promise.all(shaders.map(/*#__PURE__*/ function () {\r\n                            var _ref2 = _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee2(shader) {\r\n                                return regeneratorRuntime.wrap(function _callee2$(_context3) {\r\n                                    while (1) {\r\n                                        switch (_context3.prev = _context3.next) {\r\n                                            case 0:\r\n                                                _context3.t0 = shader;\r\n                                                _context3.next = 3;\r\n                                                return (0,_webgl_Pattern__WEBPACK_IMPORTED_MODULE_4__.createPatternShader)(size, \"shaders/spiral.vs\", \"shaders/\".concat(shader, \".fs\"));\r\n                                            case 3:\r\n                                                _context3.t1 = _context3.sent;\r\n                                                return _context3.abrupt(\"return\", [_context3.t0, _context3.t1]);\r\n                                            case 5:\r\n                                            case \"end\":\r\n                                                return _context3.stop();\r\n                                        }\r\n                                    }\r\n                                }, _callee2);\r\n                            }));\r\n                            return function (_x3) {\r\n                                return _ref2.apply(this, arguments);\r\n                            };\r\n                        }()));\r\n                    case 2:\r\n                        results = _context4.sent;\r\n                        return _context4.abrupt(\"return\", results.reduce(function (prev, _ref3) {\r\n                            var _ref4 = _slicedToArray(_ref3, 2), s = _ref4[0], d = _ref4[1];\r\n                            return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, s, d));\r\n                        }, {}));\r\n                    case 4:\r\n                    case \"end\":\r\n                        return _context4.stop();\r\n                }\r\n            }\r\n        }, _callee3);\r\n    }));\r\n    return _loadShaderAssets.apply(this, arguments);\r\n}\r\nfunction useRenderToGIF(def, assets) {\r\n    var _React$useState = react__WEBPACK_IMPORTED_MODULE_1__.useState({\r\n        current: \"no\"\r\n    }), _React$useState2 = _slicedToArray(_React$useState, 2), rendering = _React$useState2[0], setRendering = _React$useState2[1];\r\n    return [rendering, /*#__PURE__*/ _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee() {\r\n            var gif, totalFrames, _loop, frame;\r\n            return regeneratorRuntime.wrap(function _callee$(_context2) {\r\n                while (1) {\r\n                    switch (_context2.prev = _context2.next) {\r\n                        case 0:\r\n                            setRendering({\r\n                                current: \"rendering\",\r\n                                progress: 0\r\n                            });\r\n                            gif = new (gif_js__WEBPACK_IMPORTED_MODULE_0___default())({\r\n                                quality: 5,\r\n                                repeat: 0\r\n                            });\r\n                            totalFrames = def.totalFrames || def.fps;\r\n                            _loop = /*#__PURE__*/ regeneratorRuntime.mark(function _loop(frame) {\r\n                                return regeneratorRuntime.wrap(function _loop$(_context) {\r\n                                    while (1) {\r\n                                        switch (_context.prev = _context.next) {\r\n                                            case 0:\r\n                                                _context.next = 2;\r\n                                                return (0,_util_defer__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(function () {\r\n                                                    var targetBuffer = document.createElement(\"canvas\");\r\n                                                    targetBuffer.width = def.resolution[0];\r\n                                                    targetBuffer.height = def.resolution[1];\r\n                                                    render(targetBuffer, def.pattern, frame, assets, {\r\n                                                        fps: def.fps\r\n                                                    });\r\n                                                    setRendering({\r\n                                                        current: \"rendering\",\r\n                                                        progress: frame / totalFrames\r\n                                                    });\r\n                                                    gif.addFrame(targetBuffer, {\r\n                                                        delay: 1000 / (def.speed * def.fps),\r\n                                                        copy: true\r\n                                                    });\r\n                                                });\r\n                                            case 2:\r\n                                            case \"end\":\r\n                                                return _context.stop();\r\n                                        }\r\n                                    }\r\n                                }, _loop);\r\n                            });\r\n                            frame = 0;\r\n                        case 5:\r\n                            if (!(frame < totalFrames)) {\r\n                                _context2.next = 10;\r\n                                break;\r\n                            }\r\n                            return _context2.delegateYield(_loop(frame), \"t0\", 7);\r\n                        case 7:\r\n                            ++frame;\r\n                            _context2.next = 5;\r\n                            break;\r\n                        case 10:\r\n                            gif.on(\"progress\", function (e) {\r\n                                setRendering({\r\n                                    current: \"exporting\",\r\n                                    progress: e\r\n                                });\r\n                            });\r\n                            gif.on(\"finished\", function (blob) {\r\n                                window.open(URL.createObjectURL(blob));\r\n                                setRendering({\r\n                                    current: \"no\"\r\n                                });\r\n                            });\r\n                            gif.render();\r\n                        case 13:\r\n                        case \"end\":\r\n                            return _context2.stop();\r\n                    }\r\n                }\r\n            }, _callee);\r\n        }))];\r\n}\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl.ts?");

/***/ }),

/***/ "./src/effects/webgl/Color.ts":
/*!************************************!*\
  !*** ./src/effects/webgl/Color.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"toCssStringRGB\": () => (/* binding */ toCssStringRGB),\n/* harmony export */   \"toCssStringRGBA\": () => (/* binding */ toCssStringRGBA),\n/* harmony export */   \"clamp_rgba\": () => (/* binding */ clamp_rgba),\n/* harmony export */   \"rgba\": () => (/* binding */ rgba),\n/* harmony export */   \"rgb\": () => (/* binding */ rgb),\n/* harmony export */   \"fade\": () => (/* binding */ fade),\n/* harmony export */   \"lighten\": () => (/* binding */ lighten),\n/* harmony export */   \"Colors\": () => (/* binding */ Colors)\n/* harmony export */ });\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\nfunction toCssStringRGB(r, g, b, a) {\r\n    function componentToHex(c) {\r\n        var hex = (c | 0).toString(16);\r\n        return hex.length == 1 ? \"0\" + hex : hex;\r\n    }\r\n    return \"#\".concat(componentToHex(r * 255)).concat(componentToHex(g * 255)).concat(componentToHex(b * 255));\r\n}\r\nfunction toCssStringRGBA(r, g, b, a) {\r\n    return \"rgba(\".concat(r * 255 | 0, \", \").concat(g * 255 | 0, \", \").concat(b * 255 | 0, \", \").concat(a !== null && a !== void 0 ? a : 1, \")\");\r\n}\r\nfunction clamp_rgba(_ref) {\r\n    var _ref2 = _slicedToArray(_ref, 4), r = _ref2[0], g = _ref2[1], b = _ref2[2], a = _ref2[3];\r\n    return [Math.min(1, Math.max(0, r)), Math.min(1, Math.max(0, g)), Math.min(1, Math.max(0, b)), Math.min(1, Math.max(0, a))];\r\n}\r\nfunction rgba(r, g, b, a) {\r\n    return [r / 255, g / 255, b / 255, a / 255];\r\n}\r\nfunction rgb(r, g, b) {\r\n    return [r / 255, g / 255, b / 255, 1];\r\n}\r\nfunction fade(amount, _ref3) {\r\n    var _ref4 = _slicedToArray(_ref3, 4), r = _ref4[0], g = _ref4[1], b = _ref4[2], a = _ref4[3];\r\n    return [r, g, b, a * amount];\r\n}\r\nfunction lighten(amount, _ref5) {\r\n    var _ref6 = _slicedToArray(_ref5, 4), r = _ref6[0], g = _ref6[1], b = _ref6[2], a = _ref6[3];\r\n    return clamp_rgba([r * amount, g * amount, b * amount, a]);\r\n}\r\nvar Colors = {\r\n    amethyst: rgb(178, 76, 229),\r\n    emerald: rgb(80, 200, 120),\r\n    palegreen: rgb(175, 237, 152),\r\n    paleyellow: rgb(246, 240, 224),\r\n    goldyellow: rgb(255, 223, 0),\r\n    pastelpink: rgb(255, 209, 219),\r\n    purplepink: rgb(204, 141, 205),\r\n    pink: rgb(255, 192, 203),\r\n    deeppink: rgb(255, 20, 147),\r\n    magenta: rgb(255, 0, 255),\r\n    yellow: rgb(255, 255, 0),\r\n    darkred: rgb(127, 0, 0),\r\n    cyan: rgb(0, 255, 255),\r\n    red: rgb(255, 0, 0),\r\n    green: rgb(0, 255, 0),\r\n    black: rgb(1, 1, 1),\r\n    grey: rgb(127, 127, 127),\r\n    white: rgb(255, 255, 255),\r\n    transparent: rgba(0, 0, 0, 0),\r\n    foxbrown: rgb(213, 172, 119),\r\n    blue: rgb(0, 0, 255),\r\n    paleblue: rgb(152, 251, 237),\r\n    lightblue: rgb(173, 216, 230),\r\n    periwinkle: rgb(204, 204, 255),\r\n    babyblue: rgb(137, 207, 240),\r\n    cornflowerBlue: rgb(100, 149, 237),\r\n    deepblue: rgb(7, 42, 108),\r\n    pumpkin: rgb(245, 118, 26),\r\n    smashedpumpkin: rgb(253, 103, 58),\r\n    darkorange: rgb(255, 140, 0),\r\n    flame: rgb(227, 74, 39),\r\n    papayawhip: rgb(255, 241, 215),\r\n    ultramarine: rgb(64, 0, 255)\r\n};\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Color.ts?");

/***/ }),

/***/ "./src/effects/webgl/Draw.ts":
/*!***********************************!*\
  !*** ./src/effects/webgl/Draw.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clipCircle\": () => (/* binding */ clipCircle),\n/* harmony export */   \"clipRect\": () => (/* binding */ clipRect),\n/* harmony export */   \"fill\": () => (/* binding */ fill),\n/* harmony export */   \"clear\": () => (/* binding */ clear),\n/* harmony export */   \"opacity\": () => (/* binding */ opacity)\n/* harmony export */ });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Color */ \"./src/effects/webgl/Color.ts\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\n\r\nfunction clipCircle(dom, origin, size, render) {\r\n    if (size === 0) {\r\n        return;\r\n    }\r\n    var src = document.createElement(\"canvas\");\r\n    src.width = size * Math.min(dom.width, dom.height);\r\n    src.height = src.width;\r\n    render(src);\r\n    var ox = (origin[0] + 1.0) * (dom.width / 2);\r\n    var oy = (origin[1] + 1.0) * (dom.height / 2);\r\n    var hw = src.width / 2;\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    context.beginPath();\r\n    context.arc(ox, oy, hw, 0, Math.PI * 2, true);\r\n    context.closePath();\r\n    context.clip();\r\n    context.drawImage(src, ox - hw, oy - hw, src.width, src.height);\r\n    context.restore();\r\n}\r\nfunction clipRect(dom, origin, size, render) {\r\n    var src = document.createElement(\"canvas\");\r\n    src.width = size * dom.width;\r\n    src.height = size * dom.height;\r\n    render(src);\r\n    var ox = (origin[0] + 1.0) * (dom.width / 2);\r\n    var oy = (origin[1] + 1.0) * (dom.height / 2);\r\n    var hw = src.width / 2;\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    context.beginPath();\r\n    context.rect(ox, oy, src.width, src.height);\r\n    context.closePath();\r\n    context.clip();\r\n    context.drawImage(src, ox - hw, oy - hw, src.width, src.height);\r\n    context.restore();\r\n}\r\nfunction fill(dom, color) {\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    context.fillStyle = _Color__WEBPACK_IMPORTED_MODULE_0__.toCssStringRGB.apply(void 0, _toConsumableArray(color));\r\n    context.fillRect(0, 0, dom.width, dom.height);\r\n    context.restore();\r\n}\r\nfunction clear(dom) {\r\n    var context = dom.getContext(\"2d\");\r\n    context.clearRect(0, 0, dom.width, dom.height);\r\n}\r\nfunction opacity(dom, opacity, render) {\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    context.globalAlpha = context.globalAlpha * opacity;\r\n    render(dom);\r\n    context.restore();\r\n}\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Draw.ts?");

/***/ }),

/***/ "./src/effects/webgl/Pattern.ts":
/*!**************************************!*\
  !*** ./src/effects/webgl/Pattern.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderSpiralShaderToCanvas\": () => (/* binding */ renderSpiralShaderToCanvas),\n/* harmony export */   \"createPatternShader\": () => (/* binding */ createPatternShader)\n/* harmony export */ });\n/* harmony import */ var _WebGLRef__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WebGLRef */ \"./src/effects/webgl/WebGLRef.ts\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n}\r\ncatch (error) {\r\n    reject(error);\r\n    return;\r\n} if (info.done) {\r\n    resolve(value);\r\n}\r\nelse {\r\n    Promise.resolve(value).then(_next, _throw);\r\n} }\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\n\r\nfunction renderSpiralShaderToCanvas(dom, frame, opts) {\r\n    var _opts$fps, _opts$colors, _dom$getContext;\r\n    var src = opts.shader[2];\r\n    src.width = dom.width;\r\n    src.height = dom.height;\r\n    var context = new _WebGLRef__WEBPACK_IMPORTED_MODULE_0__[\"default\"](src);\r\n    var params = _objectSpread({\r\n        time: frame / ((_opts$fps = opts.fps) !== null && _opts$fps !== void 0 ? _opts$fps : 60),\r\n        rotation: 1,\r\n        direction: 1,\r\n        branchCount: 4,\r\n        resolution: [src.width, src.height],\r\n        aspect: src.width > src.height ? [src.width / src.height, 1.0] : [1.0, src.height / src.width]\r\n    }, _objectSpread({\r\n        bgColor: [0.0, 0.0, 0.0, 0.0],\r\n        fgColor: [1.0, 1.0, 1.0, 1.0],\r\n        pulseColor: [178 / 255, 76 / 255, 229 / 255, 1.0],\r\n        dimColor: [0.0, 0.0, 0.0, 0.0],\r\n        extraColor: [0.0, 0.0, 0.0, 0.0]\r\n    }, (_opts$colors = opts.colors) !== null && _opts$colors !== void 0 ? _opts$colors : {}));\r\n    context.clear();\r\n    opts.shader[0].bind();\r\n    context.render(opts.shader[1], params);\r\n    (_dom$getContext = dom.getContext(\"2d\")) === null || _dom$getContext === void 0 ? void 0 : _dom$getContext.drawImage(src, 0, 0, dom.width, dom.height);\r\n}\r\nfunction createPatternShader(_x, _x2, _x3) {\r\n    return _createPatternShader.apply(this, arguments);\r\n}\r\nfunction _createPatternShader() {\r\n    _createPatternShader = _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee(_ref, vertexHref, fragmentHref) {\r\n        var _ref2, width, height, dom, webgl, $vertex, $fragment, _yield$Promise$all, _yield$Promise$all2, vertex, fragment, buffer, program;\r\n        return regeneratorRuntime.wrap(function _callee$(_context) {\r\n            while (1) {\r\n                switch (_context.prev = _context.next) {\r\n                    case 0:\r\n                        _ref2 = _slicedToArray(_ref, 2), width = _ref2[0], height = _ref2[1];\r\n                        dom = document.createElement(\"canvas\");\r\n                        dom.width = width;\r\n                        dom.height = height;\r\n                        webgl = new _WebGLRef__WEBPACK_IMPORTED_MODULE_0__[\"default\"](dom);\r\n                        $vertex = fetch(vertexHref).then(function (r) {\r\n                            return r.text();\r\n                        });\r\n                        $fragment = fetch(fragmentHref).then(function (r) {\r\n                            return r.text();\r\n                        });\r\n                        _context.next = 9;\r\n                        return Promise.all([$vertex, $fragment]);\r\n                    case 9:\r\n                        _yield$Promise$all = _context.sent;\r\n                        _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\r\n                        vertex = _yield$Promise$all2[0];\r\n                        fragment = _yield$Promise$all2[1];\r\n                        buffer = webgl.createBuffer();\r\n                        if (!buffer.ok()) {\r\n                            console.error(\"failed to create buffer\");\r\n                        }\r\n                        program = webgl.createProgram(vertex, fragment);\r\n                        if (!program.ok()) {\r\n                            console.error(\"failed to create program\");\r\n                        }\r\n                        return _context.abrupt(\"return\", [buffer, program, dom]);\r\n                    case 18:\r\n                    case \"end\":\r\n                        return _context.stop();\r\n                }\r\n            }\r\n        }, _callee);\r\n    }));\r\n    return _createPatternShader.apply(this, arguments);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Pattern.ts?");

/***/ }),

/***/ "./src/effects/webgl/Text.ts":
/*!***********************************!*\
  !*** ./src/effects/webgl/Text.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"renderTextToCanvas\": () => (/* binding */ renderTextToCanvas),\n/* harmony export */   \"renderSubliminalToCanvas\": () => (/* binding */ renderSubliminalToCanvas),\n/* harmony export */   \"renderFlashBoxToCanvas\": () => (/* binding */ renderFlashBoxToCanvas),\n/* harmony export */   \"renderFlashTextToCanvas\": () => (/* binding */ renderFlashTextToCanvas)\n/* harmony export */ });\n/* harmony import */ var _util_random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/random */ \"./src/util/random.ts\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Color */ \"./src/effects/webgl/Color.ts\");\nvar _excluded = [\"x\", \"y\", \"value\"];\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    if (enumerableOnly) {\r\n        symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; });\r\n    }\r\n    keys.push.apply(keys, symbols);\r\n} return keys; }\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i] != null ? arguments[i] : {};\r\n    if (i % 2) {\r\n        ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); });\r\n    }\r\n    else if (Object.getOwnPropertyDescriptors) {\r\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\r\n    }\r\n    else {\r\n        ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); });\r\n    }\r\n} return target; }\r\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _objectWithoutProperties(source, excluded) { if (source == null)\r\n    return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) {\r\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n        key = sourceSymbolKeys[i];\r\n        if (excluded.indexOf(key) >= 0)\r\n            continue;\r\n        if (!Object.prototype.propertyIsEnumerable.call(source, key))\r\n            continue;\r\n        target[key] = source[key];\r\n    }\r\n} return target; }\r\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null)\r\n    return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) {\r\n    key = sourceKeys[i];\r\n    if (excluded.indexOf(key) >= 0)\r\n        continue;\r\n    target[key] = source[key];\r\n} return target; }\r\n\r\n\r\nfunction renderTextToCanvas(dom, _ref) {\r\n    var _opts$style$size, _opts$style, _opts$style$fonts, _opts$style2, _opts$style$fillColor, _opts$style3, _opts$style3$fillColo, _opts$style$strokeCol, _opts$style4, _opts$style4$strokeCo, _opts$style$lineWidth, _opts$style5, _opts$style$size2, _opts$style6;\r\n    var x = _ref.x, y = _ref.y, value = _ref.value, opts = _objectWithoutProperties(_ref, _excluded);\r\n    var screenSize = [dom.width, dom.height];\r\n    var fontSize = Math.min(Math.max(12, Math.min.apply(Math, screenSize) / 12.5), 256) * ((_opts$style$size = (_opts$style = opts.style) === null || _opts$style === void 0 ? void 0 : _opts$style.size) !== null && _opts$style$size !== void 0 ? _opts$style$size : 1);\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    context.textBaseline = \"top\";\r\n    context.font = \"\".concat(fontSize, \"px \").concat(((_opts$style$fonts = (_opts$style2 = opts.style) === null || _opts$style2 === void 0 ? void 0 : _opts$style2.fonts) !== null && _opts$style$fonts !== void 0 ? _opts$style$fonts : [\"Uni Sans Heavy\", \"Roboto\", \"Helvetica\", \"Arial\", \"sans-serif\"]).join(\", \"));\r\n    var measure = context.measureText(value);\r\n    var px = x * dom.width - measure.width / 2.0;\r\n    if (px < 10.0) {\r\n        px = 10.0;\r\n        context.textAlign = \"left\";\r\n    }\r\n    else if (px + measure.width >= dom.width - 10.0) {\r\n        px = dom.width - measure.width - 10.0;\r\n        context.textAlign = \"left\";\r\n    }\r\n    else {\r\n        context.textAlign = \"center\";\r\n        px = x * dom.width;\r\n    }\r\n    var py = y * dom.height - fontSize / 2.0;\r\n    if (py < 10.0) {\r\n        py = 10.0;\r\n    }\r\n    else if (py + fontSize / 2.0 >= dom.height - fontSize - 10.0) {\r\n        py = dom.height - fontSize - 10.0;\r\n    }\r\n    var fill = _Color__WEBPACK_IMPORTED_MODULE_1__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$fillColor = (_opts$style3 = opts.style) === null || _opts$style3 === void 0 ? void 0 : (_opts$style3$fillColo = _opts$style3.fillColor) === null || _opts$style3$fillColo === void 0 ? void 0 : _opts$style3$fillColo.slice(0, 3)) !== null && _opts$style$fillColor !== void 0 ? _opts$style$fillColor : [1, 1, 1]));\r\n    var stroke = _Color__WEBPACK_IMPORTED_MODULE_1__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$strokeCol = (_opts$style4 = opts.style) === null || _opts$style4 === void 0 ? void 0 : (_opts$style4$strokeCo = _opts$style4.strokeColor) === null || _opts$style4$strokeCo === void 0 ? void 0 : _opts$style4$strokeCo.slice(0, 3)) !== null && _opts$style$strokeCol !== void 0 ? _opts$style$strokeCol : [1 / 256, 1 / 256, 1 / 256]));\r\n    context.lineWidth = (_opts$style$lineWidth = (_opts$style5 = opts.style) === null || _opts$style5 === void 0 ? void 0 : _opts$style5.lineWidth) !== null && _opts$style$lineWidth !== void 0 ? _opts$style$lineWidth : Math.max((_opts$style$size2 = (_opts$style6 = opts.style) === null || _opts$style6 === void 0 ? void 0 : _opts$style6.size) !== null && _opts$style$size2 !== void 0 ? _opts$style$size2 : 1, 1);\r\n    context.fillStyle = fill;\r\n    if (stroke != fill) {\r\n        context.strokeStyle = stroke;\r\n    }\r\n    context.fillText(value, px, py);\r\n    if (stroke != fill) {\r\n        context.strokeText(value, px, py);\r\n    }\r\n    context.restore();\r\n}\r\nfunction renderSubliminalToCanvas(dom, frame, opts) {\r\n    var _opts$stageLengths, _opts$style7;\r\n    var stageLengths = (_opts$stageLengths = opts.stageLengths) !== null && _opts$stageLengths !== void 0 ? _opts$stageLengths : [5, 2, 3, 2];\r\n    var totalFramesLength = stageLengths.reduce(function (p, c) {\r\n        return p + c;\r\n    });\r\n    var index = frame / totalFramesLength | 0;\r\n    var h = (0,_util_random__WEBPACK_IMPORTED_MODULE_0__.hash)(opts.text.reduce(function (p, c) {\r\n        return \"\".concat(p, \":\").concat(c);\r\n    }));\r\n    var offsetX = (0,_util_random__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(h, index * 2) - 0.5, offsetY = (0,_util_random__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(h, index * 2 + 1) - 0.5;\r\n    renderFlashTextToCanvas(dom, frame, {\r\n        text: opts.text,\r\n        align: [\"center\"],\r\n        stageLengths: stageLengths,\r\n        style: _objectSpread(_objectSpread({}, (_opts$style7 = opts.style) !== null && _opts$style7 !== void 0 ? _opts$style7 : {}), {}, {\r\n            offsetX: offsetX,\r\n            offsetY: offsetY\r\n        })\r\n    });\r\n}\r\nfunction renderFlashBoxToCanvas(dom, frame, opts) {\r\n    var _opts$stageLengths2, _opts$style$backgroun, _opts$style8;\r\n    var stageLengths = (_opts$stageLengths2 = opts.stageLengths) !== null && _opts$stageLengths2 !== void 0 ? _opts$stageLengths2 : [15, 15, 15, 15];\r\n    var totalFramesLength = stageLengths.reduce(function (p, c) {\r\n        return p + c;\r\n    });\r\n    var framePosition = frame % totalFramesLength;\r\n    var bgcolor = _Color__WEBPACK_IMPORTED_MODULE_1__.toCssStringRGB.apply(void 0, _toConsumableArray((_opts$style$backgroun = (_opts$style8 = opts.style) === null || _opts$style8 === void 0 ? void 0 : _opts$style8.backgroundColor) !== null && _opts$style$backgroun !== void 0 ? _opts$style$backgroun : [1, 1, 1, 1]));\r\n    var context = dom.getContext(\"2d\");\r\n    if (framePosition < stageLengths[0]) { }\r\n    else if (stageLengths[0] > 0 && framePosition < stageLengths[0] + stageLengths[1]) {\r\n        context.save();\r\n        context.globalAlpha = (framePosition - stageLengths[1]) / stageLengths[1];\r\n        context.fillStyle = bgcolor;\r\n        context.fillRect(0, 0, dom.width, dom.height);\r\n        context.restore();\r\n    }\r\n    else if (stageLengths[1] > 0 && framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2]) {\r\n        context.save();\r\n        context.globalAlpha = 1.0;\r\n        context.fillStyle = bgcolor;\r\n        context.fillRect(0, 0, dom.width, dom.height);\r\n        context.restore();\r\n    }\r\n    else if (stageLengths[2] > 0 && framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2] + stageLengths[3]) {\r\n        var pos = framePosition - (stageLengths[0] + stageLengths[1] + +stageLengths[2]);\r\n        context.save();\r\n        context.globalAlpha = (stageLengths[3] - pos) / stageLengths[3];\r\n        context.fillStyle = bgcolor;\r\n        context.fillRect(0, 0, dom.width, dom.height);\r\n        context.restore();\r\n    }\r\n    else { }\r\n}\r\nfunction renderFlashTextToCanvas(dom, frame, opts) {\r\n    var _opts$stageLengths3, _ref2, _opts$style$offsetX, _opts$style9, _opts$style$offsetY, _opts$style10, _opts$style$offsetX2, _opts$style11, _opts$style$offsetX3, _opts$style12, _opts$style$offsetY2, _opts$style13, _opts$style$offsetY3, _opts$style14, _opts$style$offsetY4, _opts$style15, _opts$style$offsetX4, _opts$style16, _opts$style$offsetY5, _opts$style17, _opts$style$offsetX5, _opts$style18, _opts$style$offsetY6, _opts$style19, _opts$style$offsetX6, _opts$style20, _opts$style$offsetY7, _opts$style21, _opts$style$offsetX7, _opts$style22, _opts$style$offsetY8, _opts$style23;\r\n    var stageLengths = (_opts$stageLengths3 = opts.stageLengths) !== null && _opts$stageLengths3 !== void 0 ? _opts$stageLengths3 : [15, 15, 15, 15];\r\n    var totalFramesLength = stageLengths.reduce(function (p, c) {\r\n        return p + c;\r\n    });\r\n    var framePosition = frame % totalFramesLength;\r\n    var align = opts.align != null ? opts.align[(_ref2 = (frame / totalFramesLength | 0) % opts.align.length) !== null && _ref2 !== void 0 ? _ref2 : 1] : \"center\";\r\n    var text = opts.text[(frame / totalFramesLength | 0) % opts.text.length];\r\n    var x = 0.5 + ((_opts$style$offsetX = (_opts$style9 = opts.style) === null || _opts$style9 === void 0 ? void 0 : _opts$style9.offsetX) !== null && _opts$style$offsetX !== void 0 ? _opts$style$offsetX : 0);\r\n    var y = 0.5 + ((_opts$style$offsetY = (_opts$style10 = opts.style) === null || _opts$style10 === void 0 ? void 0 : _opts$style10.offsetY) !== null && _opts$style$offsetY !== void 0 ? _opts$style$offsetY : 0);\r\n    switch (align) {\r\n        case \"left\":\r\n            x = 0.05 + ((_opts$style$offsetX2 = (_opts$style11 = opts.style) === null || _opts$style11 === void 0 ? void 0 : _opts$style11.offsetX) !== null && _opts$style$offsetX2 !== void 0 ? _opts$style$offsetX2 : 0);\r\n            break;\r\n        case \"right\":\r\n            x = 0.95 + ((_opts$style$offsetX3 = (_opts$style12 = opts.style) === null || _opts$style12 === void 0 ? void 0 : _opts$style12.offsetX) !== null && _opts$style$offsetX3 !== void 0 ? _opts$style$offsetX3 : 0);\r\n            break;\r\n        case \"center\":\r\n            y = 0.5 + ((_opts$style$offsetY2 = (_opts$style13 = opts.style) === null || _opts$style13 === void 0 ? void 0 : _opts$style13.offsetY) !== null && _opts$style$offsetY2 !== void 0 ? _opts$style$offsetY2 : 0);\r\n            break;\r\n        case \"top\":\r\n            y = 0.05 + ((_opts$style$offsetY3 = (_opts$style14 = opts.style) === null || _opts$style14 === void 0 ? void 0 : _opts$style14.offsetY) !== null && _opts$style$offsetY3 !== void 0 ? _opts$style$offsetY3 : 0);\r\n            break;\r\n        case \"bottom\":\r\n            y = 0.95 + ((_opts$style$offsetY4 = (_opts$style15 = opts.style) === null || _opts$style15 === void 0 ? void 0 : _opts$style15.offsetY) !== null && _opts$style$offsetY4 !== void 0 ? _opts$style$offsetY4 : 0);\r\n            break;\r\n        case \"top-left\":\r\n            x = 0.05 + ((_opts$style$offsetX4 = (_opts$style16 = opts.style) === null || _opts$style16 === void 0 ? void 0 : _opts$style16.offsetX) !== null && _opts$style$offsetX4 !== void 0 ? _opts$style$offsetX4 : 0);\r\n            y = 0.05 + ((_opts$style$offsetY5 = (_opts$style17 = opts.style) === null || _opts$style17 === void 0 ? void 0 : _opts$style17.offsetY) !== null && _opts$style$offsetY5 !== void 0 ? _opts$style$offsetY5 : 0);\r\n            break;\r\n        case \"top-right\":\r\n            x = 0.95 + ((_opts$style$offsetX5 = (_opts$style18 = opts.style) === null || _opts$style18 === void 0 ? void 0 : _opts$style18.offsetX) !== null && _opts$style$offsetX5 !== void 0 ? _opts$style$offsetX5 : 0);\r\n            y = 0.05 + ((_opts$style$offsetY6 = (_opts$style19 = opts.style) === null || _opts$style19 === void 0 ? void 0 : _opts$style19.offsetY) !== null && _opts$style$offsetY6 !== void 0 ? _opts$style$offsetY6 : 0);\r\n            break;\r\n        case \"bottom-left\":\r\n            x = 0.05 + ((_opts$style$offsetX6 = (_opts$style20 = opts.style) === null || _opts$style20 === void 0 ? void 0 : _opts$style20.offsetX) !== null && _opts$style$offsetX6 !== void 0 ? _opts$style$offsetX6 : 0);\r\n            y = 0.95 + ((_opts$style$offsetY7 = (_opts$style21 = opts.style) === null || _opts$style21 === void 0 ? void 0 : _opts$style21.offsetY) !== null && _opts$style$offsetY7 !== void 0 ? _opts$style$offsetY7 : 0);\r\n            break;\r\n        case \"bottom-right\":\r\n            x = 0.95 + ((_opts$style$offsetX7 = (_opts$style22 = opts.style) === null || _opts$style22 === void 0 ? void 0 : _opts$style22.offsetX) !== null && _opts$style$offsetX7 !== void 0 ? _opts$style$offsetX7 : 0);\r\n            y = 0.95 + ((_opts$style$offsetY8 = (_opts$style23 = opts.style) === null || _opts$style23 === void 0 ? void 0 : _opts$style23.offsetY) !== null && _opts$style$offsetY8 !== void 0 ? _opts$style$offsetY8 : 0);\r\n            break;\r\n    }\r\n    var context = dom.getContext(\"2d\");\r\n    context.save();\r\n    if (framePosition < stageLengths[0]) { }\r\n    else if (stageLengths[0] > 0 && framePosition < stageLengths[0] + stageLengths[1]) {\r\n        var _opts$style$fillColor2, _opts$style24, _opts$style25, _opts$style26, _opts$style27, _opts$style28, _opts$style$size3, _opts$style29;\r\n        context.globalAlpha = context.globalAlpha * (((_opts$style$fillColor2 = (_opts$style24 = opts.style) === null || _opts$style24 === void 0 ? void 0 : _opts$style24.fillColor) !== null && _opts$style$fillColor2 !== void 0 ? _opts$style$fillColor2 : [0, 0, 0, 1])[3] * (framePosition - stageLengths[0]) / stageLengths[1]);\r\n        renderTextToCanvas(dom, {\r\n            x: x,\r\n            y: y,\r\n            value: text,\r\n            style: _objectSpread(_objectSpread(_objectSpread({\r\n                lineWidth: (_opts$style25 = opts.style) === null || _opts$style25 === void 0 ? void 0 : _opts$style25.lineWidth\r\n            }, ((_opts$style26 = opts.style) === null || _opts$style26 === void 0 ? void 0 : _opts$style26.fillColor) != null ? {\r\n                fillColor: opts.style.fillColor\r\n            } : {}), ((_opts$style27 = opts.style) === null || _opts$style27 === void 0 ? void 0 : _opts$style27.strokeColor) != null ? {\r\n                strokeColor: opts.style.strokeColor\r\n            } : {}), {}, {\r\n                bold: (_opts$style28 = opts.style) === null || _opts$style28 === void 0 ? void 0 : _opts$style28.bold,\r\n                size: (_opts$style$size3 = (_opts$style29 = opts.style) === null || _opts$style29 === void 0 ? void 0 : _opts$style29.size) !== null && _opts$style$size3 !== void 0 ? _opts$style$size3 : 2\r\n            })\r\n        });\r\n    }\r\n    else if (stageLengths[1] > 0 && framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2]) {\r\n        var _opts$style$fillColor3, _opts$style30, _opts$style31, _opts$style32, _opts$style33, _opts$style34, _opts$style$size4, _opts$style35;\r\n        context.globalAlpha = context.globalAlpha * ((_opts$style$fillColor3 = (_opts$style30 = opts.style) === null || _opts$style30 === void 0 ? void 0 : _opts$style30.fillColor) !== null && _opts$style$fillColor3 !== void 0 ? _opts$style$fillColor3 : [0, 0, 0, 1])[3];\r\n        renderTextToCanvas(dom, {\r\n            x: x,\r\n            y: y,\r\n            value: text,\r\n            style: _objectSpread(_objectSpread(_objectSpread({\r\n                lineWidth: (_opts$style31 = opts.style) === null || _opts$style31 === void 0 ? void 0 : _opts$style31.lineWidth\r\n            }, ((_opts$style32 = opts.style) === null || _opts$style32 === void 0 ? void 0 : _opts$style32.fillColor) != null ? {\r\n                fillColor: opts.style.fillColor\r\n            } : {}), ((_opts$style33 = opts.style) === null || _opts$style33 === void 0 ? void 0 : _opts$style33.strokeColor) != null ? {\r\n                strokeColor: opts.style.strokeColor\r\n            } : {}), {}, {\r\n                bold: (_opts$style34 = opts.style) === null || _opts$style34 === void 0 ? void 0 : _opts$style34.bold,\r\n                size: (_opts$style$size4 = (_opts$style35 = opts.style) === null || _opts$style35 === void 0 ? void 0 : _opts$style35.size) !== null && _opts$style$size4 !== void 0 ? _opts$style$size4 : 2\r\n            })\r\n        });\r\n    }\r\n    else if (stageLengths[2] > 0 && framePosition < stageLengths[0] + stageLengths[1] + stageLengths[2] + stageLengths[3]) {\r\n        var _opts$style$fillColor4, _opts$style36, _opts$style37, _opts$style38, _opts$style39, _opts$style40, _opts$style$size5, _opts$style41;\r\n        var pos = framePosition - (stageLengths[0] + stageLengths[1] + +stageLengths[2]);\r\n        context.globalAlpha = context.globalAlpha * (((_opts$style$fillColor4 = (_opts$style36 = opts.style) === null || _opts$style36 === void 0 ? void 0 : _opts$style36.fillColor) !== null && _opts$style$fillColor4 !== void 0 ? _opts$style$fillColor4 : [0, 0, 0, 1])[3] * ((stageLengths[3] - pos) / stageLengths[3]));\r\n        renderTextToCanvas(dom, {\r\n            x: x,\r\n            y: y,\r\n            value: text,\r\n            style: _objectSpread(_objectSpread(_objectSpread({\r\n                lineWidth: (_opts$style37 = opts.style) === null || _opts$style37 === void 0 ? void 0 : _opts$style37.lineWidth\r\n            }, ((_opts$style38 = opts.style) === null || _opts$style38 === void 0 ? void 0 : _opts$style38.fillColor) != null ? {\r\n                fillColor: opts.style.fillColor\r\n            } : {}), ((_opts$style39 = opts.style) === null || _opts$style39 === void 0 ? void 0 : _opts$style39.strokeColor) != null ? {\r\n                strokeColor: opts.style.strokeColor\r\n            } : {}), {}, {\r\n                bold: (_opts$style40 = opts.style) === null || _opts$style40 === void 0 ? void 0 : _opts$style40.bold,\r\n                size: (_opts$style$size5 = (_opts$style41 = opts.style) === null || _opts$style41 === void 0 ? void 0 : _opts$style41.size) !== null && _opts$style$size5 !== void 0 ? _opts$style$size5 : 2\r\n            })\r\n        });\r\n    }\r\n    else { }\r\n    context.restore();\r\n}\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/Text.ts?");

/***/ }),

/***/ "./src/effects/webgl/WebGLRef.ts":
/*!***************************************!*\
  !*** ./src/effects/webgl/WebGLRef.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WebGLRef),\n/* harmony export */   \"ProgramRef\": () => (/* binding */ ProgramRef),\n/* harmony export */   \"BufferRef\": () => (/* binding */ BufferRef)\n/* harmony export */ });\nfunction _defineProperty(obj, key, value) { if (key in obj) {\r\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\r\n}\r\nelse {\r\n    obj[key] = value;\r\n} return obj; }\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n} }\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor)\r\n        descriptor.writable = true;\r\n    Object.defineProperty(target, descriptor.key, descriptor);\r\n} }\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps)\r\n    _defineProperties(Constructor.prototype, protoProps); if (staticProps)\r\n    _defineProperties(Constructor, staticProps); return Constructor; }\r\nvar WebGLRef = /*#__PURE__*/ function () {\r\n    function WebGLRef(canvas) {\r\n        var _ref, _canvas$getContext;\r\n        _classCallCheck(this, WebGLRef);\r\n        this.canvas = canvas;\r\n        this.gl = (_ref = (_canvas$getContext = canvas.getContext(\"webgl\")) !== null && _canvas$getContext !== void 0 ? _canvas$getContext : canvas.getContext(\"experimental-webgl\")) !== null && _ref !== void 0 ? _ref : function () {\r\n            throw new Error(\"\");\r\n        }();\r\n    }\r\n    _createClass(WebGLRef, [{\r\n            key: \"ref\",\r\n            value: function ref() {\r\n                return this.gl;\r\n            }\r\n        }, {\r\n            key: \"createBuffer\",\r\n            value: function createBuffer() {\r\n                var buffer = this.gl.createBuffer();\r\n                if (buffer == null) {\r\n                    throw new Error(\"\");\r\n                }\r\n                return new BufferRef(this.gl, buffer);\r\n            }\r\n        }, {\r\n            key: \"createProgram\",\r\n            value: function createProgram(vertex, fragment) {\r\n                var program = this.gl.createProgram();\r\n                if (program == null) {\r\n                    throw new Error(\"\");\r\n                }\r\n                var vs = this.createShader(vertex, this.gl.VERTEX_SHADER);\r\n                this.gl.attachShader(program, vs);\r\n                this.gl.deleteShader(vs);\r\n                var fs = this.createShader(\"precision highp float;\\n\\n\" + fragment, this.gl.FRAGMENT_SHADER);\r\n                this.gl.attachShader(program, fs);\r\n                this.gl.deleteShader(fs);\r\n                this.gl.linkProgram(program);\r\n                if (!this.gl.getProgramParameter(program, this.gl.LINK_STATUS)) {\r\n                    throw new Error(\"VALIDATE_STATUS: \".concat(this.gl.getProgramParameter(program, this.gl.VALIDATE_STATUS), \" ERROR: \").concat(this.gl.getError()));\r\n                }\r\n                return new ProgramRef(this.gl, program);\r\n            }\r\n        }, {\r\n            key: \"clear\",\r\n            value: function clear() {\r\n                this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT | this.gl.STENCIL_BUFFER_BIT);\r\n                this.gl.clearColor(0, 0, 0, 1);\r\n            }\r\n        }, {\r\n            key: \"render\",\r\n            value: function render(programRef, parameters) {\r\n                var _this = this;\r\n                var program = programRef.ref();\r\n                this.gl.useProgram(program);\r\n                Object.keys(parameters).forEach(function (key) {\r\n                    var value = parameters[key];\r\n                    var location = _this.gl.getUniformLocation(program, key);\r\n                    if (location) {\r\n                        if (Array.isArray(value)) {\r\n                            switch (value.length) {\r\n                                case 2:\r\n                                    _this.gl.uniform2f(location, value[0], value[1]);\r\n                                    break;\r\n                                case 3:\r\n                                    _this.gl.uniform3f(location, value[0], value[1], value[2]);\r\n                                    break;\r\n                                case 4:\r\n                                    _this.gl.uniform4f(location, value[0], value[1], value[2], value[3]);\r\n                                    break;\r\n                            }\r\n                        }\r\n                        else {\r\n                            _this.gl.uniform1f(location, value);\r\n                        }\r\n                    }\r\n                    else { }\r\n                });\r\n                this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\r\n            }\r\n        }, {\r\n            key: \"createShader\",\r\n            value: function createShader(src, type) {\r\n                var shader = this.gl.createShader(type);\r\n                if (shader == null) {\r\n                    throw new Error(\"\");\r\n                }\r\n                this.gl.shaderSource(shader, src);\r\n                this.gl.compileShader(shader);\r\n                if (!this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS)) {\r\n                    throw new Error((type == this.gl.VERTEX_SHADER ? \"VERTEX\" : \"FRAGMENT\") + \" SHADER:\\n\" + this.gl.getShaderInfoLog(shader));\r\n                }\r\n                return shader;\r\n            }\r\n        }, {\r\n            key: \"width\",\r\n            value: function width() {\r\n                return this.canvas.clientWidth;\r\n            }\r\n        }, {\r\n            key: \"height\",\r\n            value: function height() {\r\n                return this.canvas.clientHeight;\r\n            }\r\n        }]);\r\n    return WebGLRef;\r\n}();\r\n\r\nvar ProgramRef = /*#__PURE__*/ function () {\r\n    function ProgramRef(gl, program) {\r\n        _classCallCheck(this, ProgramRef);\r\n        _defineProperty(this, \"destroyed\", false);\r\n        this.gl = gl;\r\n        this.program = program;\r\n    }\r\n    _createClass(ProgramRef, [{\r\n            key: \"ref\",\r\n            value: function ref() {\r\n                return this.program;\r\n            }\r\n        }, {\r\n            key: \"ok\",\r\n            value: function ok() {\r\n                return !this.destroyed;\r\n            }\r\n        }, {\r\n            key: \"destroy\",\r\n            value: function destroy() {\r\n                this.gl.deleteProgram(this.program);\r\n                this.destroyed = true;\r\n            }\r\n        }]);\r\n    return ProgramRef;\r\n}();\r\nvar BufferRef = /*#__PURE__*/ function () {\r\n    function BufferRef(gl, buffer) {\r\n        _classCallCheck(this, BufferRef);\r\n        _defineProperty(this, \"destroyed\", false);\r\n        this.gl = gl;\r\n        this.buffer = buffer;\r\n    }\r\n    _createClass(BufferRef, [{\r\n            key: \"ref\",\r\n            value: function ref() {\r\n                return this.buffer;\r\n            }\r\n        }, {\r\n            key: \"ok\",\r\n            value: function ok() {\r\n                return !this.destroyed;\r\n            }\r\n        }, {\r\n            key: \"bind\",\r\n            value: function bind() {\r\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.buffer);\r\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0]), this.gl.STATIC_DRAW);\r\n                this.gl.vertexAttribPointer(0, 2, this.gl.FLOAT, false, 0, 0);\r\n                this.gl.enableVertexAttribArray(0);\r\n            }\r\n        }, {\r\n            key: \"destroy\",\r\n            value: function destroy() {\r\n                this.gl.deleteBuffer(this.buffer);\r\n                this.destroyed = true;\r\n            }\r\n        }]);\r\n    return BufferRef;\r\n}();\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/WebGLRef.ts?");

/***/ }),

/***/ "./src/effects/webgl/webgl.react.tsx":
/*!*******************************************!*\
  !*** ./src/effects/webgl/webgl.react.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useRenderDef\": () => (/* binding */ useRenderDef),\n/* harmony export */   \"useRenderToCanvas\": () => (/* binding */ useRenderToCanvas),\n/* harmony export */   \"useAssets\": () => (/* binding */ useAssets)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _util_useQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/useQuery */ \"./src/util/useQuery.tsx\");\n/* harmony import */ var _util_useRequestAnimationFrame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/useRequestAnimationFrame */ \"./src/util/useRequestAnimationFrame.ts\");\n/* harmony import */ var _webgl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl */ \"./src/effects/webgl.ts\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null)\r\n    return; var _arr = []; var _n = true; var _d = false; var _s, _e; try {\r\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n        _arr.push(_s.value);\r\n        if (i && _arr.length === i)\r\n            break;\r\n    }\r\n}\r\ncatch (err) {\r\n    _d = true;\r\n    _e = err;\r\n}\r\nfinally {\r\n    try {\r\n        if (!_n && _i[\"return\"] != null)\r\n            _i[\"return\"]();\r\n    }\r\n    finally {\r\n        if (_d)\r\n            throw _e;\r\n    }\r\n} return _arr; }\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr))\r\n    return arr; }\r\n\r\n\r\n\r\n\r\nvar useRenderDef = function useRenderDef() {\r\n    var _useQueryJson = (0,_util_useQuery__WEBPACK_IMPORTED_MODULE_1__.useQueryJson)(\"pattern\", []), _useQueryJson2 = _slicedToArray(_useQueryJson, 2), pattern = _useQueryJson2[0], setPattern = _useQueryJson2[1];\r\n    var _useQueryNumber = (0,_util_useQuery__WEBPACK_IMPORTED_MODULE_1__.useQueryNumber)(\"speed\", 1), _useQueryNumber2 = _slicedToArray(_useQueryNumber, 2), speed = _useQueryNumber2[0], setSpeed = _useQueryNumber2[1];\r\n    var _useQueryNumber3 = (0,_util_useQuery__WEBPACK_IMPORTED_MODULE_1__.useQueryNumber)(\"fps\", 60), _useQueryNumber4 = _slicedToArray(_useQueryNumber3, 2), fps = _useQueryNumber4[0], setFps = _useQueryNumber4[1];\r\n    var _useQueryNumber5 = (0,_util_useQuery__WEBPACK_IMPORTED_MODULE_1__.useQueryNumber)(\"total-frames\", fps), _useQueryNumber6 = _slicedToArray(_useQueryNumber5, 2), totalFrames = _useQueryNumber6[0], setTotalFrames = _useQueryNumber6[1];\r\n    var _useQueryJson3 = (0,_util_useQuery__WEBPACK_IMPORTED_MODULE_1__.useQueryJson)(\"screen\", [1280, 720]), _useQueryJson4 = _slicedToArray(_useQueryJson3, 2), resolution = _useQueryJson4[0], setResolution = _useQueryJson4[1];\r\n    var def = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\r\n        return {\r\n            pattern: pattern,\r\n            speed: speed,\r\n            fps: fps,\r\n            totalFrames: totalFrames,\r\n            resolution: resolution\r\n        };\r\n    }, [pattern, speed, fps, totalFrames, resolution]);\r\n    return [def, function (def) {\r\n            setPattern(def.pattern);\r\n            setSpeed(def.speed);\r\n            setFps(def.fps);\r\n            setTotalFrames(def.totalFrames);\r\n            setResolution(def.resolution);\r\n        }];\r\n};\r\nvar useRenderToCanvas = function useRenderToCanvas(target, _ref) {\r\n    var enable = _ref.enable, def = _ref.def, assets = _ref.assets;\r\n    var lastUpdate = react__WEBPACK_IMPORTED_MODULE_0__.useRef(performance.now());\r\n    var frame = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\r\n    (0,_util_useRequestAnimationFrame__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(function () {\r\n        var last = lastUpdate.current;\r\n        var now = performance.now();\r\n        var frameLength = 1.0 / def.fps;\r\n        var delta = (now - last) / 1000;\r\n        if (delta < frameLength) {\r\n            return;\r\n        }\r\n        while (delta >= frameLength / def.speed) {\r\n            frame.current = frame.current + 1;\r\n            delta = delta - frameLength / def.speed;\r\n        }\r\n        lastUpdate.current = performance.now() - delta;\r\n        var actualFrame = def.totalFrames > 0 ? frame.current % def.totalFrames : frame.current;\r\n        if (target != null && assets != null) {\r\n            (0,_webgl__WEBPACK_IMPORTED_MODULE_3__.render)(target, def.pattern, actualFrame, assets, {\r\n                fps: def.fps\r\n            });\r\n        }\r\n    }, [enable, def, assets, target]);\r\n};\r\nfunction useAssets(def) {\r\n    var assets = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\r\n        return (0,_webgl__WEBPACK_IMPORTED_MODULE_3__.extractUsedShaders)(def.pattern);\r\n    }, [def.pattern]);\r\n    var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState({}), _React$useState2 = _slicedToArray(_React$useState, 2), shaders = _React$useState2[0], setShaders = _React$useState2[1];\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\r\n        var abort = false;\r\n        (0,_webgl__WEBPACK_IMPORTED_MODULE_3__.loadShaderAssets)(def.resolution, assets).then(function (result) {\r\n            if (!abort) {\r\n                setShaders(result);\r\n            }\r\n        });\r\n        return function () {\r\n            abort = true;\r\n        };\r\n    }, [def.resolution, assets.join(\"|\")]);\r\n    return {\r\n        shaders: shaders\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/effects/webgl/webgl.react.tsx?");

/***/ }),

/***/ "./src/util/defer.ts":
/*!***************************!*\
  !*** ./src/util/defer.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"delay\": () => (/* binding */ delay)\n/* harmony export */ });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try {\r\n    var info = gen[key](arg);\r\n    var value = info.value;\r\n}\r\ncatch (error) {\r\n    reject(error);\r\n    return;\r\n} if (info.done) {\r\n    resolve(value);\r\n}\r\nelse {\r\n    Promise.resolve(value).then(_next, _throw);\r\n} }\r\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\r\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(callback, opt) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (opt !== null && opt !== void 0 && opt.active) {\r\n            requestAnimationFrame(/*#__PURE__*/ _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee() {\r\n                return regeneratorRuntime.wrap(function _callee$(_context) {\r\n                    while (1) {\r\n                        switch (_context.prev = _context.next) {\r\n                            case 0:\r\n                                if (!callback) {\r\n                                    _context.next = 3;\r\n                                    break;\r\n                                }\r\n                                _context.next = 3;\r\n                                return callback();\r\n                            case 3:\r\n                                resolve();\r\n                            case 4:\r\n                            case \"end\":\r\n                                return _context.stop();\r\n                        }\r\n                    }\r\n                }, _callee);\r\n            })));\r\n        }\r\n        else {\r\n            setTimeout(/*#__PURE__*/ _asyncToGenerator(/*#__PURE__*/ regeneratorRuntime.mark(function _callee2() {\r\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\r\n                    while (1) {\r\n                        switch (_context2.prev = _context2.next) {\r\n                            case 0:\r\n                                if (!callback) {\r\n                                    _context2.next = 3;\r\n                                    break;\r\n                                }\r\n                                _context2.next = 3;\r\n                                return callback();\r\n                            case 3:\r\n                                resolve();\r\n                            case 4:\r\n                            case \"end\":\r\n                                return _context2.stop();\r\n                        }\r\n                    }\r\n                }, _callee2);\r\n            })), 0);\r\n        }\r\n    });\r\n}\r\nfunction delay(ms) {\r\n    return new Promise(function (resolve) {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack:///./src/util/defer.ts?");

/***/ }),

/***/ "./src/util/random.ts":
/*!****************************!*\
  !*** ./src/util/random.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"random_int32\": () => (/* binding */ random_int32),\n/* harmony export */   \"default\": () => (/* binding */ random),\n/* harmony export */   \"hash\": () => (/* binding */ hash)\n/* harmony export */ });\nfunction random_int32(seed, n) {\r\n    n = n | 0;\r\n    seed = seed;\r\n    var rshift = function rshift(j, n) {\r\n        return n ^ n >> j;\r\n    };\r\n    var lshift = function lshift(j, n) {\r\n        return n ^ n << j;\r\n    };\r\n    n = n * 0xb5297a4d;\r\n    n = n + seed;\r\n    n = rshift(8, n);\r\n    n = n + 0x68e31da4;\r\n    n = lshift(8, n);\r\n    n = n * 0x1b56c4e9;\r\n    n = rshift(8, n);\r\n    return n;\r\n}\r\nfunction random(seed, n) {\r\n    return ((random_int32(seed, n) & 0x000fff00) >> 8) / 0x00000fff;\r\n}\r\nfunction hash(value) {\r\n    var hash = 0;\r\n    var i = 0;\r\n    var chr = 0;\r\n    if (value.length === 0)\r\n        return hash;\r\n    for (i = 0; i < value.length; i++) {\r\n        chr = value.charCodeAt(i);\r\n        hash = (hash << 5) - hash + chr;\r\n        hash |= 0;\r\n    }\r\n    return hash;\r\n}\r\n\n\n//# sourceURL=webpack:///./src/util/random.ts?");

/***/ }),

/***/ "./src/util/useRequestAnimationFrame.ts":
/*!**********************************************!*\
  !*** ./src/util/useRequestAnimationFrame.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useRequestAnimationFrame)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o)\r\n    return; if (typeof o === \"string\")\r\n    return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor)\r\n    n = o.constructor.name; if (n === \"Map\" || n === \"Set\")\r\n    return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\r\n    return _arrayLikeToArray(o, minLen); }\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\r\n    return Array.from(iter); }\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr))\r\n    return _arrayLikeToArray(arr); }\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length)\r\n    len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) {\r\n    arr2[i] = arr[i];\r\n} return arr2; }\r\n\r\nfunction useRequestAnimationFrame(callback) {\r\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\r\n    var fn = react__WEBPACK_IMPORTED_MODULE_0__.useRef(callback);\r\n    var frame = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\r\n        fn.current = callback;\r\n    }, [callback].concat(_toConsumableArray(props)));\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\r\n        var cancel = false;\r\n        var id = 0;\r\n        id = requestAnimationFrame(function loop() {\r\n            if (cancel) {\r\n                return;\r\n            }\r\n            if (fn.current) {\r\n                fn.current(frame.current);\r\n                frame.current = frame.current + 1;\r\n            }\r\n            id = requestAnimationFrame(loop);\r\n        });\r\n        return function () {\r\n            cancelAnimationFrame(id);\r\n            cancel = true;\r\n        };\r\n    }, []);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/util/useRequestAnimationFrame.ts?");

/***/ })

}]);